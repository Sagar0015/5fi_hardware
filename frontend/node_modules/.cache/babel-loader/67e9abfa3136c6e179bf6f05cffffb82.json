{"ast":null,"code":"(function (a, b) {\n  if ('function' == typeof define && define.amd) define(['exports', 'react', 'prop-types', './styled-elements'], b);else if ('undefined' != typeof exports) b(exports, require('react'), require('prop-types'), require('./styled-elements'));else {\n    var c = {\n      exports: {}\n    };\n    b(c.exports, a.React, a.propTypes, a.styledElements), a.index = c.exports;\n  }\n})(this, function (a, b, c, d) {\n  'use strict';\n\n  function e(a) {\n    return a && a.__esModule ? a : {\n      default: a\n    };\n  }\n  function f(a, b) {\n    if (!(a instanceof b)) throw new TypeError('Cannot call a class as a function');\n  }\n  function g(a, b) {\n    if (!a) throw new ReferenceError('this hasn\\'t been initialised - super() hasn\\'t been called');\n    return b && ('object' == typeof b || 'function' == typeof b) ? b : a;\n  }\n  function h(a, b) {\n    if ('function' != typeof b && null !== b) throw new TypeError('Super expression must either be null or a function, not ' + typeof b);\n    a.prototype = Object.create(b && b.prototype, {\n      constructor: {\n        value: a,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0\n      }\n    }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b);\n  }\n  function i(a) {\n    var b = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : '',\n      c = 2 < a.length ? '' + a[a.length - 2] : '';\n    return 0 !== c.indexOf(b + '> ') && (c = 'bash'), c.replace(b + '> ', '').split(' ')[0];\n  }\n  Object.defineProperty(a, '__esModule', {\n    value: !0\n  });\n  var j,\n    k,\n    l = e(b),\n    m = e(c),\n    n = Object.assign || function (a) {\n      for (var b, c = 1; c < arguments.length; c++) for (var d in b = arguments[c], b) Object.prototype.hasOwnProperty.call(b, d) && (a[d] = b[d]);\n      return a;\n    },\n    o = function () {\n      function a(a, b) {\n        for (var c, d = 0; d < b.length; d++) c = b[d], c.enumerable = c.enumerable || !1, c.configurable = !0, 'value' in c && (c.writable = !0), Object.defineProperty(a, c.key, c);\n      }\n      return function (b, c, d) {\n        return c && a(b.prototype, c), d && a(b, d), b;\n      };\n    }(),\n    p = (k = j = function (a) {\n      function b() {\n        var a, c, d, e;\n        f(this, b);\n        for (var h = arguments.length, i = Array(h), j = 0; j < h; j++) i[j] = arguments[j];\n        return e = (c = (d = g(this, (a = b.__proto__ || Object.getPrototypeOf(b)).call.apply(a, [this].concat(i))), d), d.state = {\n          showingPlus: !1,\n          mouseOver: !1\n        }, d.handleBarClick = function (a) {\n          a.stopPropagation(), d.props.createTab();\n        }, d.handleTabClick = function (a, b) {\n          a.preventDefault(), a.stopPropagation(), d.props.setActiveTab(b);\n        }, d.handleRemoveClick = function (a, b, c) {\n          return a.preventDefault(), a.stopPropagation(), d.props.removeTab(b, c.props.id), !1;\n        }, d.removePlus = function () {\n          d.state.showingPlus && d.setState({\n            showingPlus: !1\n          });\n        }, d.showPlus = function () {\n          d.state.showingPlus || d.setState({\n            showingPlus: !0\n          });\n        }, c), g(d, e);\n      }\n      return h(b, a), o(b, [{\n        key: 'render',\n        value: function () {\n          var a = this,\n            b = this.state.showingPlus,\n            c = this.props,\n            e = c.style,\n            f = c.active,\n            g = this.context.instances.map(function (b) {\n              var c = b.index,\n                g = b.instance,\n                e = g && g.state ? i(g.state.summary, g.state.promptPrefix) : 'bash';\n              return l.default.createElement(d.Tab, {\n                key: c,\n                active: f === c,\n                onClick: function (b) {\n                  return a.handleTabClick(b, c);\n                },\n                onFocus: function (b) {\n                  return a.handleTabClick(b, c);\n                },\n                title: e,\n                tabIndex: 0\n              }, 1 < a.context.instances.length && l.default.createElement(d.TabClose, {\n                title: 'Close Tab',\n                onMouseDown: function (b) {\n                  return a.handleRemoveClick(b, c, g);\n                }\n              }, 'x'), e);\n            });\n          return l.default.createElement(d.TabBar, {\n            style: n({}, e, this.context.maximise ? {\n              maxWidth: '100%'\n            } : {})\n          }, g, l.default.createElement(d.TabBarEmpty, {\n            onMouseEnter: this.showPlus,\n            onMouseLeave: this.removePlus\n          }, l.default.createElement(d.TabPlus, {\n            visible: b,\n            onClick: this.handleBarClick\n          }, '+')));\n        }\n      }]), b;\n    }(b.Component), j.displayName = 'Tabs', j.propTypes = {\n      style: m.default.object,\n      active: m.default.string,\n      setActiveTab: m.default.func,\n      removeTab: m.default.func,\n      createTab: m.default.func\n    }, j.defaultProps = {\n      style: {}\n    }, j.contextTypes = {\n      instances: m.default.array,\n      maximise: m.default.bool\n    }, k);\n  a.default = p;\n});","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAIA,cAA6B;IAAA,yEAAJ,EAAI;MACvBA,IAAoB,CAAb,KAAIC,MAAJ,QAAoBC,EAAIA,EAAID,MAAJ,GAAa,CAAjB,CAApB,GAA4C,EAD5B;IAK3B,OAHiC,CAA7B,OAAKE,OAAL,UAGJ,KAFEH,IAAO,MAET,GAAOA,EAAKI,OAAL,WAAyB,EAAzB,EAA6BC,KAA7B,CAAmC,GAAnC,EAAwC,CAAxC,CACR;EAAA;;;;;;;;;;;;;;;;;;;;;;;;;2HAsBCC,K,GAAQ;UACNC,eADM;UAENC;QAFM,C,IAKRC,c,GAAiB,aAAO;UACtBP,EAAEQ,eAAF,EADsB,EAEtBC,EAAKC,KAAL,CAAWC,SAAX,EACD;QAAA,C,IAGDC,c,GAAiB,gBAAc;UAC7BZ,EAAEa,cAAF,EAD6B,EAE7Bb,EAAEQ,eAAF,EAF6B,EAG7BC,EAAKC,KAAL,CAAWI,YAAX,GACD;QAAA,C,IAGDC,iB,GAAoB,mBAAwB;UAI1C,OAHAf,EAAEa,cAAF,EAGA,EAFAb,EAAEQ,eAAF,EAEA,EADAC,EAAKC,KAAL,CAAWM,SAAX,IAA4BlB,EAASY,KAAT,CAAeO,EAA3C,CACA,IACD;QAAA,C,IAEDC,U,GAAa,YAAM;UACbT,EAAKL,KAAL,CAAWC,WADE,IAEfI,EAAKU,QAAL,CAAc;YAAEd;UAAF,CAAd,CAEH;QAAA,C,IAEDe,Q,GAAW,YAAM;UACVX,EAAKL,KAAL,CAAWC,WADD,IAEbI,EAAKU,QAAL,CAAc;YAAEd;UAAF,CAAd,CAEH;QAAA,C;;;;2BAEQ;UAAA;YAAAgB,IACiB,KAAKjB,KADtB,CACCC,WADD;YAAAP,IAEmB,KAAKY,KAFxB;YAAAY,MAECC,KAFD;YAAAC,MAEQC,MAFR;YAGDC,IAAO,KAAKC,OAAL,CAAaC,SAAb,CAAuBC,GAAvB,CAA2B,aAAyB;cAAA,UAAtBC,KAAsB;gBAAAJ,MAAfK,QAAe;gBACzDT,IAASI,KAAYA,EAAStB,KAAtB,GAA+B4B,EAAKN,EAAStB,KAAT,CAAe6B,OAApB,EAA6BP,EAAStB,KAAT,CAAe8B,YAA5C,CAA/B,GAA2F,MAD1C;cAE/D,OACEC;gBACEC,MADF;gBAEEX,QAAQD,OAFV;gBAGEa,SAAS;kBAAA,OAAKrC,EAAKY,cAAL,MAAL;gBAAA,CAHX;gBAIE0B,SAAS;kBAAA,OAAKtC,EAAKY,cAAL,MAAL;gBAAA,CAJX;gBAKE2B,QALF;gBAMEC,UAAU;cANZ,GAQmC,CAAhC,KAAKb,OAAL,CAAaC,SAAb,CAAuB7B,MAAvB,IACCoC;gBACEI,OAAM,WADR;gBAEEE,aAAa;kBAAA,OAAKzC,EAAKe,iBAAL,SAAL;gBAAA;cAFf,OATJ,IAiBH;YAAA,CApBY,CAHN;UAyBP,OACEoB;YACEZ,gBAEM,KAAKI,OAAL,CAAae,QAAb,GAAwB;cAAEC,UAAU;YAAZ,CAAxB,KAFN;UADF,MAOER;YACES,cAAc,KAAKxB,QADrB;YAEEyB,cAAc,KAAK3B;UAFrB,GAIEiB;YACEW,UADF;YAEET,SAAS,KAAK9B;UAFhB,OAJF,CAPF,CAmBH;QAAA;;sBArGMwC,W,GAAc,M,IAEdC,S,GAAY;MACjBzB,OAAO0B,UAAUC,MADA;MAEjBzB,QAAQwB,UAAUE,MAFD;MAGjBrC,cAAcmC,UAAUG,IAHP;MAIjBpC,WAAWiC,UAAUG,IAJJ;MAKjBzC,WAAWsC,UAAUG;IALJ,C,IAQZC,Y,GAAe;MACpB9B;IADoB,C,IAIf+B,Y,GAAe;MACpB1B,WAAWqB,UAAUM,KADD;MAEpBb,UAAUO,UAAUO;IAFA,C","names":["c","length","a","indexOf","replace","split","state","showingPlus","mouseOver","handleBarClick","stopPropagation","d","props","createTab","handleTabClick","preventDefault","setActiveTab","handleRemoveClick","removeTab","id","removePlus","setState","showPlus","b","e","style","f","active","g","context","instances","map","index","instance","i","summary","promptPrefix","l","key","onClick","onFocus","title","tabIndex","onMouseDown","maximise","maxWidth","onMouseEnter","onMouseLeave","visible","displayName","propTypes","m","object","string","func","defaultProps","contextTypes","array","bool"],"sources":["../../../../src/js/components/Tabs/index.js"],"sourcesContent":["import React, {Component} from 'react'; // eslint-disable-line\nimport PropTypes from 'prop-types';\nimport { Tab, TabBar, TabBarEmpty, TabClose, TabPlus } from './styled-elements';\n\nfunction last(arr, pre = '') {\n  let base = arr.length > 2 ? `${arr[arr.length - 2]}` : '';\n  if (base.indexOf(`${pre}> `) !== 0) {\n    base = 'bash';\n  }\n  return base.replace(`${pre}> `, '').split(' ')[0];\n}\n\nclass Tabs extends Component {\n  static displayName = 'Tabs';\n\n  static propTypes = {\n    style: PropTypes.object, // eslint-disable-line\n    active: PropTypes.string,\n    setActiveTab: PropTypes.func,\n    removeTab: PropTypes.func,\n    createTab: PropTypes.func,\n  };\n\n  static defaultProps = {\n    style: {},\n  };\n\n  static contextTypes = {\n    instances: PropTypes.array,\n    maximise: PropTypes.bool,\n  };\n\n  state = {\n    showingPlus: false,\n    mouseOver: false,\n  };\n\n  handleBarClick = (e) => {\n    e.stopPropagation();\n    this.props.createTab();\n  };\n\n  // handle clicking a tab\n  handleTabClick = (e, index) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.props.setActiveTab(index);\n  };\n\n  // handle remove clicked\n  handleRemoveClick = (e, index, instance) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.props.removeTab(index, instance.props.id);\n    return false;\n  };\n\n  removePlus = () => {\n    if (this.state.showingPlus) {\n      this.setState({ showingPlus: false });\n    }\n  }\n\n  showPlus = () => {\n    if (!this.state.showingPlus) {\n      this.setState({ showingPlus: true });\n    }\n  }\n\n  render() {\n    const { showingPlus } = this.state;\n    const { style, active } = this.props;\n    const tabs = this.context.instances.map(({ index, instance }) => {\n      const title = (instance && instance.state) ? last(instance.state.summary, instance.state.promptPrefix) : 'bash';\n      return (\n        <Tab\n          key={index}\n          active={active === index}\n          onClick={e => this.handleTabClick(e, index)}\n          onFocus={e => this.handleTabClick(e, index)}\n          title={title}\n          tabIndex={0}\n        >\n          {this.context.instances.length > 1 && (\n            <TabClose\n              title=\"Close Tab\"\n              onMouseDown={e => this.handleRemoveClick(e, index, instance)}\n            >x</TabClose>\n          )}\n          {title}\n        </Tab>\n      );\n    });\n\n    return (\n      <TabBar\n        style={{\n          ...style,\n          ...(this.context.maximise ? { maxWidth: '100%' } : {}),\n        }}\n      >\n        {tabs}\n        <TabBarEmpty\n          onMouseEnter={this.showPlus}\n          onMouseLeave={this.removePlus}\n        >\n          <TabPlus\n            visible={showingPlus}\n            onClick={this.handleBarClick}\n          >+\n          </TabPlus>\n        </TabBarEmpty>\n      </TabBar>\n    );\n  }\n}\n\nexport default Tabs;\n"]},"metadata":{},"sourceType":"script"}