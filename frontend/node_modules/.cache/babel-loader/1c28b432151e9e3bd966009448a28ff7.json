{"ast":null,"code":"function getResponse(xhr) {\n  var text = xhr.responseText || xhr.response;\n  if (!text) {\n    return text;\n  }\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\nexport default function ajaxUpload(options) {\n  var name = options.name,\n    timeout = options.timeout,\n    _options$headers = options.headers,\n    headers = _options$headers === void 0 ? {} : _options$headers,\n    _options$data = options.data,\n    data = _options$data === void 0 ? {} : _options$data,\n    onError = options.onError,\n    onSuccess = options.onSuccess,\n    onProgress = options.onProgress,\n    file = options.file,\n    url = options.url,\n    withCredentials = options.withCredentials;\n  var xhr = new XMLHttpRequest();\n  var formData = new FormData();\n  formData.append(name, file, file.name);\n  xhr.open('POST', url, true);\n  Object.keys(data).forEach(function (key) {\n    return formData.append(key, data[key]);\n  });\n  Object.keys(headers).forEach(function (key) {\n    if (headers[key] !== null) {\n      xhr.setRequestHeader(key, headers[key]);\n    }\n  });\n  if (headers['X-Requested-With'] !== null) {\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n  }\n  if (timeout) {\n    xhr.timeout = timeout;\n    xhr.ontimeout = function (event) {\n      onError({\n        type: 'timeout'\n      }, event, xhr);\n    };\n  }\n  if (withCredentials && 'withCredentials' in xhr) {\n    xhr.withCredentials = true;\n  }\n  xhr.onload = function (event) {\n    var resp = getResponse(xhr);\n    if (xhr.status < 200 || xhr.status >= 300) {\n      onError({\n        type: 'server_error',\n        response: resp\n      }, event, xhr);\n      return;\n    }\n    onSuccess(resp, event, xhr);\n  };\n  if (xhr.upload) {\n    xhr.upload.onprogress = function (event) {\n      var percent = 0;\n      if (event.lengthComputable) {\n        percent = event.loaded / event.total * 100;\n      }\n      onProgress(percent, event, xhr);\n    };\n  }\n  xhr.onerror = function (event) {\n    onError({\n      type: 'xhr_error'\n    }, event, xhr);\n  };\n  xhr.send(formData);\n  return xhr;\n}","map":{"version":3,"names":["getResponse","xhr","text","responseText","response","JSON","parse","e","ajaxUpload","options","name","timeout","_options$headers","headers","_options$data","data","onError","onSuccess","onProgress","file","url","withCredentials","XMLHttpRequest","formData","FormData","append","open","Object","keys","forEach","key","setRequestHeader","ontimeout","event","type","onload","resp","status","upload","onprogress","percent","lengthComputable","loaded","total","onerror","send"],"sources":["/Users/azminds/Documents/five-g/frontend/node_modules/rsuite/es/utils/ajaxUpload.js"],"sourcesContent":["function getResponse(xhr) {\n  var text = xhr.responseText || xhr.response;\n\n  if (!text) {\n    return text;\n  }\n\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\n\nexport default function ajaxUpload(options) {\n  var name = options.name,\n      timeout = options.timeout,\n      _options$headers = options.headers,\n      headers = _options$headers === void 0 ? {} : _options$headers,\n      _options$data = options.data,\n      data = _options$data === void 0 ? {} : _options$data,\n      onError = options.onError,\n      onSuccess = options.onSuccess,\n      onProgress = options.onProgress,\n      file = options.file,\n      url = options.url,\n      withCredentials = options.withCredentials;\n  var xhr = new XMLHttpRequest();\n  var formData = new FormData();\n  formData.append(name, file, file.name);\n  xhr.open('POST', url, true);\n  Object.keys(data).forEach(function (key) {\n    return formData.append(key, data[key]);\n  });\n  Object.keys(headers).forEach(function (key) {\n    if (headers[key] !== null) {\n      xhr.setRequestHeader(key, headers[key]);\n    }\n  });\n\n  if (headers['X-Requested-With'] !== null) {\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n  }\n\n  if (timeout) {\n    xhr.timeout = timeout;\n\n    xhr.ontimeout = function (event) {\n      onError({\n        type: 'timeout'\n      }, event, xhr);\n    };\n  }\n\n  if (withCredentials && 'withCredentials' in xhr) {\n    xhr.withCredentials = true;\n  }\n\n  xhr.onload = function (event) {\n    var resp = getResponse(xhr);\n\n    if (xhr.status < 200 || xhr.status >= 300) {\n      onError({\n        type: 'server_error',\n        response: resp\n      }, event, xhr);\n      return;\n    }\n\n    onSuccess(resp, event, xhr);\n  };\n\n  if (xhr.upload) {\n    xhr.upload.onprogress = function (event) {\n      var percent = 0;\n\n      if (event.lengthComputable) {\n        percent = event.loaded / event.total * 100;\n      }\n\n      onProgress(percent, event, xhr);\n    };\n  }\n\n  xhr.onerror = function (event) {\n    onError({\n      type: 'xhr_error'\n    }, event, xhr);\n  };\n\n  xhr.send(formData);\n  return xhr;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}