{"ast":null,"code":"(function (a, b) {\n  if ('function' == typeof define && define.amd) define(['exports', '../../args/index', '../../utils'], b);else if ('undefined' != typeof exports) b(exports, require('../../args/index'), require('../../utils'));else {\n    var c = {\n      exports: {}\n    };\n    b(c.exports, a.index, a.utils), a.terminalUtils = c.exports;\n  }\n})(this, function (a, b, c) {\n  'use strict';\n\n  Object.defineProperty(a, '__esModule', {\n    value: !0\n  }), a.os = void 0, a.pluginMap = function (a, b) {\n    return a.map(function (a) {\n      return 'function' == typeof a && (a = {\n        class: a,\n        config: void 0\n      }), a;\n    }).forEach(function (a) {\n      return b(a.class, a.config);\n    });\n  }, a.uuidv4 = function () {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (a) {\n      var b = 0 | 16 * Math.random(),\n        c = 'x' === a ? b : 8 | 3 & b;\n      return c.toString(16);\n    });\n  }, a.getShortcuts = function (a, b) {\n    return 'object' === ('undefined' == typeof b ? 'undefined' : f(b)) && Object.keys(b).forEach(function (c) {\n      var d = c.toLowerCase().replace(/\\s/g, '').split(',');\n      d.forEach(function (d) {\n        d === g && (a = e({}, a, b[c]));\n      });\n    }), a;\n  }, a.modCommands = function (a) {\n    var b = {};\n    return Object.keys(a).forEach(function (c) {\n      var e = !1,\n        g = a[c],\n        h = g,\n        i = function (a) {\n          return a;\n        };\n      if ('undefined' != typeof g) {\n        if ('object' === ('undefined' == typeof g ? 'undefined' : f(g))) {\n          var j = new d.default();\n          if ('undefined' != typeof g.options) try {\n            j.options(g.options);\n          } catch (a) {\n            throw new Error('options for command wrong format');\n          }\n          i = function (a) {\n            return j.parse(a, {\n              name: c,\n              help: !0,\n              version: !1\n            });\n          }, h = g.method, e = g.needsInstance || !1;\n        }\n        b[c] = {\n          parse: i,\n          method: h,\n          needsInstance: e\n        };\n      }\n    }), b;\n  };\n  var d = function (a) {\n      return a && a.__esModule ? a : {\n        default: a\n      };\n    }(b),\n    e = Object.assign || function (a) {\n      for (var b, c = 1; c < arguments.length; c++) for (var d in b = arguments[c], b) Object.prototype.hasOwnProperty.call(b, d) && (a[d] = b[d]);\n      return a;\n    },\n    f = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (a) {\n      return typeof a;\n    } : function (a) {\n      return a && 'function' == typeof Symbol && a.constructor === Symbol && a !== Symbol.prototype ? 'symbol' : typeof a;\n    },\n    g = a.os = (0, c.getOs)();\n});","map":{"version":3,"mappings":";;;;;;;;;;;;uBAKgBA,S,GAAT,gBAAyC;IAC9C,OAAOC,EAAQC,GAAR,CAAY,aAAY;MAO7B,OANsB,UAAlB,YAMJ,KALED,IAAS;QACPE,QADO;QAEPC;MAFO,CAKX,IACD;IAAA,CARM,EAQJC,OARI,CAQI;MAAA,OAAaC,EAAYL,EAAUE,KAAtB,EAA6BF,EAAUG,MAAvC,CAAb;IAAA,CARJ,CASR;EAAA,C,IAEeG,M,GAAT,YAAkB;IACvB,OAAO,uCAAuCC,OAAvC,CAA+C,OAA/C,EAAwD,aAAO;MACpE,IAAMF,IAAyB,CAArB,GAAgB,EAAhB,QAAKG,MAAL,EAAV;QACMC,IAAU,GAAN,aAAiB,SAD3B;MAEA,OAAOA,EAAEC,QAAF,CAAW,EAAX,CACR;IAAA,CAJM,CAKR;EAAA,C,IAEeC,Y,GAAT,gBAAsC;IAc3C,OAbmB,QAAf,mDAaJ,IAZEC,OAAOC,IAAP,IAAiBT,OAAjB,CAAyB,aAAS;MAChC,IAAMU,IAAQL,EAAIM,WAAJ,GAAkBR,OAAlB,CAA0B,KAA1B,EAAiC,EAAjC,EAAqCS,KAArC,CAA2C,GAA3C,CAAd;MACAF,EAAMV,OAAN,CAAc,aAAY;QACpBU,OADoB,KAEtBd,aAEKK,IAFL,CAFsB,CAOzB;MAAA,CAPD,CAQD;IAAA,CAVD,CAYF,GACD;EAAA,C,IAEeY,W,GAAT,aAA+B;IACpC,IAAMZ,MAAN;IAmCA,OAjCAO,OAAOC,IAAP,IAAsBT,OAAtB,CAA8B,aAAU;MACtC,IAAIc,MAAJ;QACMC,IAAanB,IADnB;QAEIoB,KAFJ;QAGIC,IAAQ;UAAA;QAAA,CAHZ;MAIA,IAA0B,WAAtB,YAAJ,EAAuC;QACrC,IAA0B,QAAtB,mDAAJ,EAAoC;UAClC,IAAMC,IAAM,aAAZ;UACA,IAAkC,WAA9B,WAAOH,EAAWI,OAAtB,EACE,IAAI;YACFD,EAAIC,OAAJ,CAAYJ,EAAWI,OAAvB,CACD;UAAA,CAAC,WAAU;YACV,MAAM,IAAIC,KAAJ,CAAU,kCAAV,CACP;UAAA;UAEHH,IAAQ;YAAA,OACNC,EAAIG,KAAJ,IAAa;cACXC,OADW;cAEXC,QAFW;cAGXC;YAHW,CAAb,CADM;UAAA,CAT0B,EAelCR,IAASD,EAAWU,MAfc,EAgBlCX,IAAgBC,EAAWW,aAAX,MACjB;QAAA;QAEDzB,OAAoB;UAClBoB,QADkB;UAElBI,SAFkB;UAGlBC;QAHkB,CAKrB;MAAA;IACF,CA/BD,CAiCA,GACD;EAAA,C;;;;;;;;;;;;;;;IA5EYX,WAAK,c","names":["pluginMap","a","map","class","config","forEach","b","uuidv4","replace","random","c","toString","getShortcuts","Object","keys","d","toLowerCase","split","modCommands","e","g","h","i","j","options","Error","parse","name","help","version","method","needsInstance"],"sources":["../../../../src/js/components/Terminal/terminal-utils.js"],"sourcesContent":["import Command from '../../args/index';\nimport { getOs } from '../../utils';\n\nexport const os = getOs();\n\nexport function pluginMap(plugins, eachHandler) {\n  return plugins.map((plugin) => {\n    if (typeof plugin === 'function') {\n      plugin = {\n        class: plugin,\n        config: undefined,\n      };\n    }\n    return plugin;\n  }).forEach(pluginObj => eachHandler(pluginObj.class, pluginObj.config));\n}\n\nexport function uuidv4() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    const r = Math.random() * 16 | 0; // eslint-disable-line no-bitwise\n    const v = c === 'x' ? r : (r & 0x3 | 0x8); // eslint-disable-line\n    return v.toString(16);\n  });\n}\n\nexport function getShortcuts(shortcuts, obj) {\n  if (typeof obj === 'object') {\n    Object.keys(obj).forEach((key) => {\n      const split = key.toLowerCase().replace(/\\s/g, '').split(',');\n      split.forEach((osName) => {\n        if (osName === os) {\n          shortcuts = {\n            ...shortcuts,\n            ...obj[key],\n          };\n        }\n      });\n    });\n  }\n  return shortcuts;\n}\n\nexport function modCommands(commands) {\n  const newCommands = {};\n\n  Object.keys(commands).forEach((name) => {\n    let needsInstance = false;\n    const definition = commands[name];\n    let method = definition;\n    let parse = i => i;\n    if (typeof definition !== 'undefined') {\n      if (typeof definition === 'object') {\n        const cmd = new Command();\n        if (typeof definition.options !== 'undefined') {\n          try {\n            cmd.options(definition.options);\n          } catch (e) {\n            throw new Error('options for command wrong format');\n          }\n        }\n        parse = i =>\n          cmd.parse(i, {\n            name,\n            help: true,\n            version: false,\n          });\n        method = definition.method;\n        needsInstance = definition.needsInstance || false;\n      }\n\n      newCommands[name] = {\n        parse,\n        method,\n        needsInstance,\n      };\n    }\n  });\n\n  return newCommands;\n}\n"]},"metadata":{},"sourceType":"script"}