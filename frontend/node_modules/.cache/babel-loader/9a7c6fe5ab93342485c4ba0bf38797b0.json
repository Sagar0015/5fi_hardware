{"ast":null,"code":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports', 'react', 'terminal-in-react', 'core-decorators', 'memoizerific', 'lang-map', 'react-syntax-highlighter', 'react-syntax-highlighter/dist/styles', './consts', './db'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('react'), require('terminal-in-react'), require('core-decorators'), require('memoizerific'), require('lang-map'), require('react-syntax-highlighter'), require('react-syntax-highlighter/dist/styles'), require('./consts'), require('./db'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.React, global.terminalInReact, global.coreDecorators, global.memoizerific, global.langMap, global.reactSyntaxHighlighter, global.styles, global.consts, global.db);\n    global.indexDb = mod.exports;\n  }\n})(this, function (exports, _react, _terminalInReact, _coreDecorators, _memoizerific, _langMap, _reactSyntaxHighlighter, _styles, _consts, _db) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = configPlugin;\n  var _react2 = _interopRequireDefault(_react);\n  var _memoizerific2 = _interopRequireDefault(_memoizerific);\n  var _langMap2 = _interopRequireDefault(_langMap);\n  var _reactSyntaxHighlighter2 = _interopRequireDefault(_reactSyntaxHighlighter);\n  var syntaxStyles = _interopRequireWildcard(_styles);\n  var _db2 = _interopRequireDefault(_db);\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    } else {\n      var newObj = {};\n      if (obj != null) {\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n        }\n      }\n      newObj.default = obj;\n      return newObj;\n    }\n  }\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n    var desc = {};\n    Object['ke' + 'ys'](descriptor).forEach(function (key) {\n      desc[key] = descriptor[key];\n    });\n    desc.enumerable = !!desc.enumerable;\n    desc.configurable = !!desc.configurable;\n    if ('value' in desc || desc.initializer) {\n      desc.writable = true;\n    }\n    desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n      return decorator(target, property, desc) || desc;\n    }, desc);\n    if (context && desc.initializer !== void 0) {\n      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n      desc.initializer = undefined;\n    }\n    if (desc.initializer === void 0) {\n      Object['define' + 'Property'](target, property, desc);\n      desc = null;\n    }\n    return desc;\n  }\n  function _toConsumableArray(arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n        arr2[i] = arr[i];\n      }\n      return arr2;\n    } else {\n      return Array.from(arr);\n    }\n  }\n  var _slicedToArray = function () {\n    function sliceIterator(arr, i) {\n      var _arr = [];\n      var _n = true;\n      var _d = false;\n      var _e = undefined;\n      try {\n        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n          _arr.push(_s.value);\n          if (i && _arr.length === i) break;\n        }\n      } catch (err) {\n        _d = true;\n        _e = err;\n      } finally {\n        try {\n          if (!_n && _i[\"return\"]) _i[\"return\"]();\n        } finally {\n          if (_d) throw _e;\n        }\n      }\n      return _arr;\n    }\n    return function (arr, i) {\n      if (Array.isArray(arr)) {\n        return arr;\n      } else if (Symbol.iterator in Object(arr)) {\n        return sliceIterator(arr, i);\n      } else {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n      }\n    };\n  }();\n  var HOME_PATH = ['', 'home', 'user'];\n  function last(ary) {\n    return ary[ary.length - 1];\n  }\n  function parentFolderPath(path) {\n    var len = path.length;\n    if (len - 1 <= 0) {\n      return {\n        parts: [],\n        isRoot: true,\n        isDir: true\n      };\n    }\n    return {\n      parts: path.slice(0, len - 1),\n      isRoot: true,\n      isDir: true\n    };\n  }\n  function configPlugin() {\n    var _dec, _class, _desc, _value, _class2, _class3, _temp;\n    var pathSeporator = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '/';\n    var clearDbOnStart = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var _dbCreator = (0, _db2.default)(pathSeporator, clearDbOnStart),\n      _dbCreator2 = _slicedToArray(_dbCreator, 3),\n      db = _dbCreator2[0],\n      Folder = _dbCreator2[1],\n      File = _dbCreator2[2];\n    function pathFromArgs(args) {\n      var dir = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var path = args._.join(' ').trim();\n      if (dir && last(path) !== pathSeporator) {\n        path += pathSeporator;\n      } else if (!dir && last(path) === pathSeporator) {\n        path = path.slice(0, path.length - 1);\n      }\n      return path;\n    }\n    function toStringPath(path) {\n      var stringParts = [].concat(_toConsumableArray(path.parts));\n      if (path.isDir) {\n        stringParts.push('');\n      }\n      if (path.isRoot) {\n        stringParts.unshift('');\n      }\n      return stringParts.join(pathSeporator);\n    }\n    function editOrCreateFolder(parent, name) {\n      db.folders.where('fullPath').equals(parent.fullPath + name + pathSeporator).count(function (count) {\n        if (count === 0) {\n          db.folders.add(new Folder(name, parent));\n        }\n      });\n    }\n    function editOrCreateFile(parent, name, content) {\n      var split = name.split('.');\n      var extention = last(split);\n      var filename = split.slice(0, split.length - 1).join('.');\n      db.files.where('fullPath').equals(parent.fullPath + name).first(function (file) {\n        if (typeof file === 'undefined') {\n          db.files.add(new File(filename, extention, parent, content));\n        } else {\n          file.setContents(content);\n        }\n      });\n    }\n    function getFolder(path, cb) {\n      var fullPath = toStringPath(path);\n      db.folders.where('fullPath').equals(fullPath).first(cb);\n    }\n    function getFile(path, cb) {\n      var fullPath = toStringPath(path);\n      db.files.where('fullPath').equals(fullPath).first(cb);\n    }\n    function modifyFileSystem(_ref, data) {\n      var parts = _ref.parts,\n        isDir = _ref.isDir;\n      if (parts.length > 0) {\n        getFolder(parentFolderPath(parts), function (parent) {\n          if (isDir) {\n            editOrCreateFolder(parent, last(parts));\n          } else {\n            editOrCreateFile(parent, last(parts), data);\n          }\n        });\n      }\n    }\n    function _getContents(path, cb) {\n      var str = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      if (path.isDir) {\n        getFolder(path, function (folder) {\n          if (typeof folder === 'undefined') {\n            cb(null);\n          } else if (str) {\n            db.folders.where('folderId').equals(folder.id).toArray(function (folders) {\n              db.files.where('folderId').equals(folder.id).toArray(function (files) {\n                cb([].concat(_toConsumableArray(folders), _toConsumableArray(files)));\n              });\n            });\n          } else {\n            cb(folder);\n          }\n        });\n      } else {\n        getFile(path, function (file) {\n          if (typeof file === 'undefined') {\n            cb(null);\n          } else if (str) {\n            cb(file.content);\n          } else {\n            cb(file);\n          }\n        });\n      }\n    }\n    function removeFromFileSystem(path) {\n      _getContents(path, function (item) {\n        if (item !== null) {\n          if (path.isDir) {\n            if (!item.isBase) {\n              db.folders.delete(item.id);\n            }\n          } else {\n            db.files.delete(item.id);\n          }\n        }\n      });\n    }\n    var PseudoFileSystem = (_dec = (0, _coreDecorators.decorate)((0, _memoizerific2.default)(500)), (0, _coreDecorators.autobind)(_class = (_class2 = (_temp = _class3 = function (_PluginBase) {\n      _inherits(PseudoFileSystem, _PluginBase);\n      function PseudoFileSystem(api, config) {\n        _classCallCheck(this, PseudoFileSystem);\n        var _this = _possibleConstructorReturn(this, (PseudoFileSystem.__proto__ || Object.getPrototypeOf(PseudoFileSystem)).call(this, api, config));\n        _this.commands = {\n          cd: _this.enterDir(),\n          ls: _this.listDirContents(),\n          rm: _this.removeFromFileSystemCommand(),\n          mkdir: _this.createDirCommand(),\n          touch: _this.createFileCommand(),\n          cat: _this.runCat(),\n          echo: _this.runEcho()\n        };\n        _this.descriptions = {\n          cd: false,\n          ls: false,\n          rm: false,\n          mkdir: false,\n          touch: false,\n          cat: false,\n          echo: false\n        };\n        _this.getPublicMethods = function () {\n          return {\n            parsePath: _this.parsePath,\n            isValidPath: _this.isValidPath,\n            createDir: _this.createDir,\n            createFile: _this.createFile,\n            removeDir: _this.remove,\n            removeFile: _this.remove,\n            readDir: function readDir(path, cb) {\n              return _this.getContents(path, cb, _consts.DIR, true);\n            },\n            readFile: function readFile(path, cb) {\n              return _this.getContents(path, cb, _consts.FILE, true);\n            },\n            writeFile: _this.writeToFile,\n            pathToString: toStringPath,\n            types: {\n              dir: _consts.DIR,\n              file: _consts.FILE\n            }\n          };\n        };\n        _this.currentPath = '';\n        window.commands = _this.getPublicMethods;\n        window.pathFromArgs = pathFromArgs;\n        window.getContents = _getContents;\n        var _ = ['' + pathSeporator + HOME_PATH.join(pathSeporator) + pathSeporator];\n        _this.enterDir().method({\n          _: _\n        });\n        return _this;\n      }\n      _createClass(PseudoFileSystem, [{\n        key: 'doParse',\n        value: function doParse(split, currentPath) {\n          // eslint-disable-line class-methods-use-this\n          var isDir = false;\n          var isRoot = false;\n          var baseIsASymbol = [_consts.CURRENT_DIR, _consts.PARENT_DIR, _consts.HOME_DIR].indexOf(split[0]) > -1;\n          if (split[split.length - 1] === '' || split.length === 1 && baseIsASymbol) {\n            isDir = true;\n          }\n          if (split[0] === '') {\n            isRoot = true;\n          }\n          var modPath = split.filter(function (part) {\n            return part.length !== 0;\n          });\n          if (!isRoot) {\n            if (modPath[0] === _consts.CURRENT_DIR) {\n              modPath = [].concat(_toConsumableArray(currentPath.parts), _toConsumableArray(modPath.slice(1)));\n            } else if (modPath[0] === _consts.HOME_DIR) {\n              modPath = [].concat(HOME_PATH, _toConsumableArray(modPath.slice(1)));\n            } else if (modPath[0] === _consts.PARENT_DIR) {\n              modPath = [].concat(_toConsumableArray(currentPath.parts), _toConsumableArray(modPath));\n            }\n          }\n          if (baseIsASymbol) {\n            isRoot = true;\n          }\n          for (var i = 0; i < modPath.length; i += 1) {\n            if (modPath[i] === _consts.CURRENT_DIR) {\n              modPath[i] = '';\n            } else if (modPath[i] === _consts.PARENT_DIR) {\n              if (i - 1 >= 0) {\n                modPath[i - 1] = '';\n              }\n              modPath[i] = '';\n            }\n          }\n          modPath = modPath.filter(function (part) {\n            return part.length !== 0;\n          });\n          return {\n            parts: modPath,\n            isRoot: isRoot,\n            isDir: isDir\n          };\n        }\n      }, {\n        key: 'parsePath',\n        value: function parsePath(path) {\n          var split = path.split(pathSeporator);\n          if (['', _consts.CURRENT_DIR, _consts.PARENT_DIR, _consts.HOME_DIR].indexOf(split[0]) < 0) {\n            split.unshift('.');\n          }\n          return this.doParse(split, this.currentPath);\n        }\n      }, {\n        key: 'isValidPath',\n        value: function isValidPath(path, cb) {\n          var _this2 = this;\n          var handleRes = function handleRes(res) {\n            if (typeof res === 'undefined') {\n              _this2.api.printLine('Not a valid path: ' + toStringPath(path));\n              cb(false);\n            } else {\n              cb(true);\n            }\n          };\n          if (path.isDir) {\n            getFolder(path, handleRes);\n          } else {\n            getFile(path, handleRes);\n          }\n        }\n      }, {\n        key: 'getContents',\n        value: function getContents(path, cb, type) {\n          var str = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n          if (type === _consts.DIR && path.isDir || type === _consts.FILE && !path.isDir) {\n            this.isValidPath(path, function (valid) {\n              if (valid) {\n                _getContents(path, cb, str);\n              } else {\n                cb(null);\n              }\n            });\n          } else {\n            cb(null);\n          }\n        }\n      }, {\n        key: 'enterDir',\n        value: function enterDir() {\n          var _this3 = this;\n          return {\n            method: function method(args) {\n              if (args._.length > 0) {\n                var newPath = _this3.parsePath(pathFromArgs(args, true));\n                _this3.isValidPath(newPath, function (valid) {\n                  if (valid) {\n                    _this3.currentPath = newPath;\n                    _this3.api.setPromptPrefix(toStringPath(_this3.currentPath) + ' ');\n                  }\n                });\n              }\n            }\n          };\n        }\n      }, {\n        key: 'createDirCommand',\n        value: function createDirCommand() {\n          var _this4 = this;\n          return {\n            method: function method(args) {\n              if (args._.length > 0) {\n                var path = _this4.parsePath(pathFromArgs(args, true));\n                _this4.createDir(path);\n              }\n            }\n          };\n        }\n      }, {\n        key: 'createDir',\n        value: function createDir(path) {\n          this.isValidPath(parentFolderPath(path.parts), function (valid) {\n            if (valid) {\n              modifyFileSystem(path);\n            }\n          });\n        }\n      }, {\n        key: 'createFileCommand',\n        value: function createFileCommand() {\n          var _this5 = this;\n          return {\n            method: function method(args) {\n              if (args._.length > 0) {\n                var path = _this5.parsePath(pathFromArgs(args));\n                _this5.createFile(path);\n              }\n            }\n          };\n        }\n      }, {\n        key: 'createFile',\n        value: function createFile(path) {\n          this.isValidPath(parentFolderPath(path.parts), function (valid) {\n            if (valid) {\n              modifyFileSystem(path, '');\n            }\n          });\n        }\n      }, {\n        key: 'remove',\n        value: function remove(path) {\n          this.validPath(path, function (valid) {\n            if (valid) {\n              removeFromFileSystem(path);\n            }\n          });\n        }\n      }, {\n        key: 'removeFromFileSystemCommand',\n        value: function removeFromFileSystemCommand() {\n          var _this6 = this;\n          return {\n            method: function method(args) {\n              if (args._.length > 0) {\n                var path = _this6.parsePath(args._.join(' ').trim());\n                _this6.validPath(path, function (valid) {\n                  if (valid) {\n                    if (path.isDir) {\n                      _this6.getContents(path, function (contents) {\n                        if (contents.length > 0 && !args.recursive) {\n                          _this6.api.printLine(toStringPath(path) + ' is not empty');\n                        } else if (contents.length > 0 && !args.force) {\n                          _this6.api.printLine(toStringPath(path) + ' is not empty');\n                        } else {\n                          _this6.remove(path);\n                        }\n                      }, _consts.DIR, true);\n                    } else {\n                      _this6.remove(path);\n                    }\n                  }\n                });\n              }\n            },\n            options: [{\n              name: 'recursive',\n              description: 'Each item in the folder as well',\n              defaultValue: false\n            }, {\n              name: 'force',\n              description: 'Force the delete',\n              defaultValue: false\n            }]\n          };\n        }\n      }, {\n        key: 'runCat',\n        value: function runCat() {\n          var _this7 = this;\n          return {\n            method: function method(args) {\n              if (args._.length > 0) {\n                var split = args._;\n                if (args._.indexOf('>>') > 0) {\n                  split = args._.join(' ').split('>>');\n                }\n                var pathA = _this7.parsePath(pathFromArgs({\n                  _: split[0].split(' ')\n                }));\n                _this7.getContents(pathA, function (fileA) {\n                  if (fileA !== null) {\n                    if (args._.indexOf('>>') > 0) {\n                      var pathB = _this7.parsePath(pathFromArgs({\n                        _: split[1].split(' ')\n                      }));\n                      _this7.writeToFile(pathB, fileA.content, {\n                        flag: 'a'\n                      });\n                    } else {\n                      var lang = _langMap2.default.languages(fileA.extention || '')[0];\n                      _this7.api.printLine(_react2.default.createElement(_reactSyntaxHighlighter2.default, {\n                        language: lang,\n                        style: syntaxStyles[lang]\n                      }, fileA.content));\n                    }\n                  }\n                }, _consts.FILE);\n              }\n            }\n          };\n        }\n      }, {\n        key: 'runEcho',\n        value: function runEcho() {\n          var _this8 = this;\n          return {\n            method: function method(args) {\n              if (args._.length > 0) {\n                if (args._.indexOf('>>') > -1) {\n                  var split = args._.join(' ').split(' >> ');\n                  var path = _this8.parsePath(pathFromArgs({\n                    _: split[1].split(' ')\n                  }));\n                  _this8.writeToFile(path, split[0], {\n                    flag: 'a'\n                  });\n                } else {\n                  _this8.api.printLine(args._.join(' '));\n                }\n              }\n            }\n          };\n        }\n      }, {\n        key: 'writeToFile',\n        value: function writeToFile(path) {\n          var _this9 = this;\n          var contents = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n          var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n            flag: 'w'\n          };\n          this.isValidPath(path, function (valid) {\n            if (valid) {\n              _this9.getContents(path, function (file) {\n                if (file !== null) {\n                  var content = file;\n                  if (options.flag === 'w') {\n                    content = '' + contents;\n                  } else if (options.flag === 'a') {\n                    content += '\\n' + contents;\n                  }\n                  modifyFileSystem(path, content);\n                }\n              }, _consts.FILE, true);\n            }\n          });\n        }\n      }, {\n        key: 'listDirContents',\n        value: function listDirContents() {\n          var _this10 = this;\n          return {\n            method: function method(args) {\n              var path = _this10.parsePath(pathFromArgs({\n                _: args._.length > 0 ? args._ : ['.']\n              }, true));\n              if (path.isDir) {\n                _this10.getContents(path, function (dir) {\n                  if (dir !== null) {\n                    var contents = [{\n                      path: '.',\n                      type: _consts.DIR\n                    }, {\n                      path: '..',\n                      type: _consts.DIR\n                    }].concat(_toConsumableArray(dir));\n                    _this10.api.printLine(_react2.default.createElement('span', null, contents.map(function (item) {\n                      var styles = {\n                        color: '#bdc3c7',\n                        marginRight: 5,\n                        width: 'calc(33% - 5px)',\n                        display: 'inline-block'\n                      };\n                      if (contents.length > 3) {\n                        styles.marginBottom = 5;\n                      }\n                      if (item.type === _consts.DIR) {\n                        styles.color = '#2980b9';\n                      }\n                      return _react2.default.createElement('span', {\n                        style: styles,\n                        title: item.type.toUpperCase(),\n                        key: item.fullPath + '-' + item.type\n                      }, item.type === _consts.DIR ? item.path : item.getFullName());\n                    })));\n                  }\n                }, _consts.DIR, true);\n              }\n            }\n          };\n        }\n      }]);\n      return PseudoFileSystem;\n    }(_terminalInReact.PluginBase), _class3.displayName = _consts.displayName, _class3.version = _consts.version, _temp), _applyDecoratedDescriptor(_class2.prototype, 'doParse', [_dec], Object.getOwnPropertyDescriptor(_class2.prototype, 'doParse'), _class2.prototype), _class2)) || _class);\n    return PseudoFileSystem;\n  }\n});","map":{"version":3,"names":["global","factory","define","amd","exports","require","mod","React","terminalInReact","coreDecorators","memoizerific","langMap","reactSyntaxHighlighter","styles","consts","db","indexDb","_react","_terminalInReact","_coreDecorators","_memoizerific","_langMap","_reactSyntaxHighlighter","_styles","_consts","_db","Object","defineProperty","value","default","configPlugin","_react2","_interopRequireDefault","_memoizerific2","_langMap2","_reactSyntaxHighlighter2","syntaxStyles","_interopRequireWildcard","_db2","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","protoProps","staticProps","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_applyDecoratedDescriptor","property","decorators","context","desc","forEach","initializer","slice","reverse","reduce","decorator","undefined","_toConsumableArray","arr","Array","isArray","arr2","from","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_i","Symbol","iterator","_s","next","done","push","err","HOME_PATH","last","ary","parentFolderPath","path","len","parts","isRoot","isDir","_dec","_class","_desc","_value","_class2","_class3","_temp","pathSeporator","arguments","clearDbOnStart","_dbCreator","_dbCreator2","Folder","File","pathFromArgs","args","dir","_","join","trim","toStringPath","stringParts","concat","unshift","editOrCreateFolder","parent","name","folders","where","equals","fullPath","count","add","editOrCreateFile","content","split","extention","filename","files","first","file","setContents","getFolder","cb","getFile","modifyFileSystem","_ref","data","_getContents","str","folder","id","toArray","removeFromFileSystem","item","isBase","delete","PseudoFileSystem","decorate","autobind","_PluginBase","api","config","_this","getPrototypeOf","commands","cd","enterDir","ls","listDirContents","rm","removeFromFileSystemCommand","mkdir","createDirCommand","touch","createFileCommand","cat","runCat","echo","runEcho","descriptions","getPublicMethods","parsePath","isValidPath","createDir","createFile","removeDir","remove","removeFile","readDir","getContents","DIR","readFile","FILE","writeFile","writeToFile","pathToString","types","currentPath","window","method","doParse","baseIsASymbol","CURRENT_DIR","PARENT_DIR","HOME_DIR","indexOf","modPath","filter","part","_this2","handleRes","res","printLine","type","valid","_this3","newPath","setPromptPrefix","_this4","_this5","validPath","_this6","contents","recursive","force","options","description","defaultValue","_this7","pathA","fileA","pathB","flag","lang","languages","createElement","language","style","_this8","_this9","_this10","map","color","marginRight","width","display","marginBottom","title","toUpperCase","getFullName","PluginBase","displayName","version","getOwnPropertyDescriptor"],"sources":["/Users/azminds/Documents/five-g/frontend/node_modules/terminal-in-react-pseudo-file-system-plugin/lib/indexDb.js"],"sourcesContent":["(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports', 'react', 'terminal-in-react', 'core-decorators', 'memoizerific', 'lang-map', 'react-syntax-highlighter', 'react-syntax-highlighter/dist/styles', './consts', './db'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('react'), require('terminal-in-react'), require('core-decorators'), require('memoizerific'), require('lang-map'), require('react-syntax-highlighter'), require('react-syntax-highlighter/dist/styles'), require('./consts'), require('./db'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.React, global.terminalInReact, global.coreDecorators, global.memoizerific, global.langMap, global.reactSyntaxHighlighter, global.styles, global.consts, global.db);\n    global.indexDb = mod.exports;\n  }\n})(this, function (exports, _react, _terminalInReact, _coreDecorators, _memoizerific, _langMap, _reactSyntaxHighlighter, _styles, _consts, _db) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = configPlugin;\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _memoizerific2 = _interopRequireDefault(_memoizerific);\n\n  var _langMap2 = _interopRequireDefault(_langMap);\n\n  var _reactSyntaxHighlighter2 = _interopRequireDefault(_reactSyntaxHighlighter);\n\n  var syntaxStyles = _interopRequireWildcard(_styles);\n\n  var _db2 = _interopRequireDefault(_db);\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    } else {\n      var newObj = {};\n\n      if (obj != null) {\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n        }\n      }\n\n      newObj.default = obj;\n      return newObj;\n    }\n  }\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n    var desc = {};\n    Object['ke' + 'ys'](descriptor).forEach(function (key) {\n      desc[key] = descriptor[key];\n    });\n    desc.enumerable = !!desc.enumerable;\n    desc.configurable = !!desc.configurable;\n\n    if ('value' in desc || desc.initializer) {\n      desc.writable = true;\n    }\n\n    desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n      return decorator(target, property, desc) || desc;\n    }, desc);\n\n    if (context && desc.initializer !== void 0) {\n      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n      desc.initializer = undefined;\n    }\n\n    if (desc.initializer === void 0) {\n      Object['define' + 'Property'](target, property, desc);\n      desc = null;\n    }\n\n    return desc;\n  }\n\n  function _toConsumableArray(arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n        arr2[i] = arr[i];\n      }\n\n      return arr2;\n    } else {\n      return Array.from(arr);\n    }\n  }\n\n  var _slicedToArray = function () {\n    function sliceIterator(arr, i) {\n      var _arr = [];\n      var _n = true;\n      var _d = false;\n      var _e = undefined;\n\n      try {\n        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n          _arr.push(_s.value);\n\n          if (i && _arr.length === i) break;\n        }\n      } catch (err) {\n        _d = true;\n        _e = err;\n      } finally {\n        try {\n          if (!_n && _i[\"return\"]) _i[\"return\"]();\n        } finally {\n          if (_d) throw _e;\n        }\n      }\n\n      return _arr;\n    }\n\n    return function (arr, i) {\n      if (Array.isArray(arr)) {\n        return arr;\n      } else if (Symbol.iterator in Object(arr)) {\n        return sliceIterator(arr, i);\n      } else {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n      }\n    };\n  }();\n\n  var HOME_PATH = ['', 'home', 'user'];\n\n  function last(ary) {\n    return ary[ary.length - 1];\n  }\n\n  function parentFolderPath(path) {\n    var len = path.length;\n    if (len - 1 <= 0) {\n      return { parts: [], isRoot: true, isDir: true };\n    }\n    return { parts: path.slice(0, len - 1), isRoot: true, isDir: true };\n  }\n\n  function configPlugin() {\n    var _dec, _class, _desc, _value, _class2, _class3, _temp;\n\n    var pathSeporator = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '/';\n    var clearDbOnStart = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    var _dbCreator = (0, _db2.default)(pathSeporator, clearDbOnStart),\n        _dbCreator2 = _slicedToArray(_dbCreator, 3),\n        db = _dbCreator2[0],\n        Folder = _dbCreator2[1],\n        File = _dbCreator2[2];\n\n    function pathFromArgs(args) {\n      var dir = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var path = args._.join(' ').trim();\n      if (dir && last(path) !== pathSeporator) {\n        path += pathSeporator;\n      } else if (!dir && last(path) === pathSeporator) {\n        path = path.slice(0, path.length - 1);\n      }\n      return path;\n    }\n\n    function toStringPath(path) {\n      var stringParts = [].concat(_toConsumableArray(path.parts));\n      if (path.isDir) {\n        stringParts.push('');\n      }\n      if (path.isRoot) {\n        stringParts.unshift('');\n      }\n      return stringParts.join(pathSeporator);\n    }\n\n    function editOrCreateFolder(parent, name) {\n      db.folders.where('fullPath').equals(parent.fullPath + name + pathSeporator).count(function (count) {\n        if (count === 0) {\n          db.folders.add(new Folder(name, parent));\n        }\n      });\n    }\n\n    function editOrCreateFile(parent, name, content) {\n      var split = name.split('.');\n      var extention = last(split);\n      var filename = split.slice(0, split.length - 1).join('.');\n      db.files.where('fullPath').equals(parent.fullPath + name).first(function (file) {\n        if (typeof file === 'undefined') {\n          db.files.add(new File(filename, extention, parent, content));\n        } else {\n          file.setContents(content);\n        }\n      });\n    }\n\n    function getFolder(path, cb) {\n      var fullPath = toStringPath(path);\n      db.folders.where('fullPath').equals(fullPath).first(cb);\n    }\n\n    function getFile(path, cb) {\n      var fullPath = toStringPath(path);\n      db.files.where('fullPath').equals(fullPath).first(cb);\n    }\n\n    function modifyFileSystem(_ref, data) {\n      var parts = _ref.parts,\n          isDir = _ref.isDir;\n\n      if (parts.length > 0) {\n        getFolder(parentFolderPath(parts), function (parent) {\n          if (isDir) {\n            editOrCreateFolder(parent, last(parts));\n          } else {\n            editOrCreateFile(parent, last(parts), data);\n          }\n        });\n      }\n    }\n\n    function _getContents(path, cb) {\n      var str = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (path.isDir) {\n        getFolder(path, function (folder) {\n          if (typeof folder === 'undefined') {\n            cb(null);\n          } else if (str) {\n            db.folders.where('folderId').equals(folder.id).toArray(function (folders) {\n              db.files.where('folderId').equals(folder.id).toArray(function (files) {\n                cb([].concat(_toConsumableArray(folders), _toConsumableArray(files)));\n              });\n            });\n          } else {\n            cb(folder);\n          }\n        });\n      } else {\n        getFile(path, function (file) {\n          if (typeof file === 'undefined') {\n            cb(null);\n          } else if (str) {\n            cb(file.content);\n          } else {\n            cb(file);\n          }\n        });\n      }\n    }\n\n    function removeFromFileSystem(path) {\n      _getContents(path, function (item) {\n        if (item !== null) {\n          if (path.isDir) {\n            if (!item.isBase) {\n              db.folders.delete(item.id);\n            }\n          } else {\n            db.files.delete(item.id);\n          }\n        }\n      });\n    }\n\n    var PseudoFileSystem = (_dec = (0, _coreDecorators.decorate)((0, _memoizerific2.default)(500)), (0, _coreDecorators.autobind)(_class = (_class2 = (_temp = _class3 = function (_PluginBase) {\n      _inherits(PseudoFileSystem, _PluginBase);\n\n      function PseudoFileSystem(api, config) {\n        _classCallCheck(this, PseudoFileSystem);\n\n        var _this = _possibleConstructorReturn(this, (PseudoFileSystem.__proto__ || Object.getPrototypeOf(PseudoFileSystem)).call(this, api, config));\n\n        _this.commands = {\n          cd: _this.enterDir(),\n          ls: _this.listDirContents(),\n          rm: _this.removeFromFileSystemCommand(),\n          mkdir: _this.createDirCommand(),\n          touch: _this.createFileCommand(),\n          cat: _this.runCat(),\n          echo: _this.runEcho()\n        };\n        _this.descriptions = {\n          cd: false,\n          ls: false,\n          rm: false,\n          mkdir: false,\n          touch: false,\n          cat: false,\n          echo: false\n        };\n\n        _this.getPublicMethods = function () {\n          return {\n            parsePath: _this.parsePath,\n            isValidPath: _this.isValidPath,\n            createDir: _this.createDir,\n            createFile: _this.createFile,\n            removeDir: _this.remove,\n            removeFile: _this.remove,\n            readDir: function readDir(path, cb) {\n              return _this.getContents(path, cb, _consts.DIR, true);\n            },\n            readFile: function readFile(path, cb) {\n              return _this.getContents(path, cb, _consts.FILE, true);\n            },\n            writeFile: _this.writeToFile,\n            pathToString: toStringPath,\n            types: {\n              dir: _consts.DIR,\n              file: _consts.FILE\n            }\n          };\n        };\n\n        _this.currentPath = '';\n        window.commands = _this.getPublicMethods;\n        window.pathFromArgs = pathFromArgs;\n        window.getContents = _getContents;\n\n        var _ = ['' + pathSeporator + HOME_PATH.join(pathSeporator) + pathSeporator];\n        _this.enterDir().method({ _: _ });\n        return _this;\n      }\n\n      _createClass(PseudoFileSystem, [{\n        key: 'doParse',\n        value: function doParse(split, currentPath) {\n          // eslint-disable-line class-methods-use-this\n          var isDir = false;\n          var isRoot = false;\n          var baseIsASymbol = [_consts.CURRENT_DIR, _consts.PARENT_DIR, _consts.HOME_DIR].indexOf(split[0]) > -1;\n          if (split[split.length - 1] === '' || split.length === 1 && baseIsASymbol) {\n            isDir = true;\n          }\n          if (split[0] === '') {\n            isRoot = true;\n          }\n          var modPath = split.filter(function (part) {\n            return part.length !== 0;\n          });\n          if (!isRoot) {\n            if (modPath[0] === _consts.CURRENT_DIR) {\n              modPath = [].concat(_toConsumableArray(currentPath.parts), _toConsumableArray(modPath.slice(1)));\n            } else if (modPath[0] === _consts.HOME_DIR) {\n              modPath = [].concat(HOME_PATH, _toConsumableArray(modPath.slice(1)));\n            } else if (modPath[0] === _consts.PARENT_DIR) {\n              modPath = [].concat(_toConsumableArray(currentPath.parts), _toConsumableArray(modPath));\n            }\n          }\n\n          if (baseIsASymbol) {\n            isRoot = true;\n          }\n\n          for (var i = 0; i < modPath.length; i += 1) {\n            if (modPath[i] === _consts.CURRENT_DIR) {\n              modPath[i] = '';\n            } else if (modPath[i] === _consts.PARENT_DIR) {\n              if (i - 1 >= 0) {\n                modPath[i - 1] = '';\n              }\n              modPath[i] = '';\n            }\n          }\n          modPath = modPath.filter(function (part) {\n            return part.length !== 0;\n          });\n\n          return {\n            parts: modPath,\n            isRoot: isRoot,\n            isDir: isDir\n          };\n        }\n      }, {\n        key: 'parsePath',\n        value: function parsePath(path) {\n          var split = path.split(pathSeporator);\n          if (['', _consts.CURRENT_DIR, _consts.PARENT_DIR, _consts.HOME_DIR].indexOf(split[0]) < 0) {\n            split.unshift('.');\n          }\n          return this.doParse(split, this.currentPath);\n        }\n      }, {\n        key: 'isValidPath',\n        value: function isValidPath(path, cb) {\n          var _this2 = this;\n\n          var handleRes = function handleRes(res) {\n            if (typeof res === 'undefined') {\n              _this2.api.printLine('Not a valid path: ' + toStringPath(path));\n              cb(false);\n            } else {\n              cb(true);\n            }\n          };\n          if (path.isDir) {\n            getFolder(path, handleRes);\n          } else {\n            getFile(path, handleRes);\n          }\n        }\n      }, {\n        key: 'getContents',\n        value: function getContents(path, cb, type) {\n          var str = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n          if (type === _consts.DIR && path.isDir || type === _consts.FILE && !path.isDir) {\n            this.isValidPath(path, function (valid) {\n              if (valid) {\n                _getContents(path, cb, str);\n              } else {\n                cb(null);\n              }\n            });\n          } else {\n            cb(null);\n          }\n        }\n      }, {\n        key: 'enterDir',\n        value: function enterDir() {\n          var _this3 = this;\n\n          return {\n            method: function method(args) {\n              if (args._.length > 0) {\n                var newPath = _this3.parsePath(pathFromArgs(args, true));\n                _this3.isValidPath(newPath, function (valid) {\n                  if (valid) {\n                    _this3.currentPath = newPath;\n                    _this3.api.setPromptPrefix(toStringPath(_this3.currentPath) + ' ');\n                  }\n                });\n              }\n            }\n          };\n        }\n      }, {\n        key: 'createDirCommand',\n        value: function createDirCommand() {\n          var _this4 = this;\n\n          return {\n            method: function method(args) {\n              if (args._.length > 0) {\n                var path = _this4.parsePath(pathFromArgs(args, true));\n                _this4.createDir(path);\n              }\n            }\n          };\n        }\n      }, {\n        key: 'createDir',\n        value: function createDir(path) {\n          this.isValidPath(parentFolderPath(path.parts), function (valid) {\n            if (valid) {\n              modifyFileSystem(path);\n            }\n          });\n        }\n      }, {\n        key: 'createFileCommand',\n        value: function createFileCommand() {\n          var _this5 = this;\n\n          return {\n            method: function method(args) {\n              if (args._.length > 0) {\n                var path = _this5.parsePath(pathFromArgs(args));\n                _this5.createFile(path);\n              }\n            }\n          };\n        }\n      }, {\n        key: 'createFile',\n        value: function createFile(path) {\n          this.isValidPath(parentFolderPath(path.parts), function (valid) {\n            if (valid) {\n              modifyFileSystem(path, '');\n            }\n          });\n        }\n      }, {\n        key: 'remove',\n        value: function remove(path) {\n          this.validPath(path, function (valid) {\n            if (valid) {\n              removeFromFileSystem(path);\n            }\n          });\n        }\n      }, {\n        key: 'removeFromFileSystemCommand',\n        value: function removeFromFileSystemCommand() {\n          var _this6 = this;\n\n          return {\n            method: function method(args) {\n              if (args._.length > 0) {\n                var path = _this6.parsePath(args._.join(' ').trim());\n                _this6.validPath(path, function (valid) {\n                  if (valid) {\n                    if (path.isDir) {\n                      _this6.getContents(path, function (contents) {\n                        if (contents.length > 0 && !args.recursive) {\n                          _this6.api.printLine(toStringPath(path) + ' is not empty');\n                        } else if (contents.length > 0 && !args.force) {\n                          _this6.api.printLine(toStringPath(path) + ' is not empty');\n                        } else {\n                          _this6.remove(path);\n                        }\n                      }, _consts.DIR, true);\n                    } else {\n                      _this6.remove(path);\n                    }\n                  }\n                });\n              }\n            },\n            options: [{\n              name: 'recursive',\n              description: 'Each item in the folder as well',\n              defaultValue: false\n            }, {\n              name: 'force',\n              description: 'Force the delete',\n              defaultValue: false\n            }]\n          };\n        }\n      }, {\n        key: 'runCat',\n        value: function runCat() {\n          var _this7 = this;\n\n          return {\n            method: function method(args) {\n              if (args._.length > 0) {\n                var split = args._;\n                if (args._.indexOf('>>') > 0) {\n                  split = args._.join(' ').split('>>');\n                }\n                var pathA = _this7.parsePath(pathFromArgs({ _: split[0].split(' ') }));\n                _this7.getContents(pathA, function (fileA) {\n                  if (fileA !== null) {\n                    if (args._.indexOf('>>') > 0) {\n                      var pathB = _this7.parsePath(pathFromArgs({ _: split[1].split(' ') }));\n                      _this7.writeToFile(pathB, fileA.content, { flag: 'a' });\n                    } else {\n                      var lang = _langMap2.default.languages(fileA.extention || '')[0];\n                      _this7.api.printLine(_react2.default.createElement(\n                        _reactSyntaxHighlighter2.default,\n                        { language: lang, style: syntaxStyles[lang] },\n                        fileA.content\n                      ));\n                    }\n                  }\n                }, _consts.FILE);\n              }\n            }\n          };\n        }\n      }, {\n        key: 'runEcho',\n        value: function runEcho() {\n          var _this8 = this;\n\n          return {\n            method: function method(args) {\n              if (args._.length > 0) {\n                if (args._.indexOf('>>') > -1) {\n                  var split = args._.join(' ').split(' >> ');\n                  var path = _this8.parsePath(pathFromArgs({ _: split[1].split(' ') }));\n                  _this8.writeToFile(path, split[0], { flag: 'a' });\n                } else {\n                  _this8.api.printLine(args._.join(' '));\n                }\n              }\n            }\n          };\n        }\n      }, {\n        key: 'writeToFile',\n        value: function writeToFile(path) {\n          var _this9 = this;\n\n          var contents = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n          var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : { flag: 'w' };\n\n          this.isValidPath(path, function (valid) {\n            if (valid) {\n              _this9.getContents(path, function (file) {\n                if (file !== null) {\n                  var content = file;\n                  if (options.flag === 'w') {\n                    content = '' + contents;\n                  } else if (options.flag === 'a') {\n                    content += '\\n' + contents;\n                  }\n                  modifyFileSystem(path, content);\n                }\n              }, _consts.FILE, true);\n            }\n          });\n        }\n      }, {\n        key: 'listDirContents',\n        value: function listDirContents() {\n          var _this10 = this;\n\n          return {\n            method: function method(args) {\n              var path = _this10.parsePath(pathFromArgs({ _: args._.length > 0 ? args._ : ['.'] }, true));\n              if (path.isDir) {\n                _this10.getContents(path, function (dir) {\n                  if (dir !== null) {\n                    var contents = [{\n                      path: '.',\n                      type: _consts.DIR\n                    }, {\n                      path: '..',\n                      type: _consts.DIR\n                    }].concat(_toConsumableArray(dir));\n                    _this10.api.printLine(_react2.default.createElement(\n                      'span',\n                      null,\n                      contents.map(function (item) {\n                        var styles = {\n                          color: '#bdc3c7',\n                          marginRight: 5,\n                          width: 'calc(33% - 5px)',\n                          display: 'inline-block'\n                        };\n                        if (contents.length > 3) {\n                          styles.marginBottom = 5;\n                        }\n                        if (item.type === _consts.DIR) {\n                          styles.color = '#2980b9';\n                        }\n                        return _react2.default.createElement(\n                          'span',\n                          {\n                            style: styles,\n                            title: item.type.toUpperCase(),\n                            key: item.fullPath + '-' + item.type\n                          },\n                          item.type === _consts.DIR ? item.path : item.getFullName()\n                        );\n                      })\n                    ));\n                  }\n                }, _consts.DIR, true);\n              }\n            }\n          };\n        }\n      }]);\n\n      return PseudoFileSystem;\n    }(_terminalInReact.PluginBase), _class3.displayName = _consts.displayName, _class3.version = _consts.version, _temp), (_applyDecoratedDescriptor(_class2.prototype, 'doParse', [_dec], Object.getOwnPropertyDescriptor(_class2.prototype, 'doParse'), _class2.prototype)), _class2)) || _class);\n\n\n    return PseudoFileSystem;\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"script"}