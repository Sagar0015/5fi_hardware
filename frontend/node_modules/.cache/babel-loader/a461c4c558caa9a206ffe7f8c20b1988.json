{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport shallowEqual from '../utils/shallowEqual';\nimport stringToObject from '../utils/stringToObject';\nexport function getDerivedStateForCascade(nextProps, prevState, selectNodeValue, newChildren) {\n  var data = nextProps.data,\n    labelKey = nextProps.labelKey,\n    valueKey = nextProps.valueKey,\n    childrenKey = nextProps.childrenKey,\n    value = nextProps.value;\n  var activeItemValue = selectNodeValue || (typeof value === 'undefined' ? prevState.value : value);\n  var nextItems = [];\n  var nextPathItems = [];\n  var findNode = function findNode(items) {\n    var _loop = function _loop(i) {\n      items[i] = stringToObject(items[i], labelKey, valueKey);\n      var children = items[i][childrenKey];\n      if (shallowEqual(items[i][valueKey], activeItemValue)) {\n        return {\n          v: {\n            items: items,\n            active: items[i]\n          }\n        };\n      } else if (children) {\n        var v = findNode(children);\n        if (v) {\n          nextItems.push(children.map(function (item) {\n            return _extends({}, stringToObject(item, labelKey, valueKey), {\n              parent: items[i]\n            });\n          }));\n          nextPathItems.push(v.active);\n          return {\n            v: {\n              items: items,\n              active: items[i]\n            }\n          };\n        }\n      }\n    };\n    for (var i = 0; i < items.length; i += 1) {\n      var _ret = _loop(i);\n      if (typeof _ret === \"object\") return _ret.v;\n    }\n    return null;\n  };\n  var activeItem = findNode(data);\n  nextItems.push(data);\n  if (activeItem) {\n    nextPathItems.push(activeItem.active);\n  }\n  /**\n   * 如果是异步更新 data 后，获取到的一个 selectNodeValue，则不更新 activePaths\n   * 但是需要更新 items， 因为这里的目的就是把异步更新后的的数据展示出来\n   */\n\n  var cascadePathItems = nextPathItems.reverse();\n  if (newChildren) {\n    return {\n      items: [].concat(nextItems.reverse(), [newChildren]),\n      tempActivePaths: cascadePathItems\n    };\n  }\n  return {\n    items: nextItems.reverse(),\n    tempActivePaths: null,\n    activePaths: cascadePathItems\n  };\n}","map":{"version":3,"names":["_extends","shallowEqual","stringToObject","getDerivedStateForCascade","nextProps","prevState","selectNodeValue","newChildren","data","labelKey","valueKey","childrenKey","value","activeItemValue","nextItems","nextPathItems","findNode","items","_loop","i","children","v","active","push","map","item","parent","length","_ret","activeItem","cascadePathItems","reverse","concat","tempActivePaths","activePaths"],"sources":["/Users/azminds/Documents/five-g/frontend/node_modules/rsuite/es/Cascader/utils.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport shallowEqual from '../utils/shallowEqual';\nimport stringToObject from '../utils/stringToObject';\nexport function getDerivedStateForCascade(nextProps, prevState, selectNodeValue, newChildren) {\n  var data = nextProps.data,\n      labelKey = nextProps.labelKey,\n      valueKey = nextProps.valueKey,\n      childrenKey = nextProps.childrenKey,\n      value = nextProps.value;\n  var activeItemValue = selectNodeValue || (typeof value === 'undefined' ? prevState.value : value);\n  var nextItems = [];\n  var nextPathItems = [];\n\n  var findNode = function findNode(items) {\n    var _loop = function _loop(i) {\n      items[i] = stringToObject(items[i], labelKey, valueKey);\n      var children = items[i][childrenKey];\n\n      if (shallowEqual(items[i][valueKey], activeItemValue)) {\n        return {\n          v: {\n            items: items,\n            active: items[i]\n          }\n        };\n      } else if (children) {\n        var v = findNode(children);\n\n        if (v) {\n          nextItems.push(children.map(function (item) {\n            return _extends({}, stringToObject(item, labelKey, valueKey), {\n              parent: items[i]\n            });\n          }));\n          nextPathItems.push(v.active);\n          return {\n            v: {\n              items: items,\n              active: items[i]\n            }\n          };\n        }\n      }\n    };\n\n    for (var i = 0; i < items.length; i += 1) {\n      var _ret = _loop(i);\n\n      if (typeof _ret === \"object\") return _ret.v;\n    }\n\n    return null;\n  };\n\n  var activeItem = findNode(data);\n  nextItems.push(data);\n\n  if (activeItem) {\n    nextPathItems.push(activeItem.active);\n  }\n  /**\n   * 如果是异步更新 data 后，获取到的一个 selectNodeValue，则不更新 activePaths\n   * 但是需要更新 items， 因为这里的目的就是把异步更新后的的数据展示出来\n   */\n\n\n  var cascadePathItems = nextPathItems.reverse();\n\n  if (newChildren) {\n    return {\n      items: [].concat(nextItems.reverse(), [newChildren]),\n      tempActivePaths: cascadePathItems\n    };\n  }\n\n  return {\n    items: nextItems.reverse(),\n    tempActivePaths: null,\n    activePaths: cascadePathItems\n  };\n}"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,oCAAoC;AACzD,OAAOC,YAAY,MAAM,uBAAuB;AAChD,OAAOC,cAAc,MAAM,yBAAyB;AACpD,OAAO,SAASC,yBAAyB,CAACC,SAAS,EAAEC,SAAS,EAAEC,eAAe,EAAEC,WAAW,EAAE;EAC5F,IAAIC,IAAI,GAAGJ,SAAS,CAACI,IAAI;IACrBC,QAAQ,GAAGL,SAAS,CAACK,QAAQ;IAC7BC,QAAQ,GAAGN,SAAS,CAACM,QAAQ;IAC7BC,WAAW,GAAGP,SAAS,CAACO,WAAW;IACnCC,KAAK,GAAGR,SAAS,CAACQ,KAAK;EAC3B,IAAIC,eAAe,GAAGP,eAAe,KAAK,OAAOM,KAAK,KAAK,WAAW,GAAGP,SAAS,CAACO,KAAK,GAAGA,KAAK,CAAC;EACjG,IAAIE,SAAS,GAAG,EAAE;EAClB,IAAIC,aAAa,GAAG,EAAE;EAEtB,IAAIC,QAAQ,GAAG,SAASA,QAAQ,CAACC,KAAK,EAAE;IACtC,IAAIC,KAAK,GAAG,SAASA,KAAK,CAACC,CAAC,EAAE;MAC5BF,KAAK,CAACE,CAAC,CAAC,GAAGjB,cAAc,CAACe,KAAK,CAACE,CAAC,CAAC,EAAEV,QAAQ,EAAEC,QAAQ,CAAC;MACvD,IAAIU,QAAQ,GAAGH,KAAK,CAACE,CAAC,CAAC,CAACR,WAAW,CAAC;MAEpC,IAAIV,YAAY,CAACgB,KAAK,CAACE,CAAC,CAAC,CAACT,QAAQ,CAAC,EAAEG,eAAe,CAAC,EAAE;QACrD,OAAO;UACLQ,CAAC,EAAE;YACDJ,KAAK,EAAEA,KAAK;YACZK,MAAM,EAAEL,KAAK,CAACE,CAAC;UACjB;QACF,CAAC;MACH,CAAC,MAAM,IAAIC,QAAQ,EAAE;QACnB,IAAIC,CAAC,GAAGL,QAAQ,CAACI,QAAQ,CAAC;QAE1B,IAAIC,CAAC,EAAE;UACLP,SAAS,CAACS,IAAI,CAACH,QAAQ,CAACI,GAAG,CAAC,UAAUC,IAAI,EAAE;YAC1C,OAAOzB,QAAQ,CAAC,CAAC,CAAC,EAAEE,cAAc,CAACuB,IAAI,EAAEhB,QAAQ,EAAEC,QAAQ,CAAC,EAAE;cAC5DgB,MAAM,EAAET,KAAK,CAACE,CAAC;YACjB,CAAC,CAAC;UACJ,CAAC,CAAC,CAAC;UACHJ,aAAa,CAACQ,IAAI,CAACF,CAAC,CAACC,MAAM,CAAC;UAC5B,OAAO;YACLD,CAAC,EAAE;cACDJ,KAAK,EAAEA,KAAK;cACZK,MAAM,EAAEL,KAAK,CAACE,CAAC;YACjB;UACF,CAAC;QACH;MACF;IACF,CAAC;IAED,KAAK,IAAIA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,KAAK,CAACU,MAAM,EAAER,CAAC,IAAI,CAAC,EAAE;MACxC,IAAIS,IAAI,GAAGV,KAAK,CAACC,CAAC,CAAC;MAEnB,IAAI,OAAOS,IAAI,KAAK,QAAQ,EAAE,OAAOA,IAAI,CAACP,CAAC;IAC7C;IAEA,OAAO,IAAI;EACb,CAAC;EAED,IAAIQ,UAAU,GAAGb,QAAQ,CAACR,IAAI,CAAC;EAC/BM,SAAS,CAACS,IAAI,CAACf,IAAI,CAAC;EAEpB,IAAIqB,UAAU,EAAE;IACdd,aAAa,CAACQ,IAAI,CAACM,UAAU,CAACP,MAAM,CAAC;EACvC;EACA;AACF;AACA;AACA;;EAGE,IAAIQ,gBAAgB,GAAGf,aAAa,CAACgB,OAAO,EAAE;EAE9C,IAAIxB,WAAW,EAAE;IACf,OAAO;MACLU,KAAK,EAAE,EAAE,CAACe,MAAM,CAAClB,SAAS,CAACiB,OAAO,EAAE,EAAE,CAACxB,WAAW,CAAC,CAAC;MACpD0B,eAAe,EAAEH;IACnB,CAAC;EACH;EAEA,OAAO;IACLb,KAAK,EAAEH,SAAS,CAACiB,OAAO,EAAE;IAC1BE,eAAe,EAAE,IAAI;IACrBC,WAAW,EAAEJ;EACf,CAAC;AACH"},"metadata":{},"sourceType":"module"}