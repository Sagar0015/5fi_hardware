{"ast":null,"code":"(function (global, factory) {\n  if ('function' == typeof define && define.amd) define(['exports', 'minimist'], factory);else if ('undefined' != typeof exports) factory(exports, require('minimist'));else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.minimist), global.parse = mod.exports;\n  }\n})(this, function (exports, _minimist) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: !0\n  }), exports.default = function (argv, options) {\n    Object.assign(this.config, options), this.config.help && (this.option('help', 'Output usage information'), this.command('help', 'Display help', this.showHelp)), this.raw = (0, _minimist2.default)(argv.slice(1), this.config.minimist), this.config.version && this.checkVersion(this.parent);\n    var subCommand = this.raw._[1],\n      helpTriggered = this.raw.h || this.raw.help,\n      args = {},\n      defined = this.isDefined(subCommand, 'commands'),\n      optionList = this.getOptions(defined);\n    return (Object.assign(args, this.raw), args._.shift(), this.sub = args._, defined) ? (this.runCommand(defined, optionList), {}) : (this.config.help && helpTriggered && this.showHelp(), optionList);\n  };\n  var _minimist2 = function (obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }(_minimist);\n});","map":{"version":3,"mappings":";;;;;;;;;;;;wBAEe,UAAUA,IAAV,EAAgBC,OAAhB,EAAyB;IAEtCC,OAAOC,MAAP,CAAc,KAAKC,MAAnB,EAA2BH,OAA3B,CAFsC,EAIlC,KAAKG,MAAL,CAAYC,IAJsB,KAMpC,KAAKC,MAAL,CAAY,MAAZ,EAAoB,0BAApB,CANoC,EAOpC,KAAKC,OAAL,CAAa,MAAb,EAAqB,cAArB,EAAqC,KAAKC,QAA1C,CAPoC,GAWtC,KAAKC,GAAL,GAAW,wBAAOT,KAAKU,KAAL,CAAW,CAAX,CAAP,EAAsB,KAAKN,MAAL,CAAYO,QAAlC,CAX2B,EAclC,KAAKP,MAAL,CAAYQ,OAdsB,IAepC,KAAKC,YAAL,CAAkB,KAAKC,MAAvB,CAfoC;IAkBtC,IAAMC,aAAa,KAAKN,GAAL,CAASO,CAAT,CAAW,CAAX,CAAnB;MACMC,gBAAgB,KAAKR,GAAL,CAASS,CAAT,IAAc,KAAKT,GAAL,CAASJ,IAD7C;MAGMc,OAAO,EAHb;MAIMC,UAAU,KAAKC,SAAL,CAAeN,UAAf,EAA2B,UAA3B,CAJhB;MAKMO,aAAa,KAAKC,UAAL,CAAgBH,OAAhB,CALnB;IAlBsC,QAyBtClB,OAAOC,MAAP,CAAcgB,IAAd,EAAoB,KAAKV,GAAzB,CAzBsC,EA0BtCU,KAAKH,CAAL,CAAOQ,KAAP,EA1BsC,EA6BtC,KAAKC,GAAL,GAAWN,KAAKH,CA7BsB,EAgClCI,OAhCkC,KAiCpC,KAAKM,UAAL,CAAgBN,OAAhB,EAAyBE,UAAzB,CAjCoC,EAkC7B,EAlC6B,KAuClC,KAAKlB,MAAL,CAAYC,IAAZ,IAAoBY,aAvCc,IAwCpC,KAAKT,QAAL,EAxCoC,EA4C/Bc,UA5C+B,CA6CvC;EAAA,C","names":["argv","options","Object","assign","config","help","option","command","showHelp","raw","slice","minimist","version","checkVersion","parent","subCommand","_","helpTriggered","h","args","defined","isDefined","optionList","getOptions","shift","sub","runCommand"],"sources":["../../../src/js/args/parse.js"],"sourcesContent":["import parser from 'minimist';\n\nexport default function (argv, options) {\n  // Override default option values\n  Object.assign(this.config, options);\n\n  if (this.config.help) {\n    // Register default options and commands\n    this.option('help', 'Output usage information');\n    this.command('help', 'Display help', this.showHelp);\n  }\n\n  // Parse arguments using minimist\n  this.raw = parser(argv.slice(1), this.config.minimist);\n\n  // If default version is allowed, check for it\n  if (this.config.version) {\n    this.checkVersion(this.parent);\n  }\n\n  const subCommand = this.raw._[1];\n  const helpTriggered = this.raw.h || this.raw.help;\n\n  const args = {};\n  const defined = this.isDefined(subCommand, 'commands');\n  const optionList = this.getOptions(defined);\n\n  Object.assign(args, this.raw);\n  args._.shift();\n\n  // Export sub arguments of command\n  this.sub = args._;\n\n  // If sub command is defined, run it\n  if (defined) {\n    this.runCommand(defined, optionList);\n    return {};\n  }\n\n  // Show usage information if \"help\" or \"h\" option was used\n  // And respect the option related to it\n  if (this.config.help && helpTriggered) {\n    this.showHelp();\n  }\n\n  // Hand back list of options\n  return optionList;\n}\n"]},"metadata":{},"sourceType":"script"}