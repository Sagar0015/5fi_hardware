{"ast":null,"code":"import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _isNil from \"lodash/isNil\";\nimport _isFunction from \"lodash/isFunction\";\nimport _isNumber from \"lodash/isNumber\";\nimport _isString from \"lodash/isString\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport _isArray from \"lodash/isArray\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport List from 'react-virtualized/dist/commonjs/List';\nimport AutoSizer from 'react-virtualized/dist/commonjs/AutoSizer';\nimport { CellMeasurerCache, CellMeasurer } from 'react-virtualized/dist/commonjs/CellMeasurer';\nimport { polyfill } from 'react-lifecycles-compat';\nimport shallowEqual from '../utils/shallowEqual';\nimport CheckTreeNode from './CheckTreeNode';\nimport { CHECK_STATE } from '../constants';\nimport { clone, defaultProps, prefix, defaultClassPrefix, getUnhandledProps, createChainedFunction, mergeRefs } from '../utils';\nimport { PickerToggle, getToggleWrapperClassName, onMenuKeyDown, MenuWrapper, SearchBar, SelectedElement, PickerToggleTrigger, createConcatChildrenFunction, shouldDisplay } from '../Picker';\nimport { isEveryChildChecked, isSomeChildChecked, isSomeNodeHasChildren, getSiblingNodeUncheckable, getEveryFisrtLevelNodeUncheckable, getUncheckableState, getFormattedTree, getDisabledState } from './utils';\nimport { compareArray, shouldShowNodeByExpanded, flattenTree, getNodeParents, hasVisibleChildren, treeDeprecatedWarning, getExpandItemValues, getExpandAll, getExpandState, getExpandWhenSearching } from '../utils/treeUtils';\nimport { listPickerPropTypes, listPickerDefaultProps } from '../Picker/propTypes'; // default value for virtualized\n\nvar defaultHeight = 360;\nvar defaultWidth = 200;\nvar CheckTreePicker = /*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(CheckTreePicker, _React$Component);\n  function CheckTreePicker(_props) {\n    var _this;\n    _this = _React$Component.call(this, _props) || this;\n    _this.menuRef = void 0;\n    _this.treeViewRef = void 0;\n    _this.positionRef = void 0;\n    _this.listRef = void 0;\n    _this.triggerRef = void 0;\n    _this.toggleRef = void 0;\n    _this.getValue = function (props) {\n      if (props === void 0) {\n        props = _this.props;\n      }\n      var _props2 = props,\n        value = _props2.value,\n        defaultValue = _props2.defaultValue,\n        _props2$uncheckableIt = _props2.uncheckableItemValues,\n        uncheckableItemValues = _props2$uncheckableIt === void 0 ? [] : _props2$uncheckableIt;\n      if (value && value.length) {\n        return value.filter(function (v) {\n          return !uncheckableItemValues.includes(v);\n        });\n      }\n      if (defaultValue && defaultValue.length > 0) {\n        return defaultValue.filter(function (v) {\n          return !uncheckableItemValues.includes(v);\n        });\n      }\n      return [];\n    };\n    _this.getElementByDataKey = function (dataKey) {\n      var ele = _this.nodeRefs[dataKey];\n      if (ele instanceof Element) {\n        return ele.querySelector(\".\" + _this.addTreePrefix('node-label'));\n      }\n      return null;\n    };\n    _this.getFocusableMenuItems = function () {\n      var filterData = _this.state.filterData;\n      var childrenKey = _this.props.childrenKey;\n      var items = [];\n      var loop = function loop(treeNodes) {\n        treeNodes.forEach(function (node) {\n          var nodeData = _extends({}, node, {}, _this.nodes[node.refKey]);\n          if (!getDisabledState(_this.nodes, node, _this.props) && node.visible) {\n            items.push(node);\n          }\n          if (node[childrenKey] && getExpandState(nodeData, _this.props)) {\n            loop(node[childrenKey]);\n          }\n        });\n      };\n      loop(filterData);\n      return items;\n    };\n    _this.nodes = {};\n    _this.activeNode = null;\n    _this.cache = new CellMeasurerCache({\n      fixedWidth: true,\n      minHeight: 20\n    });\n    _this.nodeRefs = {};\n    _this.bindNodeRefs = function (refKey, ref) {\n      _this.nodeRefs[refKey] = ref;\n    };\n    _this.getPositionInstance = function () {\n      return _this.positionRef.current;\n    };\n    _this.getToggleInstance = function () {\n      return _this.toggleRef.current;\n    };\n    _this.selectActiveItem = function (event) {\n      var _this$getActiveItem = _this.getActiveItem(),\n        nodeData = _this$getActiveItem.nodeData;\n      _this.handleSelect(nodeData, event);\n    };\n    _this.focusNextItem = function () {\n      var _node$focus;\n      var _this$getItemsAndActi = _this.getItemsAndActiveIndex(),\n        items = _this$getItemsAndActi.items,\n        activeIndex = _this$getItemsAndActi.activeIndex;\n      if (items.length === 0) {\n        return;\n      }\n      var nextIndex = activeIndex === items.length - 1 ? 0 : activeIndex + 1;\n      var node = _this.getElementByDataKey(items[nextIndex].refKey);\n      node === null || node === void 0 ? void 0 : (_node$focus = node.focus) === null || _node$focus === void 0 ? void 0 : _node$focus.call(node);\n    };\n    _this.focusPreviousItem = function () {\n      var _node$focus2;\n      var _this$getItemsAndActi2 = _this.getItemsAndActiveIndex(),\n        items = _this$getItemsAndActi2.items,\n        activeIndex = _this$getItemsAndActi2.activeIndex;\n      if (items.length === 0) {\n        return;\n      }\n      var prevIndex = activeIndex === 0 ? items.length - 1 : activeIndex - 1;\n      prevIndex = prevIndex >= 0 ? prevIndex : 0;\n      var node = _this.getElementByDataKey(items[prevIndex].refKey);\n      node === null || node === void 0 ? void 0 : (_node$focus2 = node.focus) === null || _node$focus2 === void 0 ? void 0 : _node$focus2.call(node);\n    };\n    _this.handleCloseDropdown = function () {\n      var _this$triggerRef$curr, _this$triggerRef$curr2;\n      (_this$triggerRef$curr = _this.triggerRef.current) === null || _this$triggerRef$curr === void 0 ? void 0 : (_this$triggerRef$curr2 = _this$triggerRef$curr.hide) === null || _this$triggerRef$curr2 === void 0 ? void 0 : _this$triggerRef$curr2.call(_this$triggerRef$curr);\n    };\n    _this.handleOpenDropdown = function () {\n      var _this$triggerRef$curr3, _this$triggerRef$curr4;\n      (_this$triggerRef$curr3 = _this.triggerRef.current) === null || _this$triggerRef$curr3 === void 0 ? void 0 : (_this$triggerRef$curr4 = _this$triggerRef$curr3.show) === null || _this$triggerRef$curr4 === void 0 ? void 0 : _this$triggerRef$curr4.call(_this$triggerRef$curr3);\n    };\n    _this.open = function () {\n      var _this$handleOpenDropd, _this2;\n      (_this$handleOpenDropd = (_this2 = _this).handleOpenDropdown) === null || _this$handleOpenDropd === void 0 ? void 0 : _this$handleOpenDropd.call(_this2);\n    };\n    _this.close = function () {\n      var _this$handleCloseDrop, _this3;\n      (_this$handleCloseDrop = (_this3 = _this).handleCloseDropdown) === null || _this$handleCloseDrop === void 0 ? void 0 : _this$handleCloseDrop.call(_this3);\n    };\n    _this.handleToggleDropdown = function () {\n      var active = _this.state.active;\n      if (active) {\n        _this.handleCloseDropdown();\n        return;\n      }\n      _this.handleOpenDropdown();\n    };\n    _this.everyChildChecked = function (nodes, node) {\n      var list = [];\n      Object.keys(nodes).forEach(function (refKey) {\n        var _curNode$parentNode;\n        var curNode = nodes[refKey];\n        if (((_curNode$parentNode = curNode.parentNode) === null || _curNode$parentNode === void 0 ? void 0 : _curNode$parentNode.refKey) === node.refKey && !curNode.uncheckable) {\n          list.push(curNode);\n        }\n      });\n      return list.every(function (l) {\n        return l.check;\n      });\n    };\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n    _this.addTreePrefix = function (name) {\n      return prefix(defaultClassPrefix('check-tree'))(name);\n    };\n    _this.handleSelect = function (activeNode, event) {\n      var _this$props = _this.props,\n        onChange = _this$props.onChange,\n        onSelect = _this$props.onSelect,\n        value = _this$props.value;\n      var selectedValues = _this.toggleChecked(activeNode, !_this.nodes[activeNode.refKey].check);\n      if (!_isUndefined(value)) {\n        _this.activeNode = activeNode;\n      } else {\n        _this.unserializeLists({\n          check: selectedValues\n        });\n        _this.setState({\n          activeNode: activeNode,\n          selectedValues: selectedValues,\n          hasValue: !!selectedValues.length\n        });\n      }\n      onChange === null || onChange === void 0 ? void 0 : onChange(selectedValues, event);\n      onSelect === null || onSelect === void 0 ? void 0 : onSelect(activeNode, selectedValues, event);\n    };\n    _this.handleToggle = function (node) {\n      var _this$props2 = _this.props,\n        valueKey = _this$props2.valueKey,\n        childrenKey = _this$props2.childrenKey,\n        onExpand = _this$props2.onExpand,\n        expandItemValues = _this$props2.expandItemValues;\n      var nextExpandItemValues = _this.toggleExpand(node, !node.expand);\n      if (_isUndefined(expandItemValues)) {\n        _this.unserializeLists({\n          expand: nextExpandItemValues\n        });\n        _this.setState({\n          expandItemValues: nextExpandItemValues\n        });\n      }\n      onExpand === null || onExpand === void 0 ? void 0 : onExpand(nextExpandItemValues, node, createConcatChildrenFunction(node, node[valueKey], {\n        valueKey: valueKey,\n        childrenKey: childrenKey\n      }));\n    };\n    _this.handleKeyDown = function (event) {\n      onMenuKeyDown(event, {\n        down: _this.focusNextItem,\n        up: _this.focusPreviousItem,\n        enter: _this.selectActiveItem,\n        del: _this.handleClean\n      });\n    };\n    _this.handleToggleKeyDown = function (event) {\n      var _this$state = _this.state,\n        activeNode = _this$state.activeNode,\n        active = _this$state.active; // enter\n\n      if ((!activeNode || !active) && event.keyCode === 13) {\n        _this.handleToggleDropdown();\n      } // delete\n\n      if (event.keyCode === 8) {\n        _this.handleClean(event);\n      }\n      if (!_this.treeViewRef.current) {\n        return;\n      }\n      if (event.target instanceof HTMLElement) {\n        var className = event.target.className;\n        if (className.includes(_this.addPrefix('toggle')) || className.includes(_this.addPrefix('toggle-custom')) || className.includes(_this.addPrefix('search-bar-input'))) {\n          onMenuKeyDown(event, {\n            down: _this.focusNextItem\n          });\n        }\n      }\n    };\n    _this.handleSearch = function (value, event) {\n      var filterData = _this.state.filterData;\n      var _this$props3 = _this.props,\n        onSearch = _this$props3.onSearch,\n        searchKeyword = _this$props3.searchKeyword;\n      if (_isUndefined(searchKeyword)) {\n        _this.setState({\n          filterData: _this.getFilterData(value, filterData),\n          searchKeyword: value\n        });\n      }\n      onSearch === null || onSearch === void 0 ? void 0 : onSearch(value, event);\n    };\n    _this.handleClean = function (evnet) {\n      var _this$props$onChange, _this$props4;\n      _this.setState({\n        selectedValues: [],\n        hasValue: false,\n        activeNode: {}\n      });\n      _this.unserializeLists({\n        check: []\n      });\n      (_this$props$onChange = (_this$props4 = _this.props).onChange) === null || _this$props$onChange === void 0 ? void 0 : _this$props$onChange.call(_this$props4, [], evnet);\n    };\n    _this.handleOnOpen = function () {\n      var _this$props$onOpen, _this$props5;\n      var activeNode = _this.state.activeNode;\n      if (activeNode) {\n        var _node$focus3;\n        var node = _this.getElementByDataKey(activeNode.refKey);\n        node === null || node === void 0 ? void 0 : (_node$focus3 = node.focus) === null || _node$focus3 === void 0 ? void 0 : _node$focus3.call(node);\n      }\n      (_this$props$onOpen = (_this$props5 = _this.props).onOpen) === null || _this$props$onOpen === void 0 ? void 0 : _this$props$onOpen.call(_this$props5);\n      _this.setState({\n        active: true\n      });\n    };\n    _this.handleOnClose = function () {\n      var filterData = _this.state.filterData;\n      var _this$props6 = _this.props,\n        onClose = _this$props6.onClose,\n        searchKeyword = _this$props6.searchKeyword;\n      if (_isUndefined(searchKeyword)) {\n        _this.setState({\n          filterData: _this.getFilterData('', filterData),\n          searchKeyword: ''\n        });\n      }\n      onClose === null || onClose === void 0 ? void 0 : onClose();\n      _this.setState({\n        active: false\n      });\n    };\n    _this.measureRowRenderer = function (nodes) {\n      return function (_ref) {\n        var key = _ref.key,\n          index = _ref.index,\n          style = _ref.style,\n          parent = _ref.parent;\n        var node = nodes[index];\n        return React.createElement(CellMeasurer, {\n          cache: _this.cache,\n          columnIndex: 0,\n          key: key,\n          rowIndex: index,\n          parent: parent\n        }, function () {\n          return _this.renderVirtualNode(node, {\n            key: key,\n            style: style\n          });\n        });\n      };\n    };\n    var _value = _props.value,\n      data = _props.data,\n      cascade = _props.cascade,\n      _childrenKey = _props.childrenKey,\n      _searchKeyword = _props.searchKeyword;\n    _this.nodes = {};\n    var nextValue = _this.getValue(_props);\n    var _nextExpandItemValues = getExpandItemValues(_props);\n    var nextData = [].concat(data);\n    _this.flattenNodes(nextData, _props);\n    _this.unserializeLists({\n      check: nextValue,\n      expand: _nextExpandItemValues\n    }, _props, true);\n    _this.state = {\n      data: data,\n      value: _value,\n      cascade: cascade,\n      hasValue: _this.hasValue(nextValue),\n      expandAll: getExpandAll(_props),\n      filterData: _this.getFilterData(_searchKeyword, nextData, _props),\n      searchKeyword: _searchKeyword || '',\n      selectedValues: nextValue,\n      expandItemValues: _this.serializeList('expand'),\n      uncheckableItemValues: _props.uncheckableItemValues,\n      isSomeNodeHasChildren: isSomeNodeHasChildren(data, _childrenKey)\n    };\n    _this.treeViewRef = React.createRef();\n    _this.positionRef = React.createRef();\n    _this.listRef = React.createRef();\n    _this.triggerRef = React.createRef();\n    _this.toggleRef = React.createRef(); // for test\n\n    _this.menuRef = React.createRef();\n    treeDeprecatedWarning(_props, ['expandAll']);\n    return _this;\n  }\n  CheckTreePicker.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var value = nextProps.value,\n      data = nextProps.data,\n      cascade = nextProps.cascade,\n      expandAll = nextProps.expandAll,\n      searchKeyword = nextProps.searchKeyword,\n      uncheckableItemValues = nextProps.uncheckableItemValues,\n      expandItemValues = nextProps.expandItemValues;\n    var nextState = {};\n    if (_isArray(data) && _isArray(prevState.data) && prevState.data !== data) {\n      nextState.data = data;\n    }\n    if (compareArray(value, prevState.value)) {\n      nextState.value = value;\n    }\n    if (compareArray(expandItemValues, prevState.expandItemValues) && _isArray(expandItemValues)) {\n      nextState.expandItemValues = expandItemValues;\n    }\n    if (compareArray(uncheckableItemValues, prevState.uncheckableItemValues) && _isArray(uncheckableItemValues)) {\n      nextState.uncheckableItemValues = uncheckableItemValues;\n    }\n    if (!_isUndefined(searchKeyword) && searchKeyword !== prevState.searchKeyword) {\n      nextState.searchKeyword = searchKeyword;\n    }\n    if (cascade !== prevState.cascade) {\n      nextState.cascade = cascade;\n    }\n    if (expandAll !== prevState.expandAll) {\n      nextState.expandAll = expandAll;\n    }\n    return Object.keys(nextState).length ? nextState : null;\n  };\n  var _proto = CheckTreePicker.prototype;\n  _proto.componentDidUpdate = function componentDidUpdate(_prevProps, prevState) {\n    this.updateDataChange(prevState);\n    this.updateValueChange(prevState);\n    this.updateExpandItemValuesChange(prevState);\n    this.updateUncheckableItemValuesChange(prevState);\n    this.updateCascadeChange(prevState);\n    this.updateSearchKeywordChange(prevState);\n    if (this.listRef.current) {\n      this.listRef.current.forceUpdateGrid();\n    }\n  };\n  _proto.updateDataChange = function updateDataChange(prevState) {\n    var searchKeyword = this.state.searchKeyword;\n    var _this$props7 = this.props,\n      _this$props7$data = _this$props7.data,\n      data = _this$props7$data === void 0 ? [] : _this$props7$data,\n      childrenKey = _this$props7.childrenKey;\n    if (prevState.data !== data) {\n      var nextData = [].concat(data);\n      this.nodes = {};\n      this.flattenNodes(nextData);\n      this.unserializeLists({\n        check: this.getValue()\n      });\n      this.setState({\n        data: nextData,\n        filterData: this.getFilterData(searchKeyword, nextData),\n        isSomeNodeHasChildren: isSomeNodeHasChildren(nextData, childrenKey),\n        hasValue: this.hasValue(),\n        expandItemValues: this.serializeList('expand')\n      });\n    }\n  };\n  _proto.updateValueChange = function updateValueChange(prevState) {\n    var expandItemValues = this.state.expandItemValues;\n    var value = this.props.value;\n    if (compareArray(value, prevState.value)) {\n      this.unserializeLists({\n        check: value !== null && value !== void 0 ? value : [],\n        expand: expandItemValues\n      });\n      this.setState({\n        selectedValues: value,\n        hasValue: this.hasValue(value),\n        activeNode: value.length ? this.activeNode : null\n      });\n    }\n  };\n  _proto.updateExpandItemValuesChange = function updateExpandItemValuesChange(prevState) {\n    var expandItemValues = this.props.expandItemValues;\n    if (compareArray(expandItemValues, prevState.expandItemValues) && _isArray(expandItemValues)) {\n      this.unserializeLists({\n        expand: expandItemValues\n      });\n      this.setState({\n        expandItemValues: expandItemValues\n      });\n    }\n  };\n  _proto.updateUncheckableItemValuesChange = function updateUncheckableItemValuesChange(prevState) {\n    var _this$state2 = this.state,\n      data = _this$state2.data,\n      selectedValues = _this$state2.selectedValues,\n      expandItemValues = _this$state2.expandItemValues;\n    var uncheckableItemValues = this.props.uncheckableItemValues;\n    if (compareArray(uncheckableItemValues, prevState.uncheckableItemValues) && _isArray(uncheckableItemValues)) {\n      this.flattenNodes(data);\n      this.unserializeLists({\n        check: selectedValues,\n        expand: expandItemValues\n      });\n      this.setState({\n        hasValue: this.hasValue()\n      });\n    }\n  };\n  _proto.updateCascadeChange = function updateCascadeChange(prevState) {\n    var _this$state3 = this.state,\n      data = _this$state3.data,\n      selectedValues = _this$state3.selectedValues,\n      expandItemValues = _this$state3.expandItemValues;\n    var cascade = this.props.cascade; // cascade 改变时，重新初始化\n\n    if (cascade !== prevState.cascade && cascade) {\n      this.flattenNodes(data);\n      this.unserializeLists({\n        check: selectedValues,\n        expand: expandItemValues\n      });\n      this.setState({\n        cascade: cascade\n      });\n    }\n  };\n  _proto.updateSearchKeywordChange = function updateSearchKeywordChange(prevState) {\n    var filterData = this.state.filterData;\n    var searchKeyword = this.props.searchKeyword;\n    if (!_isUndefined(searchKeyword) && prevState.searchKeyword !== searchKeyword) {\n      this.setState({\n        filterData: this.getFilterData(searchKeyword, filterData)\n      });\n    }\n  };\n  _proto.getNodeCheckState = function getNodeCheckState(node, cascade) {\n    var childrenKey = this.props.childrenKey;\n    if (!node[childrenKey] || !node[childrenKey].length || !cascade) {\n      this.nodes[node.refKey].checkAll = false;\n      return node.check ? CHECK_STATE.CHECK : CHECK_STATE.UNCHECK;\n    }\n    if (isEveryChildChecked(node, this.nodes, this.props)) {\n      this.nodes[node.refKey].checkAll = true;\n      this.nodes[node.refKey].check = true;\n      return CHECK_STATE.CHECK;\n    }\n    if (isSomeChildChecked(node, this.nodes, this.props)) {\n      this.nodes[node.refKey].checkAll = false;\n      return CHECK_STATE.INDETERMINATE;\n    }\n    return CHECK_STATE.UNCHECK;\n  };\n  _proto.getFilterData = function getFilterData(searchKeyword, data, props) {\n    if (searchKeyword === void 0) {\n      searchKeyword = '';\n    }\n    if (props === void 0) {\n      props = this.props;\n    }\n    var _props3 = props,\n      labelKey = _props3.labelKey,\n      childrenKey = _props3.childrenKey,\n      searchBy = _props3.searchBy;\n    var setVisible = function setVisible(nodes) {\n      if (nodes === void 0) {\n        nodes = [];\n      }\n      return nodes.forEach(function (item) {\n        item.visible = searchBy ? searchBy(searchKeyword, item[labelKey], item) : shouldDisplay(item[labelKey], searchKeyword);\n        if (_isArray(item[childrenKey])) {\n          setVisible(item[childrenKey]);\n          item[childrenKey].forEach(function (child) {\n            if (child.visible) {\n              item.visible = child.visible;\n            }\n          });\n        }\n      });\n    };\n    setVisible(data);\n    return data;\n  };\n  _proto.getActiveElementOption = function getActiveElementOption(options, refKey) {\n    var childrenKey = this.props.childrenKey;\n    for (var i = 0; i < options.length; i += 1) {\n      var _options$i$childrenKe;\n      if (options[i].refKey === refKey) {\n        return options[i];\n      } else if ((_options$i$childrenKe = options[i][childrenKey]) === null || _options$i$childrenKe === void 0 ? void 0 : _options$i$childrenKe.length) {\n        var active = this.getActiveElementOption(options[i][childrenKey], refKey);\n        if (!_isEmpty(active)) {\n          return active;\n        }\n      }\n    }\n    return {};\n  };\n  _proto.getFlattenTreeData = function getFlattenTreeData(nodes) {\n    var _this4 = this;\n    var expandItemValues = this.state.expandItemValues;\n    var _this$props8 = this.props,\n      childrenKey = _this$props8.childrenKey,\n      valueKey = _this$props8.valueKey;\n    return flattenTree(nodes, childrenKey, function (node) {\n      var formatted = {};\n      var curNode = _this4.nodes[node.refKey];\n      var parentKeys = getNodeParents(curNode, 'parentNode', valueKey);\n      if (curNode) {\n        formatted = _extends({}, node, {\n          check: curNode.check,\n          expand: curNode.expand,\n          uncheckable: curNode.uncheckable,\n          layer: curNode.layer,\n          parentNode: curNode.parentNode,\n          showNode: shouldShowNodeByExpanded(expandItemValues, parentKeys)\n        });\n      }\n      return formatted;\n    });\n  };\n  _proto.getItemsAndActiveIndex = function getItemsAndActiveIndex() {\n    var items = this.getFocusableMenuItems();\n    var activeIndex = -1;\n    items.forEach(function (item, index) {\n      if (document.activeElement !== null) {\n        if (item.refKey === document.activeElement.getAttribute('data-key')) {\n          activeIndex = index;\n        }\n      }\n    });\n    return {\n      items: items,\n      activeIndex: activeIndex\n    };\n  };\n  _proto.getActiveItem = function getActiveItem() {\n    var filterData = this.state.filterData;\n    var activeItem = document.activeElement;\n    if (activeItem !== null) {\n      var _activeItem$dataset, _activeItem$dataset2, _this$nodes$nodeData$, _this$nodes$nodeData$2;\n      var key = activeItem === null || activeItem === void 0 ? void 0 : (_activeItem$dataset = activeItem.dataset) === null || _activeItem$dataset === void 0 ? void 0 : _activeItem$dataset.key;\n      var layer = activeItem === null || activeItem === void 0 ? void 0 : (_activeItem$dataset2 = activeItem.dataset) === null || _activeItem$dataset2 === void 0 ? void 0 : _activeItem$dataset2.layer;\n      var nodeData = this.getActiveElementOption(filterData, key);\n      nodeData.check = !((_this$nodes$nodeData$ = this.nodes[nodeData.refKey]) === null || _this$nodes$nodeData$ === void 0 ? void 0 : _this$nodes$nodeData$.check);\n      nodeData.parentNode = (_this$nodes$nodeData$2 = this.nodes[nodeData.refKey]) === null || _this$nodes$nodeData$2 === void 0 ? void 0 : _this$nodes$nodeData$2.parentNode;\n      return {\n        nodeData: nodeData,\n        layer: layer\n      };\n    }\n    return {};\n  }\n  /**\n   * 获取已选择的items，用于显示在placeholder\n   */;\n\n  _proto.getSelectedItems = function getSelectedItems(selectedValues) {\n    var _this5 = this;\n    var valueKey = this.props.valueKey;\n    var checkItems = [];\n    Object.keys(this.nodes).map(function (refKey) {\n      var node = _this5.nodes[refKey];\n      if (selectedValues.some(function (value) {\n        return shallowEqual(node[valueKey], value);\n      })) {\n        checkItems.push(node);\n      }\n    });\n    return checkItems;\n  }\n  /**\n   * 判断传入的 value 是否存在于data 中\n   * @param {*} values\n   */;\n\n  _proto.hasValue = function hasValue(values) {\n    var _this6 = this;\n    if (values === void 0) {\n      values = this.state.selectedValues;\n    }\n    var valueKey = this.props.valueKey;\n    var selectedValues = Object.keys(this.nodes).map(function (refKey) {\n      return _this6.nodes[refKey][valueKey];\n    }).filter(function (item) {\n      return values.some(function (v) {\n        return shallowEqual(v, item);\n      });\n    });\n    return !!selectedValues.length;\n  }\n  /**\n   * 拍平数组，将tree 转换为一维对象\n   * @param {*} nodes tree data\n   * @param {*} ref 当前层级\n   */;\n\n  _proto.flattenNodes = function flattenNodes(nodes, props, ref, parentNode, layer) {\n    var _this7 = this;\n    if (ref === void 0) {\n      ref = '0';\n    }\n    if (layer === void 0) {\n      layer = 0;\n    }\n    var _ref2 = props || this.props,\n      labelKey = _ref2.labelKey,\n      valueKey = _ref2.valueKey,\n      childrenKey = _ref2.childrenKey;\n    if (!Array.isArray(nodes) || nodes.length === 0) {\n      return;\n    }\n    nodes.forEach(function (node, index) {\n      var _this7$nodes$refKey;\n      var refKey = ref + \"-\" + index;\n      node.refKey = refKey;\n      _this7.nodes[refKey] = (_this7$nodes$refKey = {\n        layer: layer\n      }, _this7$nodes$refKey[labelKey] = node[labelKey], _this7$nodes$refKey[valueKey] = node[valueKey], _this7$nodes$refKey.expand = getExpandState(node, props || _this7.props), _this7$nodes$refKey.uncheckable = getUncheckableState(node, props || _this7.props), _this7$nodes$refKey.refKey = refKey, _this7$nodes$refKey);\n      if (parentNode) {\n        _this7.nodes[refKey].parentNode = parentNode;\n      }\n      _this7.flattenNodes(node[childrenKey], props, refKey, _this7.nodes[refKey], layer + 1);\n    });\n  }\n  /**\n   * 过滤选中的 values 中不包含 uncheckableItemValues 的那些值\n   * @param {*} values\n   */;\n\n  _proto.filterSelectedValues = function filterSelectedValues(values) {\n    var _this$props$uncheckab = this.props.uncheckableItemValues,\n      uncheckableItemValues = _this$props$uncheckab === void 0 ? [] : _this$props$uncheckab;\n    return values.filter(function (value) {\n      return !uncheckableItemValues.includes(value);\n    });\n  };\n  _proto.serializeList = function serializeList(key, nodes) {\n    if (nodes === void 0) {\n      nodes = this.nodes;\n    }\n    var valueKey = this.props.valueKey;\n    var list = [];\n    Object.keys(nodes).forEach(function (refKey) {\n      if (nodes[refKey][key]) {\n        list.push(nodes[refKey][valueKey]);\n      }\n    });\n    return list;\n  };\n  _proto.serializeListOnlyParent = function serializeListOnlyParent(key, nodes) {\n    if (nodes === void 0) {\n      nodes = this.nodes;\n    }\n    var valueKey = this.props.valueKey;\n    var list = [];\n    Object.keys(nodes).forEach(function (refKey) {\n      var currentNode = nodes[refKey];\n      if (currentNode.parentNode) {\n        var _currentNode$parentNo;\n        var parentNode = nodes[(_currentNode$parentNo = currentNode.parentNode) === null || _currentNode$parentNo === void 0 ? void 0 : _currentNode$parentNo.refKey];\n        if (currentNode[key]) {\n          if (!(parentNode === null || parentNode === void 0 ? void 0 : parentNode.checkAll)) {\n            list.push(nodes[refKey][valueKey]);\n          } else if (parentNode === null || parentNode === void 0 ? void 0 : parentNode.uncheckable) {\n            list.push(nodes[refKey][valueKey]);\n          }\n        }\n      } else {\n        if (currentNode[key]) {\n          list.push(nodes[refKey][valueKey]);\n        }\n      }\n    });\n    return list;\n  };\n  _proto.unserializeLists = function unserializeLists(lists, nextProps, initial) {\n    var _this8 = this;\n    if (nextProps === void 0) {\n      nextProps = this.props;\n    }\n    if (initial === void 0) {\n      initial = false;\n    }\n    var _nextProps = nextProps,\n      valueKey = _nextProps.valueKey,\n      cascade = _nextProps.cascade,\n      _nextProps$uncheckabl = _nextProps.uncheckableItemValues,\n      uncheckableItemValues = _nextProps$uncheckabl === void 0 ? [] : _nextProps$uncheckabl;\n    var expandAll = getExpandAll(nextProps); // Reset values to false\n\n    Object.keys(this.nodes).forEach(function (refKey) {\n      Object.keys(lists).forEach(function (listKey) {\n        if (listKey === 'check') {\n          var node = _this8.nodes[refKey];\n          if (cascade && 'parentNode' in node) {\n            node[listKey] = node.parentNode[listKey];\n          } else {\n            node[listKey] = false;\n          }\n          lists[listKey].forEach(function (value) {\n            if (shallowEqual(_this8.nodes[refKey][valueKey], value) && !uncheckableItemValues.some(function (uncheckableValue) {\n              return shallowEqual(value, uncheckableValue);\n            })) {\n              _this8.nodes[refKey][listKey] = true;\n            }\n          });\n        }\n        if (listKey === 'expand') {\n          _this8.nodes[refKey][listKey] = false;\n          if (lists[listKey].length) {\n            lists[listKey].forEach(function (value) {\n              if (shallowEqual(_this8.nodes[refKey][valueKey], value)) {\n                _this8.nodes[refKey][listKey] = true;\n              }\n            });\n          } else {\n            _this8.nodes[refKey][listKey] = initial ? expandAll : false;\n          }\n        }\n      });\n    });\n  };\n  _proto.toggleChecked = function toggleChecked(node, isChecked) {\n    var nodes = clone(this.nodes);\n    this.toggleDownChecked(nodes, node, isChecked);\n    node.parentNode && this.toggleUpChecked(nodes, node.parentNode, isChecked);\n    var values = this.serializeListOnlyParent('check', nodes);\n    return this.filterSelectedValues(values);\n  };\n  _proto.toggleUpChecked = function toggleUpChecked(nodes, node, checked) {\n    var cascade = this.props.cascade;\n    var currentNode = nodes[node.refKey];\n    if (cascade) {\n      if (!checked) {\n        currentNode.check = checked;\n        currentNode.checkAll = checked;\n      } else {\n        if (this.everyChildChecked(nodes, node)) {\n          currentNode.check = true;\n          currentNode.checkAll = true;\n        } else {\n          currentNode.check = false;\n          currentNode.checkAll = false;\n        }\n      }\n      if (node.parentNode) {\n        this.toggleUpChecked(nodes, node.parentNode, checked);\n      }\n    }\n  };\n  _proto.toggleDownChecked = function toggleDownChecked(nodes, node, isChecked) {\n    var _this9 = this;\n    var _this$props9 = this.props,\n      childrenKey = _this$props9.childrenKey,\n      cascade = _this$props9.cascade;\n    nodes[node.refKey].check = isChecked;\n    if (!node[childrenKey] || !node[childrenKey].length || !cascade) {\n      nodes[node.refKey].checkAll = false;\n    } else {\n      nodes[node.refKey].checkAll = isChecked;\n      node[childrenKey].forEach(function (child) {\n        _this9.toggleDownChecked(nodes, child, isChecked);\n      });\n    }\n  };\n  _proto.toggleNode = function toggleNode(key, node, toggleValue) {\n    // 如果该节点处于 disabledCheckbox，则忽略该值\n    if (!node.uncheckable) {\n      this.nodes[node.refKey][key] = toggleValue;\n    }\n  };\n  _proto.toggleExpand = function toggleExpand(node, isExpand) {\n    var valueKey = this.props.valueKey;\n    var expandItemValues = new Set(this.serializeList('expand'));\n    if (isExpand) {\n      expandItemValues.add(node[valueKey]);\n    } else {\n      expandItemValues.delete(node[valueKey]);\n    }\n    return Array.from(expandItemValues);\n  };\n  _proto.renderDropdownMenu = function renderDropdownMenu() {\n    var _this$props10 = this.props,\n      locale = _this$props10.locale,\n      menuStyle = _this$props10.menuStyle,\n      searchable = _this$props10.searchable,\n      renderMenu = _this$props10.renderMenu,\n      searchKeyword = _this$props10.searchKeyword,\n      renderExtraFooter = _this$props10.renderExtraFooter,\n      menuClassName = _this$props10.menuClassName,\n      menuAutoWidth = _this$props10.menuAutoWidth;\n    var keyword = !_isUndefined(searchKeyword) ? searchKeyword : this.state.searchKeyword;\n    var classes = classNames(menuClassName, this.addPrefix('check-tree-menu'));\n    var menu = this.renderCheckTree();\n    return React.createElement(MenuWrapper, {\n      autoWidth: menuAutoWidth,\n      className: classes,\n      style: menuStyle,\n      ref: this.menuRef,\n      getToggleInstance: this.getToggleInstance,\n      getPositionInstance: this.getPositionInstance\n    }, searchable ? React.createElement(SearchBar, {\n      placeholder: locale.searchPlaceholder,\n      key: \"searchBar\",\n      onChange: this.handleSearch,\n      value: keyword\n    }) : null, renderMenu ? renderMenu(menu) : menu, renderExtraFooter === null || renderExtraFooter === void 0 ? void 0 : renderExtraFooter());\n  };\n  _proto.renderNode = function renderNode(node, layer) {\n    var _this10 = this;\n    var _this$state4 = this.state,\n      activeNode = _this$state4.activeNode,\n      searchKeyword = _this$state4.searchKeyword;\n    var _this$props11 = this.props,\n      valueKey = _this$props11.valueKey,\n      labelKey = _this$props11.labelKey,\n      childrenKey = _this$props11.childrenKey,\n      renderTreeNode = _this$props11.renderTreeNode,\n      renderTreeIcon = _this$props11.renderTreeIcon,\n      cascade = _this$props11.cascade,\n      locale = _this$props11.locale;\n    var visible = node.visible,\n      refKey = node.refKey; // 当处于搜索时，需要将所有节点都展开\n\n    var expand = getExpandWhenSearching(searchKeyword, node.expand);\n    if (!visible) {\n      return null;\n    }\n    var key = _isString(node[valueKey]) || _isNumber(node[valueKey]) ? node[valueKey] : refKey;\n    var children = node[childrenKey]; // 当用户进行搜索时，hasChildren的判断要变成判断是否存在 visible 为 true 的子节点\n\n    var visibleChildren = _isUndefined(searchKeyword) || searchKeyword.length === 0 ? !!children : hasVisibleChildren(node, childrenKey);\n    var props = {\n      value: node[valueKey],\n      label: node[labelKey],\n      layer: layer,\n      expand: expand,\n      rtl: locale.rtl,\n      focus: activeNode ? shallowEqual(activeNode[valueKey], node[valueKey]) : false,\n      visible: node.visible,\n      disabled: getDisabledState(this.nodes, node, this.props),\n      nodeData: node,\n      checkState: this.getNodeCheckState(node, cascade),\n      hasChildren: visibleChildren,\n      uncheckable: node.uncheckable,\n      allUncheckable: getSiblingNodeUncheckable(node, this.nodes),\n      onSelect: this.handleSelect,\n      onTreeToggle: this.handleToggle,\n      onRenderTreeNode: renderTreeNode,\n      onRenderTreeIcon: renderTreeIcon\n    };\n    if (props.hasChildren) {\n      var _classNames;\n      layer += 1; // 是否展开树节点且子节点不为空\n\n      var openClass = this.addTreePrefix('open');\n      var childrenClass = classNames(this.addTreePrefix('node-children'), (_classNames = {}, _classNames[openClass] = expand && visibleChildren, _classNames));\n      var nodes = children || [];\n      return React.createElement(\"div\", {\n        className: childrenClass,\n        key: key,\n        ref: this.bindNodeRefs.bind(this, refKey)\n      }, React.createElement(CheckTreeNode, props), React.createElement(\"div\", {\n        className: this.addTreePrefix('children')\n      }, nodes.map(function (child) {\n        return _this10.renderNode(child, layer);\n      })));\n    }\n    return React.createElement(CheckTreeNode, _extends({\n      key: key,\n      innerRef: this.bindNodeRefs.bind(this, refKey)\n    }, props));\n  };\n  _proto.renderVirtualNode = function renderVirtualNode(node, options) {\n    var _this$state5 = this.state,\n      activeNode = _this$state5.activeNode,\n      expandAll = _this$state5.expandAll,\n      searchKeyword = _this$state5.searchKeyword;\n    var _this$props12 = this.props,\n      valueKey = _this$props12.valueKey,\n      labelKey = _this$props12.labelKey,\n      childrenKey = _this$props12.childrenKey,\n      renderTreeNode = _this$props12.renderTreeNode,\n      renderTreeIcon = _this$props12.renderTreeIcon,\n      cascade = _this$props12.cascade,\n      locale = _this$props12.locale;\n    var key = options.key,\n      style = options.style;\n    var layer = node.layer,\n      refKey = node.refKey,\n      showNode = node.showNode;\n    var expand = getExpandWhenSearching(searchKeyword, node.expand);\n    var children = node[childrenKey];\n    var props = {\n      value: node[valueKey],\n      label: node[labelKey],\n      layer: layer,\n      expand: expand,\n      rtl: locale.rtl,\n      focus: activeNode ? shallowEqual(activeNode[valueKey], node[valueKey]) : false,\n      visible: node.visible,\n      disabled: getDisabledState(this.nodes, node, this.props),\n      nodeData: node,\n      children: children,\n      expandAll: expandAll,\n      checkState: this.getNodeCheckState(node, cascade),\n      parentNode: node.parentNode,\n      hasChildren: !!children,\n      uncheckable: node.uncheckable,\n      allUncheckable: getSiblingNodeUncheckable(node, this.nodes),\n      onSelect: this.handleSelect,\n      onTreeToggle: this.handleToggle,\n      onRenderTreeNode: renderTreeNode,\n      onRenderTreeIcon: renderTreeIcon\n    };\n    return showNode && React.createElement(CheckTreeNode, _extends({\n      style: style,\n      key: key,\n      innerRef: this.bindNodeRefs.bind(this, refKey)\n    }, props));\n  };\n  _proto.renderCheckTree = function renderCheckTree() {\n    var _classNames2,\n      _this11 = this,\n      _classNames3;\n    var _this$state6 = this.state,\n      filterData = _this$state6.filterData,\n      isSomeNodeHasChildren = _this$state6.isSomeNodeHasChildren;\n    var _this$props13 = this.props,\n      inline = _this$props13.inline,\n      style = _this$props13.style,\n      height = _this$props13.height,\n      className = _this$props13.className,\n      onScroll = _this$props13.onScroll,\n      locale = _this$props13.locale,\n      virtualized = _this$props13.virtualized; // 树节点的层级\n\n    var layer = 0;\n    var classes = classNames(defaultClassPrefix('check-tree'), (_classNames2 = {}, _classNames2[className] = inline, _classNames2['without-children'] = !isSomeNodeHasChildren, _classNames2));\n    var formattedNodes = [];\n    if (!virtualized) {\n      formattedNodes = getFormattedTree(filterData, this.nodes, this.props).map(function (node) {\n        return _this11.renderNode(node, layer);\n      });\n      if (!formattedNodes.some(function (v) {\n        return v !== null;\n      })) {\n        return React.createElement(\"div\", {\n          className: this.addPrefix('none')\n        }, locale.noResultsText);\n      }\n    } else {\n      formattedNodes = this.getFlattenTreeData(filterData).filter(function (n) {\n        return n.showNode && n.visible;\n      });\n      if (!formattedNodes.length) {\n        return React.createElement(\"div\", {\n          className: this.addPrefix('none')\n        }, locale.noResultsText);\n      }\n    } // The height of virtualized tree should be subtract the value of paddingBottom\n\n    var treeHeight = height - 12;\n    var treeWidth = _isUndefined(style === null || style === void 0 ? void 0 : style.width) ? defaultWidth : style.width;\n    var listStyles = inline ? _extends({\n      height: height\n    }, style) : style;\n    var treeNodesClass = classNames(this.addTreePrefix('nodes'), (_classNames3 = {}, _classNames3[this.addTreePrefix('all-uncheckable')] = getEveryFisrtLevelNodeUncheckable(this.nodes), _classNames3));\n    return React.createElement(\"div\", {\n      ref: this.treeViewRef,\n      className: classes,\n      style: listStyles,\n      onScroll: onScroll,\n      onKeyDown: this.handleKeyDown\n    }, React.createElement(\"div\", {\n      className: treeNodesClass\n    }, virtualized ? React.createElement(AutoSizer, {\n      defaultHeight: treeHeight,\n      defaultWidth: treeWidth,\n      style: {\n        width: 'auto',\n        height: 'auto'\n      }\n    }, function (_ref3) {\n      var height = _ref3.height,\n        width = _ref3.width;\n      return React.createElement(List, {\n        ref: _this11.listRef,\n        width: width || treeWidth,\n        height: height,\n        rowHeight: 36,\n        rowCount: formattedNodes.length,\n        rowRenderer: _this11.measureRowRenderer(formattedNodes)\n      });\n    }) : formattedNodes));\n  };\n  _proto.render = function render() {\n    var _this$props14 = this.props,\n      cascade = _this$props14.cascade,\n      style = _this$props14.style,\n      locale = _this$props14.locale,\n      inline = _this$props14.inline,\n      disabled = _this$props14.disabled,\n      valueKey = _this$props14.valueKey,\n      labelKey = _this$props14.labelKey,\n      cleanable = _this$props14.cleanable,\n      countable = _this$props14.countable,\n      placeholder = _this$props14.placeholder,\n      toggleComponentClass = _this$props14.toggleComponentClass,\n      onExited = _this$props14.onExited,\n      onEntered = _this$props14.onEntered,\n      onClean = _this$props14.onClean,\n      renderValue = _this$props14.renderValue,\n      positionRef = _this$props14.positionRef,\n      rest = _objectWithoutPropertiesLoose(_this$props14, [\"cascade\", \"style\", \"locale\", \"inline\", \"disabled\", \"valueKey\", \"labelKey\", \"cleanable\", \"countable\", \"placeholder\", \"toggleComponentClass\", \"onExited\", \"onEntered\", \"onClean\", \"renderValue\", \"positionRef\"]);\n    var _this$state7 = this.state,\n      hasValue = _this$state7.hasValue,\n      selectedValues = _this$state7.selectedValues;\n    var hasValidValue = hasValue || selectedValues.length > 0 && _isFunction(renderValue);\n    var selectedItems = this.getSelectedItems(selectedValues);\n    var selectedElement = placeholder;\n    /**\n     * if value is invalid and renderValue is undefined, then using placeholder.\n     * if value is valid and renderValue is't undefined, then using renderValue()\n     */\n\n    if (selectedValues.length) {\n      if (hasValue) {\n        selectedElement = React.createElement(SelectedElement, {\n          selectedItems: selectedItems,\n          countable: countable,\n          valueKey: valueKey,\n          labelKey: labelKey,\n          prefix: this.addPrefix,\n          cascade: cascade,\n          locale: locale\n        });\n      }\n      if (_isFunction(renderValue)) {\n        selectedElement = renderValue(selectedValues, selectedItems, selectedElement);\n        if (_isNil(selectedElement)) {\n          hasValidValue = false;\n        }\n      }\n    }\n    var unhandled = getUnhandledProps(CheckTreePicker, rest);\n    var classes = getToggleWrapperClassName('check-tree', this.addPrefix, this.props, hasValidValue);\n    if (inline) {\n      return this.renderCheckTree();\n    }\n    return React.createElement(PickerToggleTrigger, {\n      pickerProps: this.props,\n      ref: this.triggerRef,\n      positionRef: mergeRefs(this.positionRef, positionRef),\n      onEntered: createChainedFunction(this.handleOnOpen, onEntered),\n      onExited: createChainedFunction(this.handleOnClose, onExited),\n      speaker: this.renderDropdownMenu()\n    }, React.createElement(\"div\", {\n      className: classes,\n      style: style\n    }, React.createElement(PickerToggle, _extends({}, unhandled, {\n      ref: this.toggleRef,\n      onKeyDown: this.handleToggleKeyDown,\n      onClean: createChainedFunction(this.handleClean, onClean),\n      componentClass: toggleComponentClass,\n      cleanable: cleanable && !disabled,\n      hasValue: hasValidValue,\n      active: this.state.active,\n      \"aria-disabled\": disabled\n    }), selectedElement || locale.placeholder)));\n  };\n  return CheckTreePicker;\n}(React.Component);\nCheckTreePicker.propTypes = _extends({}, listPickerPropTypes, {\n  height: PropTypes.number,\n  inline: PropTypes.bool,\n  cascade: PropTypes.bool,\n  countable: PropTypes.bool,\n  expandAll: PropTypes.bool,\n  searchable: PropTypes.bool,\n  virtualized: PropTypes.bool,\n  searchKeyword: PropTypes.string,\n  menuAutoWidth: PropTypes.bool,\n  defaultExpandAll: PropTypes.bool,\n  containerPadding: PropTypes.number,\n  disabledItemValues: PropTypes.array,\n  expandItemValues: PropTypes.array,\n  defaultExpandItemValues: PropTypes.array,\n  uncheckableItemValues: PropTypes.array,\n  onSearch: PropTypes.func,\n  onExpand: PropTypes.func,\n  onSelect: PropTypes.func,\n  onScroll: PropTypes.func,\n  renderMenu: PropTypes.func,\n  renderTreeNode: PropTypes.func,\n  renderTreeIcon: PropTypes.func,\n  searchBy: PropTypes.func\n});\nCheckTreePicker.defaultProps = _extends({}, listPickerDefaultProps, {\n  height: defaultHeight,\n  cascade: true,\n  countable: true,\n  searchable: true,\n  menuAutoWidth: true,\n  defaultValue: [],\n  uncheckableItemValues: [],\n  locale: {\n    placeholder: 'Select',\n    searchPlaceholder: 'Search',\n    noResultsText: 'No results found',\n    checkAll: 'All'\n  }\n});\npolyfill(CheckTreePicker);\nexport default defaultProps({\n  classPrefix: 'picker'\n})(CheckTreePicker);","map":{"version":3,"names":["_objectWithoutPropertiesLoose","_extends","_inheritsLoose","_isNil","_isFunction","_isNumber","_isString","_isEmpty","_isUndefined","_isArray","React","PropTypes","classNames","List","AutoSizer","CellMeasurerCache","CellMeasurer","polyfill","shallowEqual","CheckTreeNode","CHECK_STATE","clone","defaultProps","prefix","defaultClassPrefix","getUnhandledProps","createChainedFunction","mergeRefs","PickerToggle","getToggleWrapperClassName","onMenuKeyDown","MenuWrapper","SearchBar","SelectedElement","PickerToggleTrigger","createConcatChildrenFunction","shouldDisplay","isEveryChildChecked","isSomeChildChecked","isSomeNodeHasChildren","getSiblingNodeUncheckable","getEveryFisrtLevelNodeUncheckable","getUncheckableState","getFormattedTree","getDisabledState","compareArray","shouldShowNodeByExpanded","flattenTree","getNodeParents","hasVisibleChildren","treeDeprecatedWarning","getExpandItemValues","getExpandAll","getExpandState","getExpandWhenSearching","listPickerPropTypes","listPickerDefaultProps","defaultHeight","defaultWidth","CheckTreePicker","_React$Component","_props","_this","call","menuRef","treeViewRef","positionRef","listRef","triggerRef","toggleRef","getValue","props","_props2","value","defaultValue","_props2$uncheckableIt","uncheckableItemValues","length","filter","v","includes","getElementByDataKey","dataKey","ele","nodeRefs","Element","querySelector","addTreePrefix","getFocusableMenuItems","filterData","state","childrenKey","items","loop","treeNodes","forEach","node","nodeData","nodes","refKey","visible","push","activeNode","cache","fixedWidth","minHeight","bindNodeRefs","ref","getPositionInstance","current","getToggleInstance","selectActiveItem","event","_this$getActiveItem","getActiveItem","handleSelect","focusNextItem","_node$focus","_this$getItemsAndActi","getItemsAndActiveIndex","activeIndex","nextIndex","focus","focusPreviousItem","_node$focus2","_this$getItemsAndActi2","prevIndex","handleCloseDropdown","_this$triggerRef$curr","_this$triggerRef$curr2","hide","handleOpenDropdown","_this$triggerRef$curr3","_this$triggerRef$curr4","show","open","_this$handleOpenDropd","_this2","close","_this$handleCloseDrop","_this3","handleToggleDropdown","active","everyChildChecked","list","Object","keys","_curNode$parentNode","curNode","parentNode","uncheckable","every","l","check","addPrefix","name","classPrefix","_this$props","onChange","onSelect","selectedValues","toggleChecked","unserializeLists","setState","hasValue","handleToggle","_this$props2","valueKey","onExpand","expandItemValues","nextExpandItemValues","toggleExpand","expand","handleKeyDown","down","up","enter","del","handleClean","handleToggleKeyDown","_this$state","keyCode","target","HTMLElement","className","handleSearch","_this$props3","onSearch","searchKeyword","getFilterData","evnet","_this$props$onChange","_this$props4","handleOnOpen","_this$props$onOpen","_this$props5","_node$focus3","onOpen","handleOnClose","_this$props6","onClose","measureRowRenderer","_ref","key","index","style","parent","createElement","columnIndex","rowIndex","renderVirtualNode","_value","data","cascade","_childrenKey","_searchKeyword","nextValue","_nextExpandItemValues","nextData","concat","flattenNodes","expandAll","serializeList","createRef","getDerivedStateFromProps","nextProps","prevState","nextState","_proto","prototype","componentDidUpdate","_prevProps","updateDataChange","updateValueChange","updateExpandItemValuesChange","updateUncheckableItemValuesChange","updateCascadeChange","updateSearchKeywordChange","forceUpdateGrid","_this$props7","_this$props7$data","_this$state2","_this$state3","getNodeCheckState","checkAll","CHECK","UNCHECK","INDETERMINATE","_props3","labelKey","searchBy","setVisible","item","child","getActiveElementOption","options","i","_options$i$childrenKe","getFlattenTreeData","_this4","_this$props8","formatted","parentKeys","layer","showNode","document","activeElement","getAttribute","activeItem","_activeItem$dataset","_activeItem$dataset2","_this$nodes$nodeData$","_this$nodes$nodeData$2","dataset","getSelectedItems","_this5","checkItems","map","some","values","_this6","_this7","_ref2","Array","isArray","_this7$nodes$refKey","filterSelectedValues","_this$props$uncheckab","serializeListOnlyParent","currentNode","_currentNode$parentNo","lists","initial","_this8","_nextProps","_nextProps$uncheckabl","listKey","uncheckableValue","isChecked","toggleDownChecked","toggleUpChecked","checked","_this9","_this$props9","toggleNode","toggleValue","isExpand","Set","add","delete","from","renderDropdownMenu","_this$props10","locale","menuStyle","searchable","renderMenu","renderExtraFooter","menuClassName","menuAutoWidth","keyword","classes","menu","renderCheckTree","autoWidth","placeholder","searchPlaceholder","renderNode","_this10","_this$state4","_this$props11","renderTreeNode","renderTreeIcon","children","visibleChildren","label","rtl","disabled","checkState","hasChildren","allUncheckable","onTreeToggle","onRenderTreeNode","onRenderTreeIcon","_classNames","openClass","childrenClass","bind","innerRef","_this$state5","_this$props12","_classNames2","_this11","_classNames3","_this$state6","_this$props13","inline","height","onScroll","virtualized","formattedNodes","noResultsText","n","treeHeight","treeWidth","width","listStyles","treeNodesClass","onKeyDown","_ref3","rowHeight","rowCount","rowRenderer","render","_this$props14","cleanable","countable","toggleComponentClass","onExited","onEntered","onClean","renderValue","rest","_this$state7","hasValidValue","selectedItems","selectedElement","unhandled","pickerProps","speaker","componentClass","Component","propTypes","number","bool","string","defaultExpandAll","containerPadding","disabledItemValues","array","defaultExpandItemValues","func"],"sources":["/Users/azminds/Documents/five-g/frontend/node_modules/rsuite/es/CheckTreePicker/CheckTreePicker.js"],"sourcesContent":["import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _isNil from \"lodash/isNil\";\nimport _isFunction from \"lodash/isFunction\";\nimport _isNumber from \"lodash/isNumber\";\nimport _isString from \"lodash/isString\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport _isArray from \"lodash/isArray\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport List from 'react-virtualized/dist/commonjs/List';\nimport AutoSizer from 'react-virtualized/dist/commonjs/AutoSizer';\nimport { CellMeasurerCache, CellMeasurer } from 'react-virtualized/dist/commonjs/CellMeasurer';\nimport { polyfill } from 'react-lifecycles-compat';\nimport shallowEqual from '../utils/shallowEqual';\nimport CheckTreeNode from './CheckTreeNode';\nimport { CHECK_STATE } from '../constants';\nimport { clone, defaultProps, prefix, defaultClassPrefix, getUnhandledProps, createChainedFunction, mergeRefs } from '../utils';\nimport { PickerToggle, getToggleWrapperClassName, onMenuKeyDown, MenuWrapper, SearchBar, SelectedElement, PickerToggleTrigger, createConcatChildrenFunction, shouldDisplay } from '../Picker';\nimport { isEveryChildChecked, isSomeChildChecked, isSomeNodeHasChildren, getSiblingNodeUncheckable, getEveryFisrtLevelNodeUncheckable, getUncheckableState, getFormattedTree, getDisabledState } from './utils';\nimport { compareArray, shouldShowNodeByExpanded, flattenTree, getNodeParents, hasVisibleChildren, treeDeprecatedWarning, getExpandItemValues, getExpandAll, getExpandState, getExpandWhenSearching } from '../utils/treeUtils';\nimport { listPickerPropTypes, listPickerDefaultProps } from '../Picker/propTypes'; // default value for virtualized\n\nvar defaultHeight = 360;\nvar defaultWidth = 200;\n\nvar CheckTreePicker =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(CheckTreePicker, _React$Component);\n\n  function CheckTreePicker(_props) {\n    var _this;\n\n    _this = _React$Component.call(this, _props) || this;\n    _this.menuRef = void 0;\n    _this.treeViewRef = void 0;\n    _this.positionRef = void 0;\n    _this.listRef = void 0;\n    _this.triggerRef = void 0;\n    _this.toggleRef = void 0;\n\n    _this.getValue = function (props) {\n      if (props === void 0) {\n        props = _this.props;\n      }\n\n      var _props2 = props,\n          value = _props2.value,\n          defaultValue = _props2.defaultValue,\n          _props2$uncheckableIt = _props2.uncheckableItemValues,\n          uncheckableItemValues = _props2$uncheckableIt === void 0 ? [] : _props2$uncheckableIt;\n\n      if (value && value.length) {\n        return value.filter(function (v) {\n          return !uncheckableItemValues.includes(v);\n        });\n      }\n\n      if (defaultValue && defaultValue.length > 0) {\n        return defaultValue.filter(function (v) {\n          return !uncheckableItemValues.includes(v);\n        });\n      }\n\n      return [];\n    };\n\n    _this.getElementByDataKey = function (dataKey) {\n      var ele = _this.nodeRefs[dataKey];\n\n      if (ele instanceof Element) {\n        return ele.querySelector(\".\" + _this.addTreePrefix('node-label'));\n      }\n\n      return null;\n    };\n\n    _this.getFocusableMenuItems = function () {\n      var filterData = _this.state.filterData;\n      var childrenKey = _this.props.childrenKey;\n      var items = [];\n\n      var loop = function loop(treeNodes) {\n        treeNodes.forEach(function (node) {\n          var nodeData = _extends({}, node, {}, _this.nodes[node.refKey]);\n\n          if (!getDisabledState(_this.nodes, node, _this.props) && node.visible) {\n            items.push(node);\n          }\n\n          if (node[childrenKey] && getExpandState(nodeData, _this.props)) {\n            loop(node[childrenKey]);\n          }\n        });\n      };\n\n      loop(filterData);\n      return items;\n    };\n\n    _this.nodes = {};\n    _this.activeNode = null;\n    _this.cache = new CellMeasurerCache({\n      fixedWidth: true,\n      minHeight: 20\n    });\n    _this.nodeRefs = {};\n\n    _this.bindNodeRefs = function (refKey, ref) {\n      _this.nodeRefs[refKey] = ref;\n    };\n\n    _this.getPositionInstance = function () {\n      return _this.positionRef.current;\n    };\n\n    _this.getToggleInstance = function () {\n      return _this.toggleRef.current;\n    };\n\n    _this.selectActiveItem = function (event) {\n      var _this$getActiveItem = _this.getActiveItem(),\n          nodeData = _this$getActiveItem.nodeData;\n\n      _this.handleSelect(nodeData, event);\n    };\n\n    _this.focusNextItem = function () {\n      var _node$focus;\n\n      var _this$getItemsAndActi = _this.getItemsAndActiveIndex(),\n          items = _this$getItemsAndActi.items,\n          activeIndex = _this$getItemsAndActi.activeIndex;\n\n      if (items.length === 0) {\n        return;\n      }\n\n      var nextIndex = activeIndex === items.length - 1 ? 0 : activeIndex + 1;\n\n      var node = _this.getElementByDataKey(items[nextIndex].refKey);\n\n      node === null || node === void 0 ? void 0 : (_node$focus = node.focus) === null || _node$focus === void 0 ? void 0 : _node$focus.call(node);\n    };\n\n    _this.focusPreviousItem = function () {\n      var _node$focus2;\n\n      var _this$getItemsAndActi2 = _this.getItemsAndActiveIndex(),\n          items = _this$getItemsAndActi2.items,\n          activeIndex = _this$getItemsAndActi2.activeIndex;\n\n      if (items.length === 0) {\n        return;\n      }\n\n      var prevIndex = activeIndex === 0 ? items.length - 1 : activeIndex - 1;\n      prevIndex = prevIndex >= 0 ? prevIndex : 0;\n\n      var node = _this.getElementByDataKey(items[prevIndex].refKey);\n\n      node === null || node === void 0 ? void 0 : (_node$focus2 = node.focus) === null || _node$focus2 === void 0 ? void 0 : _node$focus2.call(node);\n    };\n\n    _this.handleCloseDropdown = function () {\n      var _this$triggerRef$curr, _this$triggerRef$curr2;\n\n      (_this$triggerRef$curr = _this.triggerRef.current) === null || _this$triggerRef$curr === void 0 ? void 0 : (_this$triggerRef$curr2 = _this$triggerRef$curr.hide) === null || _this$triggerRef$curr2 === void 0 ? void 0 : _this$triggerRef$curr2.call(_this$triggerRef$curr);\n    };\n\n    _this.handleOpenDropdown = function () {\n      var _this$triggerRef$curr3, _this$triggerRef$curr4;\n\n      (_this$triggerRef$curr3 = _this.triggerRef.current) === null || _this$triggerRef$curr3 === void 0 ? void 0 : (_this$triggerRef$curr4 = _this$triggerRef$curr3.show) === null || _this$triggerRef$curr4 === void 0 ? void 0 : _this$triggerRef$curr4.call(_this$triggerRef$curr3);\n    };\n\n    _this.open = function () {\n      var _this$handleOpenDropd, _this2;\n\n      (_this$handleOpenDropd = (_this2 = _this).handleOpenDropdown) === null || _this$handleOpenDropd === void 0 ? void 0 : _this$handleOpenDropd.call(_this2);\n    };\n\n    _this.close = function () {\n      var _this$handleCloseDrop, _this3;\n\n      (_this$handleCloseDrop = (_this3 = _this).handleCloseDropdown) === null || _this$handleCloseDrop === void 0 ? void 0 : _this$handleCloseDrop.call(_this3);\n    };\n\n    _this.handleToggleDropdown = function () {\n      var active = _this.state.active;\n\n      if (active) {\n        _this.handleCloseDropdown();\n\n        return;\n      }\n\n      _this.handleOpenDropdown();\n    };\n\n    _this.everyChildChecked = function (nodes, node) {\n      var list = [];\n      Object.keys(nodes).forEach(function (refKey) {\n        var _curNode$parentNode;\n\n        var curNode = nodes[refKey];\n\n        if (((_curNode$parentNode = curNode.parentNode) === null || _curNode$parentNode === void 0 ? void 0 : _curNode$parentNode.refKey) === node.refKey && !curNode.uncheckable) {\n          list.push(curNode);\n        }\n      });\n      return list.every(function (l) {\n        return l.check;\n      });\n    };\n\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n\n    _this.addTreePrefix = function (name) {\n      return prefix(defaultClassPrefix('check-tree'))(name);\n    };\n\n    _this.handleSelect = function (activeNode, event) {\n      var _this$props = _this.props,\n          onChange = _this$props.onChange,\n          onSelect = _this$props.onSelect,\n          value = _this$props.value;\n\n      var selectedValues = _this.toggleChecked(activeNode, !_this.nodes[activeNode.refKey].check);\n\n      if (!_isUndefined(value)) {\n        _this.activeNode = activeNode;\n      } else {\n        _this.unserializeLists({\n          check: selectedValues\n        });\n\n        _this.setState({\n          activeNode: activeNode,\n          selectedValues: selectedValues,\n          hasValue: !!selectedValues.length\n        });\n      }\n\n      onChange === null || onChange === void 0 ? void 0 : onChange(selectedValues, event);\n      onSelect === null || onSelect === void 0 ? void 0 : onSelect(activeNode, selectedValues, event);\n    };\n\n    _this.handleToggle = function (node) {\n      var _this$props2 = _this.props,\n          valueKey = _this$props2.valueKey,\n          childrenKey = _this$props2.childrenKey,\n          onExpand = _this$props2.onExpand,\n          expandItemValues = _this$props2.expandItemValues;\n\n      var nextExpandItemValues = _this.toggleExpand(node, !node.expand);\n\n      if (_isUndefined(expandItemValues)) {\n        _this.unserializeLists({\n          expand: nextExpandItemValues\n        });\n\n        _this.setState({\n          expandItemValues: nextExpandItemValues\n        });\n      }\n\n      onExpand === null || onExpand === void 0 ? void 0 : onExpand(nextExpandItemValues, node, createConcatChildrenFunction(node, node[valueKey], {\n        valueKey: valueKey,\n        childrenKey: childrenKey\n      }));\n    };\n\n    _this.handleKeyDown = function (event) {\n      onMenuKeyDown(event, {\n        down: _this.focusNextItem,\n        up: _this.focusPreviousItem,\n        enter: _this.selectActiveItem,\n        del: _this.handleClean\n      });\n    };\n\n    _this.handleToggleKeyDown = function (event) {\n      var _this$state = _this.state,\n          activeNode = _this$state.activeNode,\n          active = _this$state.active; // enter\n\n      if ((!activeNode || !active) && event.keyCode === 13) {\n        _this.handleToggleDropdown();\n      } // delete\n\n\n      if (event.keyCode === 8) {\n        _this.handleClean(event);\n      }\n\n      if (!_this.treeViewRef.current) {\n        return;\n      }\n\n      if (event.target instanceof HTMLElement) {\n        var className = event.target.className;\n\n        if (className.includes(_this.addPrefix('toggle')) || className.includes(_this.addPrefix('toggle-custom')) || className.includes(_this.addPrefix('search-bar-input'))) {\n          onMenuKeyDown(event, {\n            down: _this.focusNextItem\n          });\n        }\n      }\n    };\n\n    _this.handleSearch = function (value, event) {\n      var filterData = _this.state.filterData;\n      var _this$props3 = _this.props,\n          onSearch = _this$props3.onSearch,\n          searchKeyword = _this$props3.searchKeyword;\n\n      if (_isUndefined(searchKeyword)) {\n        _this.setState({\n          filterData: _this.getFilterData(value, filterData),\n          searchKeyword: value\n        });\n      }\n\n      onSearch === null || onSearch === void 0 ? void 0 : onSearch(value, event);\n    };\n\n    _this.handleClean = function (evnet) {\n      var _this$props$onChange, _this$props4;\n\n      _this.setState({\n        selectedValues: [],\n        hasValue: false,\n        activeNode: {}\n      });\n\n      _this.unserializeLists({\n        check: []\n      });\n\n      (_this$props$onChange = (_this$props4 = _this.props).onChange) === null || _this$props$onChange === void 0 ? void 0 : _this$props$onChange.call(_this$props4, [], evnet);\n    };\n\n    _this.handleOnOpen = function () {\n      var _this$props$onOpen, _this$props5;\n\n      var activeNode = _this.state.activeNode;\n\n      if (activeNode) {\n        var _node$focus3;\n\n        var node = _this.getElementByDataKey(activeNode.refKey);\n\n        node === null || node === void 0 ? void 0 : (_node$focus3 = node.focus) === null || _node$focus3 === void 0 ? void 0 : _node$focus3.call(node);\n      }\n\n      (_this$props$onOpen = (_this$props5 = _this.props).onOpen) === null || _this$props$onOpen === void 0 ? void 0 : _this$props$onOpen.call(_this$props5);\n\n      _this.setState({\n        active: true\n      });\n    };\n\n    _this.handleOnClose = function () {\n      var filterData = _this.state.filterData;\n      var _this$props6 = _this.props,\n          onClose = _this$props6.onClose,\n          searchKeyword = _this$props6.searchKeyword;\n\n      if (_isUndefined(searchKeyword)) {\n        _this.setState({\n          filterData: _this.getFilterData('', filterData),\n          searchKeyword: ''\n        });\n      }\n\n      onClose === null || onClose === void 0 ? void 0 : onClose();\n\n      _this.setState({\n        active: false\n      });\n    };\n\n    _this.measureRowRenderer = function (nodes) {\n      return function (_ref) {\n        var key = _ref.key,\n            index = _ref.index,\n            style = _ref.style,\n            parent = _ref.parent;\n        var node = nodes[index];\n        return React.createElement(CellMeasurer, {\n          cache: _this.cache,\n          columnIndex: 0,\n          key: key,\n          rowIndex: index,\n          parent: parent\n        }, function () {\n          return _this.renderVirtualNode(node, {\n            key: key,\n            style: style\n          });\n        });\n      };\n    };\n\n    var _value = _props.value,\n        data = _props.data,\n        cascade = _props.cascade,\n        _childrenKey = _props.childrenKey,\n        _searchKeyword = _props.searchKeyword;\n    _this.nodes = {};\n\n    var nextValue = _this.getValue(_props);\n\n    var _nextExpandItemValues = getExpandItemValues(_props);\n\n    var nextData = [].concat(data);\n\n    _this.flattenNodes(nextData, _props);\n\n    _this.unserializeLists({\n      check: nextValue,\n      expand: _nextExpandItemValues\n    }, _props, true);\n\n    _this.state = {\n      data: data,\n      value: _value,\n      cascade: cascade,\n      hasValue: _this.hasValue(nextValue),\n      expandAll: getExpandAll(_props),\n      filterData: _this.getFilterData(_searchKeyword, nextData, _props),\n      searchKeyword: _searchKeyword || '',\n      selectedValues: nextValue,\n      expandItemValues: _this.serializeList('expand'),\n      uncheckableItemValues: _props.uncheckableItemValues,\n      isSomeNodeHasChildren: isSomeNodeHasChildren(data, _childrenKey)\n    };\n    _this.treeViewRef = React.createRef();\n    _this.positionRef = React.createRef();\n    _this.listRef = React.createRef();\n    _this.triggerRef = React.createRef();\n    _this.toggleRef = React.createRef(); // for test\n\n    _this.menuRef = React.createRef();\n    treeDeprecatedWarning(_props, ['expandAll']);\n    return _this;\n  }\n\n  CheckTreePicker.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var value = nextProps.value,\n        data = nextProps.data,\n        cascade = nextProps.cascade,\n        expandAll = nextProps.expandAll,\n        searchKeyword = nextProps.searchKeyword,\n        uncheckableItemValues = nextProps.uncheckableItemValues,\n        expandItemValues = nextProps.expandItemValues;\n    var nextState = {};\n\n    if (_isArray(data) && _isArray(prevState.data) && prevState.data !== data) {\n      nextState.data = data;\n    }\n\n    if (compareArray(value, prevState.value)) {\n      nextState.value = value;\n    }\n\n    if (compareArray(expandItemValues, prevState.expandItemValues) && _isArray(expandItemValues)) {\n      nextState.expandItemValues = expandItemValues;\n    }\n\n    if (compareArray(uncheckableItemValues, prevState.uncheckableItemValues) && _isArray(uncheckableItemValues)) {\n      nextState.uncheckableItemValues = uncheckableItemValues;\n    }\n\n    if (!_isUndefined(searchKeyword) && searchKeyword !== prevState.searchKeyword) {\n      nextState.searchKeyword = searchKeyword;\n    }\n\n    if (cascade !== prevState.cascade) {\n      nextState.cascade = cascade;\n    }\n\n    if (expandAll !== prevState.expandAll) {\n      nextState.expandAll = expandAll;\n    }\n\n    return Object.keys(nextState).length ? nextState : null;\n  };\n\n  var _proto = CheckTreePicker.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate(_prevProps, prevState) {\n    this.updateDataChange(prevState);\n    this.updateValueChange(prevState);\n    this.updateExpandItemValuesChange(prevState);\n    this.updateUncheckableItemValuesChange(prevState);\n    this.updateCascadeChange(prevState);\n    this.updateSearchKeywordChange(prevState);\n\n    if (this.listRef.current) {\n      this.listRef.current.forceUpdateGrid();\n    }\n  };\n\n  _proto.updateDataChange = function updateDataChange(prevState) {\n    var searchKeyword = this.state.searchKeyword;\n    var _this$props7 = this.props,\n        _this$props7$data = _this$props7.data,\n        data = _this$props7$data === void 0 ? [] : _this$props7$data,\n        childrenKey = _this$props7.childrenKey;\n\n    if (prevState.data !== data) {\n      var nextData = [].concat(data);\n      this.nodes = {};\n      this.flattenNodes(nextData);\n      this.unserializeLists({\n        check: this.getValue()\n      });\n      this.setState({\n        data: nextData,\n        filterData: this.getFilterData(searchKeyword, nextData),\n        isSomeNodeHasChildren: isSomeNodeHasChildren(nextData, childrenKey),\n        hasValue: this.hasValue(),\n        expandItemValues: this.serializeList('expand')\n      });\n    }\n  };\n\n  _proto.updateValueChange = function updateValueChange(prevState) {\n    var expandItemValues = this.state.expandItemValues;\n    var value = this.props.value;\n\n    if (compareArray(value, prevState.value)) {\n      this.unserializeLists({\n        check: value !== null && value !== void 0 ? value : [],\n        expand: expandItemValues\n      });\n      this.setState({\n        selectedValues: value,\n        hasValue: this.hasValue(value),\n        activeNode: value.length ? this.activeNode : null\n      });\n    }\n  };\n\n  _proto.updateExpandItemValuesChange = function updateExpandItemValuesChange(prevState) {\n    var expandItemValues = this.props.expandItemValues;\n\n    if (compareArray(expandItemValues, prevState.expandItemValues) && _isArray(expandItemValues)) {\n      this.unserializeLists({\n        expand: expandItemValues\n      });\n      this.setState({\n        expandItemValues: expandItemValues\n      });\n    }\n  };\n\n  _proto.updateUncheckableItemValuesChange = function updateUncheckableItemValuesChange(prevState) {\n    var _this$state2 = this.state,\n        data = _this$state2.data,\n        selectedValues = _this$state2.selectedValues,\n        expandItemValues = _this$state2.expandItemValues;\n    var uncheckableItemValues = this.props.uncheckableItemValues;\n\n    if (compareArray(uncheckableItemValues, prevState.uncheckableItemValues) && _isArray(uncheckableItemValues)) {\n      this.flattenNodes(data);\n      this.unserializeLists({\n        check: selectedValues,\n        expand: expandItemValues\n      });\n      this.setState({\n        hasValue: this.hasValue()\n      });\n    }\n  };\n\n  _proto.updateCascadeChange = function updateCascadeChange(prevState) {\n    var _this$state3 = this.state,\n        data = _this$state3.data,\n        selectedValues = _this$state3.selectedValues,\n        expandItemValues = _this$state3.expandItemValues;\n    var cascade = this.props.cascade; // cascade 改变时，重新初始化\n\n    if (cascade !== prevState.cascade && cascade) {\n      this.flattenNodes(data);\n      this.unserializeLists({\n        check: selectedValues,\n        expand: expandItemValues\n      });\n      this.setState({\n        cascade: cascade\n      });\n    }\n  };\n\n  _proto.updateSearchKeywordChange = function updateSearchKeywordChange(prevState) {\n    var filterData = this.state.filterData;\n    var searchKeyword = this.props.searchKeyword;\n\n    if (!_isUndefined(searchKeyword) && prevState.searchKeyword !== searchKeyword) {\n      this.setState({\n        filterData: this.getFilterData(searchKeyword, filterData)\n      });\n    }\n  };\n\n  _proto.getNodeCheckState = function getNodeCheckState(node, cascade) {\n    var childrenKey = this.props.childrenKey;\n\n    if (!node[childrenKey] || !node[childrenKey].length || !cascade) {\n      this.nodes[node.refKey].checkAll = false;\n      return node.check ? CHECK_STATE.CHECK : CHECK_STATE.UNCHECK;\n    }\n\n    if (isEveryChildChecked(node, this.nodes, this.props)) {\n      this.nodes[node.refKey].checkAll = true;\n      this.nodes[node.refKey].check = true;\n      return CHECK_STATE.CHECK;\n    }\n\n    if (isSomeChildChecked(node, this.nodes, this.props)) {\n      this.nodes[node.refKey].checkAll = false;\n      return CHECK_STATE.INDETERMINATE;\n    }\n\n    return CHECK_STATE.UNCHECK;\n  };\n\n  _proto.getFilterData = function getFilterData(searchKeyword, data, props) {\n    if (searchKeyword === void 0) {\n      searchKeyword = '';\n    }\n\n    if (props === void 0) {\n      props = this.props;\n    }\n\n    var _props3 = props,\n        labelKey = _props3.labelKey,\n        childrenKey = _props3.childrenKey,\n        searchBy = _props3.searchBy;\n\n    var setVisible = function setVisible(nodes) {\n      if (nodes === void 0) {\n        nodes = [];\n      }\n\n      return nodes.forEach(function (item) {\n        item.visible = searchBy ? searchBy(searchKeyword, item[labelKey], item) : shouldDisplay(item[labelKey], searchKeyword);\n\n        if (_isArray(item[childrenKey])) {\n          setVisible(item[childrenKey]);\n          item[childrenKey].forEach(function (child) {\n            if (child.visible) {\n              item.visible = child.visible;\n            }\n          });\n        }\n      });\n    };\n\n    setVisible(data);\n    return data;\n  };\n\n  _proto.getActiveElementOption = function getActiveElementOption(options, refKey) {\n    var childrenKey = this.props.childrenKey;\n\n    for (var i = 0; i < options.length; i += 1) {\n      var _options$i$childrenKe;\n\n      if (options[i].refKey === refKey) {\n        return options[i];\n      } else if ((_options$i$childrenKe = options[i][childrenKey]) === null || _options$i$childrenKe === void 0 ? void 0 : _options$i$childrenKe.length) {\n        var active = this.getActiveElementOption(options[i][childrenKey], refKey);\n\n        if (!_isEmpty(active)) {\n          return active;\n        }\n      }\n    }\n\n    return {};\n  };\n\n  _proto.getFlattenTreeData = function getFlattenTreeData(nodes) {\n    var _this4 = this;\n\n    var expandItemValues = this.state.expandItemValues;\n    var _this$props8 = this.props,\n        childrenKey = _this$props8.childrenKey,\n        valueKey = _this$props8.valueKey;\n    return flattenTree(nodes, childrenKey, function (node) {\n      var formatted = {};\n      var curNode = _this4.nodes[node.refKey];\n      var parentKeys = getNodeParents(curNode, 'parentNode', valueKey);\n\n      if (curNode) {\n        formatted = _extends({}, node, {\n          check: curNode.check,\n          expand: curNode.expand,\n          uncheckable: curNode.uncheckable,\n          layer: curNode.layer,\n          parentNode: curNode.parentNode,\n          showNode: shouldShowNodeByExpanded(expandItemValues, parentKeys)\n        });\n      }\n\n      return formatted;\n    });\n  };\n\n  _proto.getItemsAndActiveIndex = function getItemsAndActiveIndex() {\n    var items = this.getFocusableMenuItems();\n    var activeIndex = -1;\n    items.forEach(function (item, index) {\n      if (document.activeElement !== null) {\n        if (item.refKey === document.activeElement.getAttribute('data-key')) {\n          activeIndex = index;\n        }\n      }\n    });\n    return {\n      items: items,\n      activeIndex: activeIndex\n    };\n  };\n\n  _proto.getActiveItem = function getActiveItem() {\n    var filterData = this.state.filterData;\n    var activeItem = document.activeElement;\n\n    if (activeItem !== null) {\n      var _activeItem$dataset, _activeItem$dataset2, _this$nodes$nodeData$, _this$nodes$nodeData$2;\n\n      var key = activeItem === null || activeItem === void 0 ? void 0 : (_activeItem$dataset = activeItem.dataset) === null || _activeItem$dataset === void 0 ? void 0 : _activeItem$dataset.key;\n      var layer = activeItem === null || activeItem === void 0 ? void 0 : (_activeItem$dataset2 = activeItem.dataset) === null || _activeItem$dataset2 === void 0 ? void 0 : _activeItem$dataset2.layer;\n      var nodeData = this.getActiveElementOption(filterData, key);\n      nodeData.check = !((_this$nodes$nodeData$ = this.nodes[nodeData.refKey]) === null || _this$nodes$nodeData$ === void 0 ? void 0 : _this$nodes$nodeData$.check);\n      nodeData.parentNode = (_this$nodes$nodeData$2 = this.nodes[nodeData.refKey]) === null || _this$nodes$nodeData$2 === void 0 ? void 0 : _this$nodes$nodeData$2.parentNode;\n      return {\n        nodeData: nodeData,\n        layer: layer\n      };\n    }\n\n    return {};\n  }\n  /**\n   * 获取已选择的items，用于显示在placeholder\n   */\n  ;\n\n  _proto.getSelectedItems = function getSelectedItems(selectedValues) {\n    var _this5 = this;\n\n    var valueKey = this.props.valueKey;\n    var checkItems = [];\n    Object.keys(this.nodes).map(function (refKey) {\n      var node = _this5.nodes[refKey];\n\n      if (selectedValues.some(function (value) {\n        return shallowEqual(node[valueKey], value);\n      })) {\n        checkItems.push(node);\n      }\n    });\n    return checkItems;\n  }\n  /**\n   * 判断传入的 value 是否存在于data 中\n   * @param {*} values\n   */\n  ;\n\n  _proto.hasValue = function hasValue(values) {\n    var _this6 = this;\n\n    if (values === void 0) {\n      values = this.state.selectedValues;\n    }\n\n    var valueKey = this.props.valueKey;\n    var selectedValues = Object.keys(this.nodes).map(function (refKey) {\n      return _this6.nodes[refKey][valueKey];\n    }).filter(function (item) {\n      return values.some(function (v) {\n        return shallowEqual(v, item);\n      });\n    });\n    return !!selectedValues.length;\n  }\n  /**\n   * 拍平数组，将tree 转换为一维对象\n   * @param {*} nodes tree data\n   * @param {*} ref 当前层级\n   */\n  ;\n\n  _proto.flattenNodes = function flattenNodes(nodes, props, ref, parentNode, layer) {\n    var _this7 = this;\n\n    if (ref === void 0) {\n      ref = '0';\n    }\n\n    if (layer === void 0) {\n      layer = 0;\n    }\n\n    var _ref2 = props || this.props,\n        labelKey = _ref2.labelKey,\n        valueKey = _ref2.valueKey,\n        childrenKey = _ref2.childrenKey;\n\n    if (!Array.isArray(nodes) || nodes.length === 0) {\n      return;\n    }\n\n    nodes.forEach(function (node, index) {\n      var _this7$nodes$refKey;\n\n      var refKey = ref + \"-\" + index;\n      node.refKey = refKey;\n      _this7.nodes[refKey] = (_this7$nodes$refKey = {\n        layer: layer\n      }, _this7$nodes$refKey[labelKey] = node[labelKey], _this7$nodes$refKey[valueKey] = node[valueKey], _this7$nodes$refKey.expand = getExpandState(node, props || _this7.props), _this7$nodes$refKey.uncheckable = getUncheckableState(node, props || _this7.props), _this7$nodes$refKey.refKey = refKey, _this7$nodes$refKey);\n\n      if (parentNode) {\n        _this7.nodes[refKey].parentNode = parentNode;\n      }\n\n      _this7.flattenNodes(node[childrenKey], props, refKey, _this7.nodes[refKey], layer + 1);\n    });\n  }\n  /**\n   * 过滤选中的 values 中不包含 uncheckableItemValues 的那些值\n   * @param {*} values\n   */\n  ;\n\n  _proto.filterSelectedValues = function filterSelectedValues(values) {\n    var _this$props$uncheckab = this.props.uncheckableItemValues,\n        uncheckableItemValues = _this$props$uncheckab === void 0 ? [] : _this$props$uncheckab;\n    return values.filter(function (value) {\n      return !uncheckableItemValues.includes(value);\n    });\n  };\n\n  _proto.serializeList = function serializeList(key, nodes) {\n    if (nodes === void 0) {\n      nodes = this.nodes;\n    }\n\n    var valueKey = this.props.valueKey;\n    var list = [];\n    Object.keys(nodes).forEach(function (refKey) {\n      if (nodes[refKey][key]) {\n        list.push(nodes[refKey][valueKey]);\n      }\n    });\n    return list;\n  };\n\n  _proto.serializeListOnlyParent = function serializeListOnlyParent(key, nodes) {\n    if (nodes === void 0) {\n      nodes = this.nodes;\n    }\n\n    var valueKey = this.props.valueKey;\n    var list = [];\n    Object.keys(nodes).forEach(function (refKey) {\n      var currentNode = nodes[refKey];\n\n      if (currentNode.parentNode) {\n        var _currentNode$parentNo;\n\n        var parentNode = nodes[(_currentNode$parentNo = currentNode.parentNode) === null || _currentNode$parentNo === void 0 ? void 0 : _currentNode$parentNo.refKey];\n\n        if (currentNode[key]) {\n          if (!(parentNode === null || parentNode === void 0 ? void 0 : parentNode.checkAll)) {\n            list.push(nodes[refKey][valueKey]);\n          } else if (parentNode === null || parentNode === void 0 ? void 0 : parentNode.uncheckable) {\n            list.push(nodes[refKey][valueKey]);\n          }\n        }\n      } else {\n        if (currentNode[key]) {\n          list.push(nodes[refKey][valueKey]);\n        }\n      }\n    });\n    return list;\n  };\n\n  _proto.unserializeLists = function unserializeLists(lists, nextProps, initial) {\n    var _this8 = this;\n\n    if (nextProps === void 0) {\n      nextProps = this.props;\n    }\n\n    if (initial === void 0) {\n      initial = false;\n    }\n\n    var _nextProps = nextProps,\n        valueKey = _nextProps.valueKey,\n        cascade = _nextProps.cascade,\n        _nextProps$uncheckabl = _nextProps.uncheckableItemValues,\n        uncheckableItemValues = _nextProps$uncheckabl === void 0 ? [] : _nextProps$uncheckabl;\n    var expandAll = getExpandAll(nextProps); // Reset values to false\n\n    Object.keys(this.nodes).forEach(function (refKey) {\n      Object.keys(lists).forEach(function (listKey) {\n        if (listKey === 'check') {\n          var node = _this8.nodes[refKey];\n\n          if (cascade && 'parentNode' in node) {\n            node[listKey] = node.parentNode[listKey];\n          } else {\n            node[listKey] = false;\n          }\n\n          lists[listKey].forEach(function (value) {\n            if (shallowEqual(_this8.nodes[refKey][valueKey], value) && !uncheckableItemValues.some(function (uncheckableValue) {\n              return shallowEqual(value, uncheckableValue);\n            })) {\n              _this8.nodes[refKey][listKey] = true;\n            }\n          });\n        }\n\n        if (listKey === 'expand') {\n          _this8.nodes[refKey][listKey] = false;\n\n          if (lists[listKey].length) {\n            lists[listKey].forEach(function (value) {\n              if (shallowEqual(_this8.nodes[refKey][valueKey], value)) {\n                _this8.nodes[refKey][listKey] = true;\n              }\n            });\n          } else {\n            _this8.nodes[refKey][listKey] = initial ? expandAll : false;\n          }\n        }\n      });\n    });\n  };\n\n  _proto.toggleChecked = function toggleChecked(node, isChecked) {\n    var nodes = clone(this.nodes);\n    this.toggleDownChecked(nodes, node, isChecked);\n    node.parentNode && this.toggleUpChecked(nodes, node.parentNode, isChecked);\n    var values = this.serializeListOnlyParent('check', nodes);\n    return this.filterSelectedValues(values);\n  };\n\n  _proto.toggleUpChecked = function toggleUpChecked(nodes, node, checked) {\n    var cascade = this.props.cascade;\n    var currentNode = nodes[node.refKey];\n\n    if (cascade) {\n      if (!checked) {\n        currentNode.check = checked;\n        currentNode.checkAll = checked;\n      } else {\n        if (this.everyChildChecked(nodes, node)) {\n          currentNode.check = true;\n          currentNode.checkAll = true;\n        } else {\n          currentNode.check = false;\n          currentNode.checkAll = false;\n        }\n      }\n\n      if (node.parentNode) {\n        this.toggleUpChecked(nodes, node.parentNode, checked);\n      }\n    }\n  };\n\n  _proto.toggleDownChecked = function toggleDownChecked(nodes, node, isChecked) {\n    var _this9 = this;\n\n    var _this$props9 = this.props,\n        childrenKey = _this$props9.childrenKey,\n        cascade = _this$props9.cascade;\n    nodes[node.refKey].check = isChecked;\n\n    if (!node[childrenKey] || !node[childrenKey].length || !cascade) {\n      nodes[node.refKey].checkAll = false;\n    } else {\n      nodes[node.refKey].checkAll = isChecked;\n      node[childrenKey].forEach(function (child) {\n        _this9.toggleDownChecked(nodes, child, isChecked);\n      });\n    }\n  };\n\n  _proto.toggleNode = function toggleNode(key, node, toggleValue) {\n    // 如果该节点处于 disabledCheckbox，则忽略该值\n    if (!node.uncheckable) {\n      this.nodes[node.refKey][key] = toggleValue;\n    }\n  };\n\n  _proto.toggleExpand = function toggleExpand(node, isExpand) {\n    var valueKey = this.props.valueKey;\n    var expandItemValues = new Set(this.serializeList('expand'));\n\n    if (isExpand) {\n      expandItemValues.add(node[valueKey]);\n    } else {\n      expandItemValues.delete(node[valueKey]);\n    }\n\n    return Array.from(expandItemValues);\n  };\n\n  _proto.renderDropdownMenu = function renderDropdownMenu() {\n    var _this$props10 = this.props,\n        locale = _this$props10.locale,\n        menuStyle = _this$props10.menuStyle,\n        searchable = _this$props10.searchable,\n        renderMenu = _this$props10.renderMenu,\n        searchKeyword = _this$props10.searchKeyword,\n        renderExtraFooter = _this$props10.renderExtraFooter,\n        menuClassName = _this$props10.menuClassName,\n        menuAutoWidth = _this$props10.menuAutoWidth;\n    var keyword = !_isUndefined(searchKeyword) ? searchKeyword : this.state.searchKeyword;\n    var classes = classNames(menuClassName, this.addPrefix('check-tree-menu'));\n    var menu = this.renderCheckTree();\n    return React.createElement(MenuWrapper, {\n      autoWidth: menuAutoWidth,\n      className: classes,\n      style: menuStyle,\n      ref: this.menuRef,\n      getToggleInstance: this.getToggleInstance,\n      getPositionInstance: this.getPositionInstance\n    }, searchable ? React.createElement(SearchBar, {\n      placeholder: locale.searchPlaceholder,\n      key: \"searchBar\",\n      onChange: this.handleSearch,\n      value: keyword\n    }) : null, renderMenu ? renderMenu(menu) : menu, renderExtraFooter === null || renderExtraFooter === void 0 ? void 0 : renderExtraFooter());\n  };\n\n  _proto.renderNode = function renderNode(node, layer) {\n    var _this10 = this;\n\n    var _this$state4 = this.state,\n        activeNode = _this$state4.activeNode,\n        searchKeyword = _this$state4.searchKeyword;\n    var _this$props11 = this.props,\n        valueKey = _this$props11.valueKey,\n        labelKey = _this$props11.labelKey,\n        childrenKey = _this$props11.childrenKey,\n        renderTreeNode = _this$props11.renderTreeNode,\n        renderTreeIcon = _this$props11.renderTreeIcon,\n        cascade = _this$props11.cascade,\n        locale = _this$props11.locale;\n    var visible = node.visible,\n        refKey = node.refKey; // 当处于搜索时，需要将所有节点都展开\n\n    var expand = getExpandWhenSearching(searchKeyword, node.expand);\n\n    if (!visible) {\n      return null;\n    }\n\n    var key = _isString(node[valueKey]) || _isNumber(node[valueKey]) ? node[valueKey] : refKey;\n    var children = node[childrenKey]; // 当用户进行搜索时，hasChildren的判断要变成判断是否存在 visible 为 true 的子节点\n\n    var visibleChildren = _isUndefined(searchKeyword) || searchKeyword.length === 0 ? !!children : hasVisibleChildren(node, childrenKey);\n    var props = {\n      value: node[valueKey],\n      label: node[labelKey],\n      layer: layer,\n      expand: expand,\n      rtl: locale.rtl,\n      focus: activeNode ? shallowEqual(activeNode[valueKey], node[valueKey]) : false,\n      visible: node.visible,\n      disabled: getDisabledState(this.nodes, node, this.props),\n      nodeData: node,\n      checkState: this.getNodeCheckState(node, cascade),\n      hasChildren: visibleChildren,\n      uncheckable: node.uncheckable,\n      allUncheckable: getSiblingNodeUncheckable(node, this.nodes),\n      onSelect: this.handleSelect,\n      onTreeToggle: this.handleToggle,\n      onRenderTreeNode: renderTreeNode,\n      onRenderTreeIcon: renderTreeIcon\n    };\n\n    if (props.hasChildren) {\n      var _classNames;\n\n      layer += 1; // 是否展开树节点且子节点不为空\n\n      var openClass = this.addTreePrefix('open');\n      var childrenClass = classNames(this.addTreePrefix('node-children'), (_classNames = {}, _classNames[openClass] = expand && visibleChildren, _classNames));\n      var nodes = children || [];\n      return React.createElement(\"div\", {\n        className: childrenClass,\n        key: key,\n        ref: this.bindNodeRefs.bind(this, refKey)\n      }, React.createElement(CheckTreeNode, props), React.createElement(\"div\", {\n        className: this.addTreePrefix('children')\n      }, nodes.map(function (child) {\n        return _this10.renderNode(child, layer);\n      })));\n    }\n\n    return React.createElement(CheckTreeNode, _extends({\n      key: key,\n      innerRef: this.bindNodeRefs.bind(this, refKey)\n    }, props));\n  };\n\n  _proto.renderVirtualNode = function renderVirtualNode(node, options) {\n    var _this$state5 = this.state,\n        activeNode = _this$state5.activeNode,\n        expandAll = _this$state5.expandAll,\n        searchKeyword = _this$state5.searchKeyword;\n    var _this$props12 = this.props,\n        valueKey = _this$props12.valueKey,\n        labelKey = _this$props12.labelKey,\n        childrenKey = _this$props12.childrenKey,\n        renderTreeNode = _this$props12.renderTreeNode,\n        renderTreeIcon = _this$props12.renderTreeIcon,\n        cascade = _this$props12.cascade,\n        locale = _this$props12.locale;\n    var key = options.key,\n        style = options.style;\n    var layer = node.layer,\n        refKey = node.refKey,\n        showNode = node.showNode;\n    var expand = getExpandWhenSearching(searchKeyword, node.expand);\n    var children = node[childrenKey];\n    var props = {\n      value: node[valueKey],\n      label: node[labelKey],\n      layer: layer,\n      expand: expand,\n      rtl: locale.rtl,\n      focus: activeNode ? shallowEqual(activeNode[valueKey], node[valueKey]) : false,\n      visible: node.visible,\n      disabled: getDisabledState(this.nodes, node, this.props),\n      nodeData: node,\n      children: children,\n      expandAll: expandAll,\n      checkState: this.getNodeCheckState(node, cascade),\n      parentNode: node.parentNode,\n      hasChildren: !!children,\n      uncheckable: node.uncheckable,\n      allUncheckable: getSiblingNodeUncheckable(node, this.nodes),\n      onSelect: this.handleSelect,\n      onTreeToggle: this.handleToggle,\n      onRenderTreeNode: renderTreeNode,\n      onRenderTreeIcon: renderTreeIcon\n    };\n    return showNode && React.createElement(CheckTreeNode, _extends({\n      style: style,\n      key: key,\n      innerRef: this.bindNodeRefs.bind(this, refKey)\n    }, props));\n  };\n\n  _proto.renderCheckTree = function renderCheckTree() {\n    var _classNames2,\n        _this11 = this,\n        _classNames3;\n\n    var _this$state6 = this.state,\n        filterData = _this$state6.filterData,\n        isSomeNodeHasChildren = _this$state6.isSomeNodeHasChildren;\n    var _this$props13 = this.props,\n        inline = _this$props13.inline,\n        style = _this$props13.style,\n        height = _this$props13.height,\n        className = _this$props13.className,\n        onScroll = _this$props13.onScroll,\n        locale = _this$props13.locale,\n        virtualized = _this$props13.virtualized; // 树节点的层级\n\n    var layer = 0;\n    var classes = classNames(defaultClassPrefix('check-tree'), (_classNames2 = {}, _classNames2[className] = inline, _classNames2['without-children'] = !isSomeNodeHasChildren, _classNames2));\n    var formattedNodes = [];\n\n    if (!virtualized) {\n      formattedNodes = getFormattedTree(filterData, this.nodes, this.props).map(function (node) {\n        return _this11.renderNode(node, layer);\n      });\n\n      if (!formattedNodes.some(function (v) {\n        return v !== null;\n      })) {\n        return React.createElement(\"div\", {\n          className: this.addPrefix('none')\n        }, locale.noResultsText);\n      }\n    } else {\n      formattedNodes = this.getFlattenTreeData(filterData).filter(function (n) {\n        return n.showNode && n.visible;\n      });\n\n      if (!formattedNodes.length) {\n        return React.createElement(\"div\", {\n          className: this.addPrefix('none')\n        }, locale.noResultsText);\n      }\n    } // The height of virtualized tree should be subtract the value of paddingBottom\n\n\n    var treeHeight = height - 12;\n    var treeWidth = _isUndefined(style === null || style === void 0 ? void 0 : style.width) ? defaultWidth : style.width;\n    var listStyles = inline ? _extends({\n      height: height\n    }, style) : style;\n    var treeNodesClass = classNames(this.addTreePrefix('nodes'), (_classNames3 = {}, _classNames3[this.addTreePrefix('all-uncheckable')] = getEveryFisrtLevelNodeUncheckable(this.nodes), _classNames3));\n    return React.createElement(\"div\", {\n      ref: this.treeViewRef,\n      className: classes,\n      style: listStyles,\n      onScroll: onScroll,\n      onKeyDown: this.handleKeyDown\n    }, React.createElement(\"div\", {\n      className: treeNodesClass\n    }, virtualized ? React.createElement(AutoSizer, {\n      defaultHeight: treeHeight,\n      defaultWidth: treeWidth,\n      style: {\n        width: 'auto',\n        height: 'auto'\n      }\n    }, function (_ref3) {\n      var height = _ref3.height,\n          width = _ref3.width;\n      return React.createElement(List, {\n        ref: _this11.listRef,\n        width: width || treeWidth,\n        height: height,\n        rowHeight: 36,\n        rowCount: formattedNodes.length,\n        rowRenderer: _this11.measureRowRenderer(formattedNodes)\n      });\n    }) : formattedNodes));\n  };\n\n  _proto.render = function render() {\n    var _this$props14 = this.props,\n        cascade = _this$props14.cascade,\n        style = _this$props14.style,\n        locale = _this$props14.locale,\n        inline = _this$props14.inline,\n        disabled = _this$props14.disabled,\n        valueKey = _this$props14.valueKey,\n        labelKey = _this$props14.labelKey,\n        cleanable = _this$props14.cleanable,\n        countable = _this$props14.countable,\n        placeholder = _this$props14.placeholder,\n        toggleComponentClass = _this$props14.toggleComponentClass,\n        onExited = _this$props14.onExited,\n        onEntered = _this$props14.onEntered,\n        onClean = _this$props14.onClean,\n        renderValue = _this$props14.renderValue,\n        positionRef = _this$props14.positionRef,\n        rest = _objectWithoutPropertiesLoose(_this$props14, [\"cascade\", \"style\", \"locale\", \"inline\", \"disabled\", \"valueKey\", \"labelKey\", \"cleanable\", \"countable\", \"placeholder\", \"toggleComponentClass\", \"onExited\", \"onEntered\", \"onClean\", \"renderValue\", \"positionRef\"]);\n\n    var _this$state7 = this.state,\n        hasValue = _this$state7.hasValue,\n        selectedValues = _this$state7.selectedValues;\n\n    var hasValidValue = hasValue || selectedValues.length > 0 && _isFunction(renderValue);\n\n    var selectedItems = this.getSelectedItems(selectedValues);\n    var selectedElement = placeholder;\n    /**\n     * if value is invalid and renderValue is undefined, then using placeholder.\n     * if value is valid and renderValue is't undefined, then using renderValue()\n     */\n\n    if (selectedValues.length) {\n      if (hasValue) {\n        selectedElement = React.createElement(SelectedElement, {\n          selectedItems: selectedItems,\n          countable: countable,\n          valueKey: valueKey,\n          labelKey: labelKey,\n          prefix: this.addPrefix,\n          cascade: cascade,\n          locale: locale\n        });\n      }\n\n      if (_isFunction(renderValue)) {\n        selectedElement = renderValue(selectedValues, selectedItems, selectedElement);\n\n        if (_isNil(selectedElement)) {\n          hasValidValue = false;\n        }\n      }\n    }\n\n    var unhandled = getUnhandledProps(CheckTreePicker, rest);\n    var classes = getToggleWrapperClassName('check-tree', this.addPrefix, this.props, hasValidValue);\n\n    if (inline) {\n      return this.renderCheckTree();\n    }\n\n    return React.createElement(PickerToggleTrigger, {\n      pickerProps: this.props,\n      ref: this.triggerRef,\n      positionRef: mergeRefs(this.positionRef, positionRef),\n      onEntered: createChainedFunction(this.handleOnOpen, onEntered),\n      onExited: createChainedFunction(this.handleOnClose, onExited),\n      speaker: this.renderDropdownMenu()\n    }, React.createElement(\"div\", {\n      className: classes,\n      style: style\n    }, React.createElement(PickerToggle, _extends({}, unhandled, {\n      ref: this.toggleRef,\n      onKeyDown: this.handleToggleKeyDown,\n      onClean: createChainedFunction(this.handleClean, onClean),\n      componentClass: toggleComponentClass,\n      cleanable: cleanable && !disabled,\n      hasValue: hasValidValue,\n      active: this.state.active,\n      \"aria-disabled\": disabled\n    }), selectedElement || locale.placeholder)));\n  };\n\n  return CheckTreePicker;\n}(React.Component);\n\nCheckTreePicker.propTypes = _extends({}, listPickerPropTypes, {\n  height: PropTypes.number,\n  inline: PropTypes.bool,\n  cascade: PropTypes.bool,\n  countable: PropTypes.bool,\n  expandAll: PropTypes.bool,\n  searchable: PropTypes.bool,\n  virtualized: PropTypes.bool,\n  searchKeyword: PropTypes.string,\n  menuAutoWidth: PropTypes.bool,\n  defaultExpandAll: PropTypes.bool,\n  containerPadding: PropTypes.number,\n  disabledItemValues: PropTypes.array,\n  expandItemValues: PropTypes.array,\n  defaultExpandItemValues: PropTypes.array,\n  uncheckableItemValues: PropTypes.array,\n  onSearch: PropTypes.func,\n  onExpand: PropTypes.func,\n  onSelect: PropTypes.func,\n  onScroll: PropTypes.func,\n  renderMenu: PropTypes.func,\n  renderTreeNode: PropTypes.func,\n  renderTreeIcon: PropTypes.func,\n  searchBy: PropTypes.func\n});\nCheckTreePicker.defaultProps = _extends({}, listPickerDefaultProps, {\n  height: defaultHeight,\n  cascade: true,\n  countable: true,\n  searchable: true,\n  menuAutoWidth: true,\n  defaultValue: [],\n  uncheckableItemValues: [],\n  locale: {\n    placeholder: 'Select',\n    searchPlaceholder: 'Search',\n    noResultsText: 'No results found',\n    checkAll: 'All'\n  }\n});\npolyfill(CheckTreePicker);\nexport default defaultProps({\n  classPrefix: 'picker'\n})(CheckTreePicker);"],"mappings":"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"},"metadata":{},"sourceType":"module"}