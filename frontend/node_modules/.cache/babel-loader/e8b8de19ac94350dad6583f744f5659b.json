{"ast":null,"code":"import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport compareAsc from \"date-fns/compare_asc\";\nimport endOfMonth from \"date-fns/end_of_month\";\nimport startOfMonth from \"date-fns/start_of_month\";\nimport endOfWeek from \"date-fns/end_of_week\";\nimport startOfWeek from \"date-fns/start_of_week\";\nimport endOfISOWeek from \"date-fns/end_of_iso_week\";\nimport startOfISOWeek from \"date-fns/start_of_iso_week\";\nimport addMonths from \"date-fns/add_months\";\nimport isSameMonth from \"date-fns/is_same_month\";\nimport isSameDay from \"date-fns/is_same_day\";\nimport isAfter from \"date-fns/is_after\";\nimport isBefore from \"date-fns/is_before\";\nimport addDays from \"date-fns/add_days\";\nimport IntlContext from '../IntlProvider/IntlContext';\nimport FormattedDate from '../IntlProvider/FormattedDate';\nimport Toolbar from './Toolbar';\nimport DatePicker from './DatePicker';\nimport { setTimingMargin, getCalendarDate } from './utils';\nimport { defaultProps, getUnhandledProps, prefix, createChainedFunction } from '../utils';\nimport { PickerToggle, MenuWrapper, PickerToggleTrigger, getToggleWrapperClassName } from '../Picker';\nimport { DATERANGE_DISABLED_TARGET } from '../constants';\nimport { pickerPropTypes, pickerDefaultProps } from '../Picker/propTypes';\nvar DateRangePicker = /*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(DateRangePicker, _React$Component);\n  DateRangePicker.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var value = nextProps.value;\n    if (typeof value === 'undefined') {\n      return null;\n    }\n    if (value[0] && !isSameDay(value[0], prevState.value[0]) || value[1] && !isSameDay(value[1], prevState.value[1])) {\n      return {\n        value: value,\n        selectValue: value,\n        calendarDate: getCalendarDate(value)\n      };\n    }\n    return null;\n  };\n  function DateRangePicker(props) {\n    var _this;\n    _this = _React$Component.call(this, props) || this;\n    _this.menuContainerRef = void 0;\n    _this.triggerRef = void 0;\n    _this.getValue = function () {\n      var value = _this.props.value;\n      if (typeof value !== 'undefined') {\n        return value;\n      }\n      return _this.state.value || [];\n    };\n    _this.getWeekHoverRange = function (date) {\n      var isoWeek = _this.props.isoWeek;\n      if (isoWeek) {\n        // set to the first day of this week according to ISO 8601, 12:00 am\n        return [startOfISOWeek(date), endOfISOWeek(date)];\n      }\n      return [startOfWeek(date), endOfWeek(date)];\n    };\n    _this.getMonthHoverRange = function (date) {\n      return [startOfMonth(date), endOfMonth(date)];\n    };\n    _this.handleChangeCalendarDate = function (index, date) {\n      var calendarDate = _this.state.calendarDate;\n      calendarDate[index] = date;\n      _this.setState({\n        calendarDate: calendarDate\n      });\n    };\n    _this.handleCloseDropdown = function () {\n      var _this$triggerRef$curr, _this$triggerRef$curr2;\n      (_this$triggerRef$curr = _this.triggerRef.current) === null || _this$triggerRef$curr === void 0 ? void 0 : (_this$triggerRef$curr2 = _this$triggerRef$curr.hide) === null || _this$triggerRef$curr2 === void 0 ? void 0 : _this$triggerRef$curr2.call(_this$triggerRef$curr);\n    };\n    _this.handleOpenDropdown = function () {\n      var _this$triggerRef$curr3, _this$triggerRef$curr4;\n      (_this$triggerRef$curr3 = _this.triggerRef.current) === null || _this$triggerRef$curr3 === void 0 ? void 0 : (_this$triggerRef$curr4 = _this$triggerRef$curr3.show) === null || _this$triggerRef$curr4 === void 0 ? void 0 : _this$triggerRef$curr4.call(_this$triggerRef$curr3);\n    };\n    _this.open = function () {\n      var _this$handleOpenDropd, _this2;\n      (_this$handleOpenDropd = (_this2 = _this).handleOpenDropdown) === null || _this$handleOpenDropd === void 0 ? void 0 : _this$handleOpenDropd.call(_this2);\n    };\n    _this.close = function () {\n      var _this$handleCloseDrop, _this3;\n      (_this$handleCloseDrop = (_this3 = _this).handleCloseDropdown) === null || _this$handleCloseDrop === void 0 ? void 0 : _this$handleCloseDrop.call(_this3);\n    };\n    _this.handleShortcutPageDate = function (value, closeOverlay, event) {\n      _this.updateValue(event, value, closeOverlay);\n    };\n    _this.handleOK = function (event) {\n      var _this$props$onOk, _this$props;\n      _this.updateValue(event);\n      (_this$props$onOk = (_this$props = _this.props).onOk) === null || _this$props$onOk === void 0 ? void 0 : _this$props$onOk.call(_this$props, _this.state.selectValue, event);\n    };\n    _this.handleChangeSelectValue = function (date, event) {\n      var _this$state = _this.state,\n        selectValue = _this$state.selectValue,\n        doneSelected = _this$state.doneSelected;\n      var _this$props2 = _this.props,\n        onSelect = _this$props2.onSelect,\n        oneTap = _this$props2.oneTap;\n      var nextValue = [];\n      var nextHoverValue = _this.getHoverRange(date);\n      if (doneSelected) {\n        if (nextHoverValue.length) {\n          nextValue = [nextHoverValue[0], nextHoverValue[1], date];\n          nextHoverValue = [nextHoverValue[0], nextHoverValue[1], date];\n        } else {\n          nextValue = [date, undefined, date];\n        }\n      } else {\n        if (nextHoverValue.length) {\n          nextValue = [selectValue[0], selectValue[1]];\n        } else {\n          nextValue = [selectValue[0], date];\n        }\n        if (isAfter(nextValue[0], nextValue[1])) {\n          nextValue.reverse();\n        }\n        nextValue[0] = setTimingMargin(nextValue[0]);\n        nextValue[1] = setTimingMargin(nextValue[1]);\n        _this.setState({\n          calendarDate: getCalendarDate(nextValue)\n        });\n      }\n      var nextState = {\n        doneSelected: !doneSelected,\n        selectValue: nextValue,\n        hoverValue: nextHoverValue\n      };\n      event.persist();\n      _this.setState(nextState, function () {\n        // 如果是单击模式，并且是第一次点选，再触发一次点击\n        if (oneTap && !_this.state.doneSelected) {\n          _this.handleChangeSelectValue(date, event);\n        } // 如果是单击模式，并且是第二次点选，更新值，并关闭面板\n\n        if (oneTap && _this.state.doneSelected) {\n          _this.updateValue(event);\n        }\n        onSelect === null || onSelect === void 0 ? void 0 : onSelect(date, event);\n      });\n    };\n    _this.handleMouseMoveSelectValue = function (date) {\n      var _this$state2 = _this.state,\n        doneSelected = _this$state2.doneSelected,\n        selectValue = _this$state2.selectValue,\n        hoverValue = _this$state2.hoverValue,\n        currentHoverDate = _this$state2.currentHoverDate;\n      var hoverRange = _this.props.hoverRange;\n      if (currentHoverDate && isSameDay(date, currentHoverDate)) {\n        return;\n      }\n      var nextHoverValue = _this.getHoverRange(date);\n      if (doneSelected && !_isUndefined(hoverRange)) {\n        _this.setState({\n          currentHoverDate: date,\n          hoverValue: nextHoverValue\n        });\n        return;\n      } else if (doneSelected) {\n        return;\n      }\n      var nextValue = selectValue;\n      if (!nextHoverValue.length) {\n        nextValue[1] = date;\n      } else if (hoverValue) {\n        nextValue = [isBefore(nextHoverValue[0], hoverValue[0]) ? nextHoverValue[0] : hoverValue[0], isAfter(nextHoverValue[1], hoverValue[1]) ? nextHoverValue[1] : hoverValue[1], nextValue[2]];\n      } // If `nextValue[0]` is greater than `nextValue[1]` then reverse order\n\n      if (isAfter(nextValue[0], nextValue[1])) {\n        nextValue.reverse();\n      }\n      _this.setState({\n        currentHoverDate: date,\n        selectValue: nextValue\n      });\n    };\n    _this.handleClean = function (event) {\n      _this.setState({\n        calendarDate: getCalendarDate()\n      });\n      _this.updateValue(event, []);\n    };\n    _this.handleEnter = function () {\n      var value = _this.getValue();\n      var calendarDate;\n      if (value && value.length) {\n        var startDate = value[0],\n          endData = value[1];\n        calendarDate = [startDate, isSameMonth(startDate, endData) ? addMonths(endData, 1) : endData];\n      } else {\n        calendarDate = getCalendarDate(_this.props.defaultCalendarValue);\n      }\n      _this.setState({\n        selectValue: value,\n        calendarDate: calendarDate,\n        active: true\n      });\n    };\n    _this.handleEntered = function () {\n      var _this$props$onOpen, _this$props3;\n      (_this$props$onOpen = (_this$props3 = _this.props).onOpen) === null || _this$props$onOpen === void 0 ? void 0 : _this$props$onOpen.call(_this$props3);\n    };\n    _this.handleExit = function () {\n      var _this$props$onClose, _this$props4;\n      _this.setState({\n        active: false,\n        doneSelected: true\n      });\n      (_this$props$onClose = (_this$props4 = _this.props).onClose) === null || _this$props$onClose === void 0 ? void 0 : _this$props$onClose.call(_this$props4);\n    };\n    _this.disabledOkButton = function () {\n      var _this$state3 = _this.state,\n        selectValue = _this$state3.selectValue,\n        doneSelected = _this$state3.doneSelected;\n      if (!selectValue[0] || !selectValue[1] || !doneSelected) {\n        return true;\n      }\n      return _this.disabledByBetween(selectValue[0], selectValue[1], DATERANGE_DISABLED_TARGET.TOOLBAR_BUTTON_OK);\n    };\n    _this.disabledShortcutButton = function (value) {\n      if (value === void 0) {\n        value = [];\n      }\n      if (!value[0] || !value[1]) {\n        return true;\n      }\n      return _this.disabledByBetween(value[0], value[1], DATERANGE_DISABLED_TARGET.TOOLBAR_SHORTCUT);\n    };\n    _this.handleDisabledDate = function (date, values, type) {\n      var disabledDate = _this.props.disabledDate;\n      var doneSelected = _this.state.doneSelected;\n      if (disabledDate) {\n        return disabledDate(date, values, doneSelected, type);\n      }\n      return false;\n    };\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n    var defaultValue = props.defaultValue,\n      _value = props.value,\n      defaultCalendarValue = props.defaultCalendarValue;\n    var activeValue = _value || defaultValue || [];\n    var _calendarDate = getCalendarDate(_value || defaultCalendarValue);\n    _this.state = {\n      value: activeValue,\n      selectValue: activeValue,\n      doneSelected: true,\n      calendarDate: _calendarDate,\n      hoverValue: [],\n      currentHoverDate: null\n    }; // for test\n\n    _this.menuContainerRef = React.createRef();\n    _this.triggerRef = React.createRef();\n    return _this;\n  }\n  var _proto = DateRangePicker.prototype;\n  _proto.getDateString = function getDateString(value) {\n    var _this$props5 = this.props,\n      placeholder = _this$props5.placeholder,\n      formatType = _this$props5.format,\n      renderValue = _this$props5.renderValue;\n    var nextValue = value || this.getValue();\n    var startDate = nextValue === null || nextValue === void 0 ? void 0 : nextValue[0];\n    var endDate = nextValue === null || nextValue === void 0 ? void 0 : nextValue[1];\n    if (startDate && endDate) {\n      var displayValue = [startDate, endDate].sort(compareAsc);\n      return renderValue ? renderValue(displayValue, formatType) : React.createElement(React.Fragment, null, React.createElement(FormattedDate, {\n        date: displayValue[0],\n        formatStr: formatType\n      }), \" ~\", ' ', React.createElement(FormattedDate, {\n        date: displayValue[1],\n        formatStr: formatType\n      }));\n    }\n    return placeholder || formatType + \" ~ \" + formatType;\n  } // hover range presets\n  ;\n\n  _proto.getHoverRange = function getHoverRange(date) {\n    var hoverRange = this.props.hoverRange;\n    if (!hoverRange) {\n      return [];\n    }\n    var hoverRangeFunc = hoverRange;\n    if (hoverRange === 'week') {\n      hoverRangeFunc = this.getWeekHoverRange;\n    }\n    if (hoverRangeFunc === 'month') {\n      hoverRangeFunc = this.getMonthHoverRange;\n    }\n    if (typeof hoverRangeFunc !== 'function') {\n      return [];\n    }\n    var hoverValues = hoverRangeFunc(date);\n    var isHoverRangeValid = hoverValues instanceof Array && hoverValues.length === 2;\n    if (!isHoverRangeValid) {\n      return [];\n    }\n    if (isAfter(hoverValues[0], hoverValues[1])) {\n      hoverValues.reverse();\n    }\n    return hoverValues;\n  };\n  _proto.resetPageDate = function resetPageDate() {\n    var selectValue = this.getValue();\n    var calendarDate = getCalendarDate(selectValue);\n    this.setState({\n      selectValue: selectValue,\n      calendarDate: calendarDate\n    });\n  }\n  /**\n   * Toolbar operation callback function\n   */;\n\n  _proto.updateValue = function updateValue(event, nextSelectValue, closeOverlay) {\n    if (closeOverlay === void 0) {\n      closeOverlay = true;\n    }\n    var _this$state4 = this.state,\n      value = _this$state4.value,\n      selectValue = _this$state4.selectValue;\n    var onChange = this.props.onChange;\n    var nextValue = !_isUndefined(nextSelectValue) ? nextSelectValue : selectValue;\n    this.setState({\n      selectValue: nextValue || [],\n      value: nextValue\n    });\n    if (onChange && (!isSameDay(nextValue[0], value[0]) || !isSameDay(nextValue[1], value[1]))) {\n      onChange(nextValue, event);\n    } // `closeOverlay` default value is `true`\n\n    if (closeOverlay !== false) {\n      this.handleCloseDropdown();\n    }\n  };\n  _proto.disabledByBetween = function disabledByBetween(start, end, type) {\n    var disabledDate = this.props.disabledDate;\n    var _this$state5 = this.state,\n      selectValue = _this$state5.selectValue,\n      doneSelected = _this$state5.doneSelected;\n    var selectStartDate = selectValue[0];\n    var selectEndDate = selectValue[1];\n    var nextSelectValue = [selectStartDate, selectEndDate]; // If the date is between the start and the end\n    // the button is disabled\n\n    while (isBefore(start, end) || isSameDay(start, end)) {\n      if (disabledDate === null || disabledDate === void 0 ? void 0 : disabledDate(start, nextSelectValue, doneSelected, type)) {\n        return true;\n      }\n      start = addDays(start, 1);\n    }\n    return false;\n  };\n  _proto.renderDropdownMenu = function renderDropdownMenu() {\n    var _classNames;\n    var _this$props6 = this.props,\n      menuClassName = _this$props6.menuClassName,\n      ranges = _this$props6.ranges,\n      isoWeek = _this$props6.isoWeek,\n      limitEndYear = _this$props6.limitEndYear,\n      oneTap = _this$props6.oneTap,\n      showWeekNumbers = _this$props6.showWeekNumbers,\n      showOneCalendar = _this$props6.showOneCalendar;\n    var _this$state6 = this.state,\n      calendarDate = _this$state6.calendarDate,\n      selectValue = _this$state6.selectValue,\n      hoverValue = _this$state6.hoverValue,\n      doneSelected = _this$state6.doneSelected;\n    var classes = classNames(this.addPrefix('daterange-menu'), menuClassName);\n    var panelClasses = classNames(this.addPrefix('daterange-panel'), (_classNames = {}, _classNames[this.addPrefix('daterange-panel-show-one-calendar')] = showOneCalendar, _classNames));\n    var pickerProps = {\n      isoWeek: isoWeek,\n      doneSelected: doneSelected,\n      hoverValue: hoverValue,\n      calendarDate: calendarDate,\n      limitEndYear: limitEndYear,\n      showWeekNumbers: showWeekNumbers,\n      value: selectValue,\n      disabledDate: this.handleDisabledDate,\n      onSelect: this.handleChangeSelectValue,\n      onMouseMove: this.handleMouseMoveSelectValue,\n      onChangeCalendarDate: this.handleChangeCalendarDate,\n      showOneCalendar: showOneCalendar\n    };\n    return React.createElement(MenuWrapper, {\n      className: classes,\n      ref: this.menuContainerRef\n    }, React.createElement(\"div\", {\n      className: panelClasses\n    }, React.createElement(\"div\", {\n      className: this.addPrefix('daterange-content')\n    }, React.createElement(\"div\", {\n      className: this.addPrefix('daterange-header')\n    }, this.getDateString(selectValue)), React.createElement(\"div\", {\n      className: this.addPrefix(\"daterange-calendar-\" + (showOneCalendar ? 'single' : 'group'))\n    }, React.createElement(DatePicker, _extends({\n      index: 0\n    }, pickerProps)), !showOneCalendar && React.createElement(DatePicker, _extends({\n      index: 1\n    }, pickerProps)))), React.createElement(Toolbar, {\n      ranges: ranges,\n      selectValue: selectValue,\n      disabledOkButton: this.disabledOkButton,\n      disabledShortcutButton: this.disabledShortcutButton,\n      onShortcut: this.handleShortcutPageDate,\n      onOk: this.handleOK,\n      hideOkButton: oneTap\n    })));\n  };\n  _proto.render = function render() {\n    var _this$props7 = this.props,\n      disabled = _this$props7.disabled,\n      cleanable = _this$props7.cleanable,\n      locale = _this$props7.locale,\n      toggleComponentClass = _this$props7.toggleComponentClass,\n      style = _this$props7.style,\n      onEntered = _this$props7.onEntered,\n      onEnter = _this$props7.onEnter,\n      onExited = _this$props7.onExited,\n      onClean = _this$props7.onClean,\n      rest = _objectWithoutPropertiesLoose(_this$props7, [\"disabled\", \"cleanable\", \"locale\", \"toggleComponentClass\", \"style\", \"onEntered\", \"onEnter\", \"onExited\", \"onClean\"]);\n    var value = this.getValue();\n    var unhandled = getUnhandledProps(DateRangePicker, rest);\n    var hasValue = value && value.length > 1;\n    var classes = getToggleWrapperClassName('daterange', this.addPrefix, this.props, hasValue);\n    return React.createElement(IntlContext.Provider, {\n      value: locale\n    }, React.createElement(\"div\", {\n      className: classes,\n      style: style\n    }, React.createElement(PickerToggleTrigger, {\n      pickerProps: this.props,\n      ref: this.triggerRef,\n      onEnter: createChainedFunction(this.handleEnter, onEnter),\n      onEntered: createChainedFunction(this.handleEntered, onEntered),\n      onExited: createChainedFunction(this.handleExit, onExited),\n      speaker: this.renderDropdownMenu()\n    }, React.createElement(PickerToggle, _extends({}, unhandled, {\n      componentClass: toggleComponentClass,\n      onClean: createChainedFunction(this.handleClean, onClean),\n      cleanable: cleanable && !disabled,\n      hasValue: hasValue,\n      active: this.state.active,\n      \"aria-disabled\": disabled\n    }), this.getDateString()))));\n  };\n  return DateRangePicker;\n}(React.Component);\nDateRangePicker.propTypes = _extends({}, pickerPropTypes, {\n  ranges: PropTypes.array,\n  value: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  defaultValue: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  defaultCalendarValue: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  hoverRange: PropTypes.oneOfType([PropTypes.oneOf(['week', 'month']), PropTypes.func]),\n  format: PropTypes.string,\n  isoWeek: PropTypes.bool,\n  oneTap: PropTypes.bool,\n  limitEndYear: PropTypes.number,\n  showWeekNumbers: PropTypes.bool,\n  onChange: PropTypes.func,\n  onOk: PropTypes.func,\n  disabledDate: PropTypes.func,\n  onSelect: PropTypes.func,\n  showOneCalendar: PropTypes.bool\n});\nDateRangePicker.defaultProps = _extends({}, pickerDefaultProps, {\n  limitEndYear: 1000,\n  format: 'YYYY-MM-DD',\n  placeholder: '',\n  showOneCalendar: false,\n  locale: {\n    sunday: 'Su',\n    monday: 'Mo',\n    tuesday: 'Tu',\n    wednesday: 'We',\n    thursday: 'Th',\n    friday: 'Fr',\n    saturday: 'Sa',\n    ok: 'OK',\n    today: 'Today',\n    yesterday: 'Yesterday',\n    last7Days: 'Last 7 Days',\n    hours: 'Hours',\n    minutes: 'Minutes',\n    seconds: 'Seconds'\n  }\n});\nexport default defaultProps({\n  classPrefix: 'picker'\n})(DateRangePicker);","map":{"version":3,"names":["_objectWithoutPropertiesLoose","_extends","_inheritsLoose","_isUndefined","React","PropTypes","classNames","compareAsc","endOfMonth","startOfMonth","endOfWeek","startOfWeek","endOfISOWeek","startOfISOWeek","addMonths","isSameMonth","isSameDay","isAfter","isBefore","addDays","IntlContext","FormattedDate","Toolbar","DatePicker","setTimingMargin","getCalendarDate","defaultProps","getUnhandledProps","prefix","createChainedFunction","PickerToggle","MenuWrapper","PickerToggleTrigger","getToggleWrapperClassName","DATERANGE_DISABLED_TARGET","pickerPropTypes","pickerDefaultProps","DateRangePicker","_React$Component","getDerivedStateFromProps","nextProps","prevState","value","selectValue","calendarDate","props","_this","call","menuContainerRef","triggerRef","getValue","state","getWeekHoverRange","date","isoWeek","getMonthHoverRange","handleChangeCalendarDate","index","setState","handleCloseDropdown","_this$triggerRef$curr","_this$triggerRef$curr2","current","hide","handleOpenDropdown","_this$triggerRef$curr3","_this$triggerRef$curr4","show","open","_this$handleOpenDropd","_this2","close","_this$handleCloseDrop","_this3","handleShortcutPageDate","closeOverlay","event","updateValue","handleOK","_this$props$onOk","_this$props","onOk","handleChangeSelectValue","_this$state","doneSelected","_this$props2","onSelect","oneTap","nextValue","nextHoverValue","getHoverRange","length","undefined","reverse","nextState","hoverValue","persist","handleMouseMoveSelectValue","_this$state2","currentHoverDate","hoverRange","handleClean","handleEnter","startDate","endData","defaultCalendarValue","active","handleEntered","_this$props$onOpen","_this$props3","onOpen","handleExit","_this$props$onClose","_this$props4","onClose","disabledOkButton","_this$state3","disabledByBetween","TOOLBAR_BUTTON_OK","disabledShortcutButton","TOOLBAR_SHORTCUT","handleDisabledDate","values","type","disabledDate","addPrefix","name","classPrefix","defaultValue","_value","activeValue","_calendarDate","createRef","_proto","prototype","getDateString","_this$props5","placeholder","formatType","format","renderValue","endDate","displayValue","sort","createElement","Fragment","formatStr","hoverRangeFunc","hoverValues","isHoverRangeValid","Array","resetPageDate","nextSelectValue","_this$state4","onChange","start","end","_this$state5","selectStartDate","selectEndDate","renderDropdownMenu","_classNames","_this$props6","menuClassName","ranges","limitEndYear","showWeekNumbers","showOneCalendar","_this$state6","classes","panelClasses","pickerProps","onMouseMove","onChangeCalendarDate","className","ref","onShortcut","hideOkButton","render","_this$props7","disabled","cleanable","locale","toggleComponentClass","style","onEntered","onEnter","onExited","onClean","rest","unhandled","hasValue","Provider","speaker","componentClass","Component","propTypes","array","arrayOf","instanceOf","Date","oneOfType","oneOf","func","string","bool","number","sunday","monday","tuesday","wednesday","thursday","friday","saturday","ok","today","yesterday","last7Days","hours","minutes","seconds"],"sources":["/Users/azminds/Documents/five-g/frontend/node_modules/rsuite/es/DateRangePicker/DateRangePicker.js"],"sourcesContent":["import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport compareAsc from \"date-fns/compare_asc\";\nimport endOfMonth from \"date-fns/end_of_month\";\nimport startOfMonth from \"date-fns/start_of_month\";\nimport endOfWeek from \"date-fns/end_of_week\";\nimport startOfWeek from \"date-fns/start_of_week\";\nimport endOfISOWeek from \"date-fns/end_of_iso_week\";\nimport startOfISOWeek from \"date-fns/start_of_iso_week\";\nimport addMonths from \"date-fns/add_months\";\nimport isSameMonth from \"date-fns/is_same_month\";\nimport isSameDay from \"date-fns/is_same_day\";\nimport isAfter from \"date-fns/is_after\";\nimport isBefore from \"date-fns/is_before\";\nimport addDays from \"date-fns/add_days\";\nimport IntlContext from '../IntlProvider/IntlContext';\nimport FormattedDate from '../IntlProvider/FormattedDate';\nimport Toolbar from './Toolbar';\nimport DatePicker from './DatePicker';\nimport { setTimingMargin, getCalendarDate } from './utils';\nimport { defaultProps, getUnhandledProps, prefix, createChainedFunction } from '../utils';\nimport { PickerToggle, MenuWrapper, PickerToggleTrigger, getToggleWrapperClassName } from '../Picker';\nimport { DATERANGE_DISABLED_TARGET } from '../constants';\nimport { pickerPropTypes, pickerDefaultProps } from '../Picker/propTypes';\n\nvar DateRangePicker =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(DateRangePicker, _React$Component);\n\n  DateRangePicker.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var value = nextProps.value;\n\n    if (typeof value === 'undefined') {\n      return null;\n    }\n\n    if (value[0] && !isSameDay(value[0], prevState.value[0]) || value[1] && !isSameDay(value[1], prevState.value[1])) {\n      return {\n        value: value,\n        selectValue: value,\n        calendarDate: getCalendarDate(value)\n      };\n    }\n\n    return null;\n  };\n\n  function DateRangePicker(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.menuContainerRef = void 0;\n    _this.triggerRef = void 0;\n\n    _this.getValue = function () {\n      var value = _this.props.value;\n\n      if (typeof value !== 'undefined') {\n        return value;\n      }\n\n      return _this.state.value || [];\n    };\n\n    _this.getWeekHoverRange = function (date) {\n      var isoWeek = _this.props.isoWeek;\n\n      if (isoWeek) {\n        // set to the first day of this week according to ISO 8601, 12:00 am\n        return [startOfISOWeek(date), endOfISOWeek(date)];\n      }\n\n      return [startOfWeek(date), endOfWeek(date)];\n    };\n\n    _this.getMonthHoverRange = function (date) {\n      return [startOfMonth(date), endOfMonth(date)];\n    };\n\n    _this.handleChangeCalendarDate = function (index, date) {\n      var calendarDate = _this.state.calendarDate;\n      calendarDate[index] = date;\n\n      _this.setState({\n        calendarDate: calendarDate\n      });\n    };\n\n    _this.handleCloseDropdown = function () {\n      var _this$triggerRef$curr, _this$triggerRef$curr2;\n\n      (_this$triggerRef$curr = _this.triggerRef.current) === null || _this$triggerRef$curr === void 0 ? void 0 : (_this$triggerRef$curr2 = _this$triggerRef$curr.hide) === null || _this$triggerRef$curr2 === void 0 ? void 0 : _this$triggerRef$curr2.call(_this$triggerRef$curr);\n    };\n\n    _this.handleOpenDropdown = function () {\n      var _this$triggerRef$curr3, _this$triggerRef$curr4;\n\n      (_this$triggerRef$curr3 = _this.triggerRef.current) === null || _this$triggerRef$curr3 === void 0 ? void 0 : (_this$triggerRef$curr4 = _this$triggerRef$curr3.show) === null || _this$triggerRef$curr4 === void 0 ? void 0 : _this$triggerRef$curr4.call(_this$triggerRef$curr3);\n    };\n\n    _this.open = function () {\n      var _this$handleOpenDropd, _this2;\n\n      (_this$handleOpenDropd = (_this2 = _this).handleOpenDropdown) === null || _this$handleOpenDropd === void 0 ? void 0 : _this$handleOpenDropd.call(_this2);\n    };\n\n    _this.close = function () {\n      var _this$handleCloseDrop, _this3;\n\n      (_this$handleCloseDrop = (_this3 = _this).handleCloseDropdown) === null || _this$handleCloseDrop === void 0 ? void 0 : _this$handleCloseDrop.call(_this3);\n    };\n\n    _this.handleShortcutPageDate = function (value, closeOverlay, event) {\n      _this.updateValue(event, value, closeOverlay);\n    };\n\n    _this.handleOK = function (event) {\n      var _this$props$onOk, _this$props;\n\n      _this.updateValue(event);\n\n      (_this$props$onOk = (_this$props = _this.props).onOk) === null || _this$props$onOk === void 0 ? void 0 : _this$props$onOk.call(_this$props, _this.state.selectValue, event);\n    };\n\n    _this.handleChangeSelectValue = function (date, event) {\n      var _this$state = _this.state,\n          selectValue = _this$state.selectValue,\n          doneSelected = _this$state.doneSelected;\n      var _this$props2 = _this.props,\n          onSelect = _this$props2.onSelect,\n          oneTap = _this$props2.oneTap;\n      var nextValue = [];\n\n      var nextHoverValue = _this.getHoverRange(date);\n\n      if (doneSelected) {\n        if (nextHoverValue.length) {\n          nextValue = [nextHoverValue[0], nextHoverValue[1], date];\n          nextHoverValue = [nextHoverValue[0], nextHoverValue[1], date];\n        } else {\n          nextValue = [date, undefined, date];\n        }\n      } else {\n        if (nextHoverValue.length) {\n          nextValue = [selectValue[0], selectValue[1]];\n        } else {\n          nextValue = [selectValue[0], date];\n        }\n\n        if (isAfter(nextValue[0], nextValue[1])) {\n          nextValue.reverse();\n        }\n\n        nextValue[0] = setTimingMargin(nextValue[0]);\n        nextValue[1] = setTimingMargin(nextValue[1]);\n\n        _this.setState({\n          calendarDate: getCalendarDate(nextValue)\n        });\n      }\n\n      var nextState = {\n        doneSelected: !doneSelected,\n        selectValue: nextValue,\n        hoverValue: nextHoverValue\n      };\n      event.persist();\n\n      _this.setState(nextState, function () {\n        // 如果是单击模式，并且是第一次点选，再触发一次点击\n        if (oneTap && !_this.state.doneSelected) {\n          _this.handleChangeSelectValue(date, event);\n        } // 如果是单击模式，并且是第二次点选，更新值，并关闭面板\n\n\n        if (oneTap && _this.state.doneSelected) {\n          _this.updateValue(event);\n        }\n\n        onSelect === null || onSelect === void 0 ? void 0 : onSelect(date, event);\n      });\n    };\n\n    _this.handleMouseMoveSelectValue = function (date) {\n      var _this$state2 = _this.state,\n          doneSelected = _this$state2.doneSelected,\n          selectValue = _this$state2.selectValue,\n          hoverValue = _this$state2.hoverValue,\n          currentHoverDate = _this$state2.currentHoverDate;\n      var hoverRange = _this.props.hoverRange;\n\n      if (currentHoverDate && isSameDay(date, currentHoverDate)) {\n        return;\n      }\n\n      var nextHoverValue = _this.getHoverRange(date);\n\n      if (doneSelected && !_isUndefined(hoverRange)) {\n        _this.setState({\n          currentHoverDate: date,\n          hoverValue: nextHoverValue\n        });\n\n        return;\n      } else if (doneSelected) {\n        return;\n      }\n\n      var nextValue = selectValue;\n\n      if (!nextHoverValue.length) {\n        nextValue[1] = date;\n      } else if (hoverValue) {\n        nextValue = [isBefore(nextHoverValue[0], hoverValue[0]) ? nextHoverValue[0] : hoverValue[0], isAfter(nextHoverValue[1], hoverValue[1]) ? nextHoverValue[1] : hoverValue[1], nextValue[2]];\n      } // If `nextValue[0]` is greater than `nextValue[1]` then reverse order\n\n\n      if (isAfter(nextValue[0], nextValue[1])) {\n        nextValue.reverse();\n      }\n\n      _this.setState({\n        currentHoverDate: date,\n        selectValue: nextValue\n      });\n    };\n\n    _this.handleClean = function (event) {\n      _this.setState({\n        calendarDate: getCalendarDate()\n      });\n\n      _this.updateValue(event, []);\n    };\n\n    _this.handleEnter = function () {\n      var value = _this.getValue();\n\n      var calendarDate;\n\n      if (value && value.length) {\n        var startDate = value[0],\n            endData = value[1];\n        calendarDate = [startDate, isSameMonth(startDate, endData) ? addMonths(endData, 1) : endData];\n      } else {\n        calendarDate = getCalendarDate(_this.props.defaultCalendarValue);\n      }\n\n      _this.setState({\n        selectValue: value,\n        calendarDate: calendarDate,\n        active: true\n      });\n    };\n\n    _this.handleEntered = function () {\n      var _this$props$onOpen, _this$props3;\n\n      (_this$props$onOpen = (_this$props3 = _this.props).onOpen) === null || _this$props$onOpen === void 0 ? void 0 : _this$props$onOpen.call(_this$props3);\n    };\n\n    _this.handleExit = function () {\n      var _this$props$onClose, _this$props4;\n\n      _this.setState({\n        active: false,\n        doneSelected: true\n      });\n\n      (_this$props$onClose = (_this$props4 = _this.props).onClose) === null || _this$props$onClose === void 0 ? void 0 : _this$props$onClose.call(_this$props4);\n    };\n\n    _this.disabledOkButton = function () {\n      var _this$state3 = _this.state,\n          selectValue = _this$state3.selectValue,\n          doneSelected = _this$state3.doneSelected;\n\n      if (!selectValue[0] || !selectValue[1] || !doneSelected) {\n        return true;\n      }\n\n      return _this.disabledByBetween(selectValue[0], selectValue[1], DATERANGE_DISABLED_TARGET.TOOLBAR_BUTTON_OK);\n    };\n\n    _this.disabledShortcutButton = function (value) {\n      if (value === void 0) {\n        value = [];\n      }\n\n      if (!value[0] || !value[1]) {\n        return true;\n      }\n\n      return _this.disabledByBetween(value[0], value[1], DATERANGE_DISABLED_TARGET.TOOLBAR_SHORTCUT);\n    };\n\n    _this.handleDisabledDate = function (date, values, type) {\n      var disabledDate = _this.props.disabledDate;\n      var doneSelected = _this.state.doneSelected;\n\n      if (disabledDate) {\n        return disabledDate(date, values, doneSelected, type);\n      }\n\n      return false;\n    };\n\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n\n    var defaultValue = props.defaultValue,\n        _value = props.value,\n        defaultCalendarValue = props.defaultCalendarValue;\n    var activeValue = _value || defaultValue || [];\n\n    var _calendarDate = getCalendarDate(_value || defaultCalendarValue);\n\n    _this.state = {\n      value: activeValue,\n      selectValue: activeValue,\n      doneSelected: true,\n      calendarDate: _calendarDate,\n      hoverValue: [],\n      currentHoverDate: null\n    }; // for test\n\n    _this.menuContainerRef = React.createRef();\n    _this.triggerRef = React.createRef();\n    return _this;\n  }\n\n  var _proto = DateRangePicker.prototype;\n\n  _proto.getDateString = function getDateString(value) {\n    var _this$props5 = this.props,\n        placeholder = _this$props5.placeholder,\n        formatType = _this$props5.format,\n        renderValue = _this$props5.renderValue;\n    var nextValue = value || this.getValue();\n    var startDate = nextValue === null || nextValue === void 0 ? void 0 : nextValue[0];\n    var endDate = nextValue === null || nextValue === void 0 ? void 0 : nextValue[1];\n\n    if (startDate && endDate) {\n      var displayValue = [startDate, endDate].sort(compareAsc);\n      return renderValue ? renderValue(displayValue, formatType) : React.createElement(React.Fragment, null, React.createElement(FormattedDate, {\n        date: displayValue[0],\n        formatStr: formatType\n      }), \" ~\", ' ', React.createElement(FormattedDate, {\n        date: displayValue[1],\n        formatStr: formatType\n      }));\n    }\n\n    return placeholder || formatType + \" ~ \" + formatType;\n  } // hover range presets\n  ;\n\n  _proto.getHoverRange = function getHoverRange(date) {\n    var hoverRange = this.props.hoverRange;\n\n    if (!hoverRange) {\n      return [];\n    }\n\n    var hoverRangeFunc = hoverRange;\n\n    if (hoverRange === 'week') {\n      hoverRangeFunc = this.getWeekHoverRange;\n    }\n\n    if (hoverRangeFunc === 'month') {\n      hoverRangeFunc = this.getMonthHoverRange;\n    }\n\n    if (typeof hoverRangeFunc !== 'function') {\n      return [];\n    }\n\n    var hoverValues = hoverRangeFunc(date);\n    var isHoverRangeValid = hoverValues instanceof Array && hoverValues.length === 2;\n\n    if (!isHoverRangeValid) {\n      return [];\n    }\n\n    if (isAfter(hoverValues[0], hoverValues[1])) {\n      hoverValues.reverse();\n    }\n\n    return hoverValues;\n  };\n\n  _proto.resetPageDate = function resetPageDate() {\n    var selectValue = this.getValue();\n    var calendarDate = getCalendarDate(selectValue);\n    this.setState({\n      selectValue: selectValue,\n      calendarDate: calendarDate\n    });\n  }\n  /**\n   * Toolbar operation callback function\n   */\n  ;\n\n  _proto.updateValue = function updateValue(event, nextSelectValue, closeOverlay) {\n    if (closeOverlay === void 0) {\n      closeOverlay = true;\n    }\n\n    var _this$state4 = this.state,\n        value = _this$state4.value,\n        selectValue = _this$state4.selectValue;\n    var onChange = this.props.onChange;\n    var nextValue = !_isUndefined(nextSelectValue) ? nextSelectValue : selectValue;\n    this.setState({\n      selectValue: nextValue || [],\n      value: nextValue\n    });\n\n    if (onChange && (!isSameDay(nextValue[0], value[0]) || !isSameDay(nextValue[1], value[1]))) {\n      onChange(nextValue, event);\n    } // `closeOverlay` default value is `true`\n\n\n    if (closeOverlay !== false) {\n      this.handleCloseDropdown();\n    }\n  };\n\n  _proto.disabledByBetween = function disabledByBetween(start, end, type) {\n    var disabledDate = this.props.disabledDate;\n    var _this$state5 = this.state,\n        selectValue = _this$state5.selectValue,\n        doneSelected = _this$state5.doneSelected;\n    var selectStartDate = selectValue[0];\n    var selectEndDate = selectValue[1];\n    var nextSelectValue = [selectStartDate, selectEndDate]; // If the date is between the start and the end\n    // the button is disabled\n\n    while (isBefore(start, end) || isSameDay(start, end)) {\n      if (disabledDate === null || disabledDate === void 0 ? void 0 : disabledDate(start, nextSelectValue, doneSelected, type)) {\n        return true;\n      }\n\n      start = addDays(start, 1);\n    }\n\n    return false;\n  };\n\n  _proto.renderDropdownMenu = function renderDropdownMenu() {\n    var _classNames;\n\n    var _this$props6 = this.props,\n        menuClassName = _this$props6.menuClassName,\n        ranges = _this$props6.ranges,\n        isoWeek = _this$props6.isoWeek,\n        limitEndYear = _this$props6.limitEndYear,\n        oneTap = _this$props6.oneTap,\n        showWeekNumbers = _this$props6.showWeekNumbers,\n        showOneCalendar = _this$props6.showOneCalendar;\n    var _this$state6 = this.state,\n        calendarDate = _this$state6.calendarDate,\n        selectValue = _this$state6.selectValue,\n        hoverValue = _this$state6.hoverValue,\n        doneSelected = _this$state6.doneSelected;\n    var classes = classNames(this.addPrefix('daterange-menu'), menuClassName);\n    var panelClasses = classNames(this.addPrefix('daterange-panel'), (_classNames = {}, _classNames[this.addPrefix('daterange-panel-show-one-calendar')] = showOneCalendar, _classNames));\n    var pickerProps = {\n      isoWeek: isoWeek,\n      doneSelected: doneSelected,\n      hoverValue: hoverValue,\n      calendarDate: calendarDate,\n      limitEndYear: limitEndYear,\n      showWeekNumbers: showWeekNumbers,\n      value: selectValue,\n      disabledDate: this.handleDisabledDate,\n      onSelect: this.handleChangeSelectValue,\n      onMouseMove: this.handleMouseMoveSelectValue,\n      onChangeCalendarDate: this.handleChangeCalendarDate,\n      showOneCalendar: showOneCalendar\n    };\n    return React.createElement(MenuWrapper, {\n      className: classes,\n      ref: this.menuContainerRef\n    }, React.createElement(\"div\", {\n      className: panelClasses\n    }, React.createElement(\"div\", {\n      className: this.addPrefix('daterange-content')\n    }, React.createElement(\"div\", {\n      className: this.addPrefix('daterange-header')\n    }, this.getDateString(selectValue)), React.createElement(\"div\", {\n      className: this.addPrefix(\"daterange-calendar-\" + (showOneCalendar ? 'single' : 'group'))\n    }, React.createElement(DatePicker, _extends({\n      index: 0\n    }, pickerProps)), !showOneCalendar && React.createElement(DatePicker, _extends({\n      index: 1\n    }, pickerProps)))), React.createElement(Toolbar, {\n      ranges: ranges,\n      selectValue: selectValue,\n      disabledOkButton: this.disabledOkButton,\n      disabledShortcutButton: this.disabledShortcutButton,\n      onShortcut: this.handleShortcutPageDate,\n      onOk: this.handleOK,\n      hideOkButton: oneTap\n    })));\n  };\n\n  _proto.render = function render() {\n    var _this$props7 = this.props,\n        disabled = _this$props7.disabled,\n        cleanable = _this$props7.cleanable,\n        locale = _this$props7.locale,\n        toggleComponentClass = _this$props7.toggleComponentClass,\n        style = _this$props7.style,\n        onEntered = _this$props7.onEntered,\n        onEnter = _this$props7.onEnter,\n        onExited = _this$props7.onExited,\n        onClean = _this$props7.onClean,\n        rest = _objectWithoutPropertiesLoose(_this$props7, [\"disabled\", \"cleanable\", \"locale\", \"toggleComponentClass\", \"style\", \"onEntered\", \"onEnter\", \"onExited\", \"onClean\"]);\n\n    var value = this.getValue();\n    var unhandled = getUnhandledProps(DateRangePicker, rest);\n    var hasValue = value && value.length > 1;\n    var classes = getToggleWrapperClassName('daterange', this.addPrefix, this.props, hasValue);\n    return React.createElement(IntlContext.Provider, {\n      value: locale\n    }, React.createElement(\"div\", {\n      className: classes,\n      style: style\n    }, React.createElement(PickerToggleTrigger, {\n      pickerProps: this.props,\n      ref: this.triggerRef,\n      onEnter: createChainedFunction(this.handleEnter, onEnter),\n      onEntered: createChainedFunction(this.handleEntered, onEntered),\n      onExited: createChainedFunction(this.handleExit, onExited),\n      speaker: this.renderDropdownMenu()\n    }, React.createElement(PickerToggle, _extends({}, unhandled, {\n      componentClass: toggleComponentClass,\n      onClean: createChainedFunction(this.handleClean, onClean),\n      cleanable: cleanable && !disabled,\n      hasValue: hasValue,\n      active: this.state.active,\n      \"aria-disabled\": disabled\n    }), this.getDateString()))));\n  };\n\n  return DateRangePicker;\n}(React.Component);\n\nDateRangePicker.propTypes = _extends({}, pickerPropTypes, {\n  ranges: PropTypes.array,\n  value: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  defaultValue: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  defaultCalendarValue: PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n  hoverRange: PropTypes.oneOfType([PropTypes.oneOf(['week', 'month']), PropTypes.func]),\n  format: PropTypes.string,\n  isoWeek: PropTypes.bool,\n  oneTap: PropTypes.bool,\n  limitEndYear: PropTypes.number,\n  showWeekNumbers: PropTypes.bool,\n  onChange: PropTypes.func,\n  onOk: PropTypes.func,\n  disabledDate: PropTypes.func,\n  onSelect: PropTypes.func,\n  showOneCalendar: PropTypes.bool\n});\nDateRangePicker.defaultProps = _extends({}, pickerDefaultProps, {\n  limitEndYear: 1000,\n  format: 'YYYY-MM-DD',\n  placeholder: '',\n  showOneCalendar: false,\n  locale: {\n    sunday: 'Su',\n    monday: 'Mo',\n    tuesday: 'Tu',\n    wednesday: 'We',\n    thursday: 'Th',\n    friday: 'Fr',\n    saturday: 'Sa',\n    ok: 'OK',\n    today: 'Today',\n    yesterday: 'Yesterday',\n    last7Days: 'Last 7 Days',\n    hours: 'Hours',\n    minutes: 'Minutes',\n    seconds: 'Seconds'\n  }\n});\nexport default defaultProps({\n  classPrefix: 'picker'\n})(DateRangePicker);"],"mappings":"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"},"metadata":{},"sourceType":"module"}