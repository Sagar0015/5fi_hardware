{"ast":null,"code":"import _uniq from \"lodash/uniq\";\nimport _remove from \"lodash/remove\";\nexport default function (props) {\n  var valueKey = props.valueKey,\n    childrenKey = props.childrenKey;\n  /**\n   * 获取一个节点的所有子节点的值\n   * @param {*} item\n   * @param {*} uncheckableItemValues\n   */\n\n  function getChildrenValue(item, uncheckableItemValues) {\n    var values = [];\n    if (!item[childrenKey]) {\n      return values;\n    }\n    item[childrenKey].forEach(function (n) {\n      if (uncheckableItemValues && !uncheckableItemValues.some(function (v) {\n        return v === n[valueKey];\n      })) {\n        values.push(n[valueKey]);\n      }\n      values = values.concat(getChildrenValue(n, uncheckableItemValues));\n    });\n    return values;\n  }\n  /**\n   * 获取一个节点的所有父辈节点\n   * @param {*} item\n   * @param {*} uncheckableItemValues\n   */\n\n  function getParents(item) {\n    var parents = [];\n    if (!item.parent) {\n      return parents;\n    }\n    parents.push(item.parent);\n    parents = parents.concat(getParents(item.parent));\n    return parents;\n  }\n  /**\n   * 删除一个节点下所有已选择的值\n   * @param {*} value\n   * @param {*} item\n   */\n\n  function removeAllChildrenValue(value, item) {\n    var removedValue = [];\n    if (!item[childrenKey]) {\n      return;\n    }\n    item[childrenKey].forEach(function (n) {\n      removedValue = removedValue.concat(_remove(value, function (v) {\n        return v === n[valueKey];\n      }));\n      if (n[childrenKey]) {\n        removeAllChildrenValue(value, n);\n      }\n    });\n    return removedValue;\n  }\n  function getOtherItemValuesByUnselectChild(itemNode, value) {\n    var parentValues = [];\n    var itemValues = []; // 通过 value 找到当前节点的父节点\n\n    function findParent(item) {\n      parentValues.push(item[valueKey]);\n      if (value.some(function (v) {\n        return v === item[valueKey];\n      })) {\n        return item;\n      }\n      if (item.parent) {\n        var p = findParent(item.parent);\n        if (p) {\n          return p;\n        }\n      }\n      return null;\n    } // 通过父节点获取子节点\n\n    function pushChildValue(item) {\n      if (!item[childrenKey]) {\n        return;\n      }\n      item[childrenKey].forEach(function (n) {\n        //判断是否是直属父级\n        if (parentValues.some(function (v) {\n          return v === n[valueKey];\n        }) && n[childrenKey]) {\n          pushChildValue(n);\n        } else if (n[valueKey] !== itemNode[valueKey]) {\n          itemValues.push(n[valueKey]);\n        }\n      });\n    }\n    var parent = findParent(itemNode);\n    if (!parent) {\n      return [];\n    }\n    pushChildValue(parent);\n    return itemValues;\n  }\n  /**\n   * 拆分值\n   * @param {*} item\n   * @param {*} checked\n   * @param {*} value\n   * @param {*} uncheckableItemValues\n   */\n\n  function splitValue(item, checked, value, uncheckableItemValues) {\n    if (uncheckableItemValues === void 0) {\n      uncheckableItemValues = [];\n    }\n    var itemValue = item[valueKey];\n    var childrenValue = getChildrenValue(item, uncheckableItemValues);\n    var parents = getParents(item);\n    var nextValue = [].concat(value);\n    var removedValue = [];\n    if (checked) {\n      nextValue.push(itemValue); // 删除当前节点下所有的值\n\n      removedValue = removedValue.concat(removeAllChildrenValue(nextValue, item));\n      /**\n       * 遍历当前节点所有祖宗节点\n       * 然后判断这些节点的子节点是否是否全部被选中，则自身也要被选中\n       */\n\n      var _loop = function _loop(i) {\n        // 父节点是否可以选择\n        var isCheckableParent = !uncheckableItemValues.some(function (v) {\n          return v === parents[i][valueKey];\n        });\n        if (isCheckableParent) {\n          var isCheckAll = parents[i][childrenKey] // 过滤掉被标识为不可选的选项\n          .filter(function (n) {\n            return !uncheckableItemValues.some(function (v) {\n              return v === n[valueKey];\n            });\n          }) // 检查是否所有节点都被选中\n          .every(function (n) {\n            return nextValue.some(function (v) {\n              return v === n[valueKey];\n            });\n          });\n          if (isCheckAll) {\n            // 添加父节点值\n            nextValue.push(parents[i][valueKey]); // 删除父节点下所有的值\n\n            removedValue = removedValue.concat(removeAllChildrenValue(nextValue, parents[i]));\n          }\n        }\n      };\n      for (var i = 0; i < parents.length; i++) {\n        _loop(i);\n      }\n    } else {\n      var tempValue = childrenValue.concat(parents.map(function (item) {\n        return item[valueKey];\n      }));\n      nextValue = nextValue.concat(getOtherItemValuesByUnselectChild(item, nextValue)); // 删除相关的子父节点\n\n      removedValue = _remove(nextValue, function (v) {\n        // 删除自己\n        if (v === itemValue) {\n          return true;\n        }\n        return tempValue.some(function (n) {\n          return n === v;\n        });\n      });\n    }\n    var uniqValue = _uniq(nextValue);\n    var uniqRemovedValue = _uniq(removedValue);\n    return {\n      value: uniqValue,\n      removedValue: uniqRemovedValue\n    };\n  }\n  /**\n   * 在 value 中的值存在级联的情况下\n   * 通过 value 重新计算出一个新的 value\n   */\n\n  function transformValue(value, flattenData, uncheckableItemValues) {\n    var tempRemovedValue = [];\n    var nextValue = [];\n    var _loop2 = function _loop2(i) {\n      // 如果当前 value 中的值已经在被删除列表中则不处理\n      if (tempRemovedValue.some(function (v) {\n        return v === value[i];\n      })) {\n        return \"continue\";\n      }\n      var item = flattenData.find(function (v) {\n        return v[valueKey] === value[i];\n      });\n      if (!item) {\n        return \"continue\";\n      }\n      var sv = splitValue(item, true, value, uncheckableItemValues);\n      tempRemovedValue = _uniq(tempRemovedValue.concat(sv.removedValue)); // 获取到所有相关的值\n\n      nextValue = _uniq(nextValue.concat(sv.value));\n    };\n    for (var i = 0; i < value.length; i++) {\n      var _ret = _loop2(i);\n      if (_ret === \"continue\") continue;\n    } // 最后遍历所有的 nextValue, 如果它的父节点也在nextValue则删除\n\n    return nextValue.filter(function (v) {\n      var item = flattenData.find(function (n) {\n        return n[valueKey] === v;\n      });\n      if ((item === null || item === void 0 ? void 0 : item.parent) && nextValue.some(function (v) {\n        return v === item.parent[valueKey];\n      })) {\n        return false;\n      }\n      return true;\n    });\n  }\n  function getItems(selectNode, flattenData) {\n    var items = [];\n    function findParent(item) {\n      if (item[childrenKey]) {\n        items.push(item[childrenKey]);\n      }\n      if (item.parent) {\n        findParent(item.parent);\n      }\n    }\n    if (selectNode) {\n      findParent(selectNode);\n    }\n    items.push(flattenData.filter(function (item) {\n      return item.parent === null;\n    }));\n    return items.reverse();\n  }\n  function isSomeChildChecked(node, value) {\n    if (value === void 0) {\n      value = [];\n    }\n    if (!node[childrenKey] || !value) {\n      return false;\n    }\n    return node[childrenKey].some(function (child) {\n      var _child$childrenKey;\n      if (value.some(function (n) {\n        return n === child[valueKey];\n      })) {\n        return true;\n      }\n      if ((_child$childrenKey = child[childrenKey]) === null || _child$childrenKey === void 0 ? void 0 : _child$childrenKey.length) {\n        return isSomeChildChecked(child, value);\n      }\n      return false;\n    });\n  }\n  function isSomeParentChecked(node, value) {\n    if (value === void 0) {\n      value = [];\n    }\n    if (!value) {\n      return false;\n    }\n    if (value.some(function (n) {\n      return n === node[valueKey];\n    })) {\n      return true;\n    }\n    if (node.parent) {\n      return isSomeParentChecked(node.parent, value);\n    }\n    return false;\n  }\n  return {\n    removeAllChildrenValue: removeAllChildrenValue,\n    getChildrenValue: getChildrenValue,\n    splitValue: splitValue,\n    transformValue: transformValue,\n    getOtherItemValuesByUnselectChild: getOtherItemValuesByUnselectChild,\n    getItems: getItems,\n    isSomeChildChecked: isSomeChildChecked,\n    isSomeParentChecked: isSomeParentChecked\n  };\n}","map":{"version":3,"names":["_uniq","_remove","props","valueKey","childrenKey","getChildrenValue","item","uncheckableItemValues","values","forEach","n","some","v","push","concat","getParents","parents","parent","removeAllChildrenValue","value","removedValue","getOtherItemValuesByUnselectChild","itemNode","parentValues","itemValues","findParent","p","pushChildValue","splitValue","checked","itemValue","childrenValue","nextValue","_loop","i","isCheckableParent","isCheckAll","filter","every","length","tempValue","map","uniqValue","uniqRemovedValue","transformValue","flattenData","tempRemovedValue","_loop2","find","sv","_ret","getItems","selectNode","items","reverse","isSomeChildChecked","node","child","_child$childrenKey","isSomeParentChecked"],"sources":["/Users/azminds/Documents/five-g/frontend/node_modules/rsuite/es/MultiCascader/utils.js"],"sourcesContent":["import _uniq from \"lodash/uniq\";\nimport _remove from \"lodash/remove\";\nexport default function (props) {\n  var valueKey = props.valueKey,\n      childrenKey = props.childrenKey;\n  /**\n   * 获取一个节点的所有子节点的值\n   * @param {*} item\n   * @param {*} uncheckableItemValues\n   */\n\n  function getChildrenValue(item, uncheckableItemValues) {\n    var values = [];\n\n    if (!item[childrenKey]) {\n      return values;\n    }\n\n    item[childrenKey].forEach(function (n) {\n      if (uncheckableItemValues && !uncheckableItemValues.some(function (v) {\n        return v === n[valueKey];\n      })) {\n        values.push(n[valueKey]);\n      }\n\n      values = values.concat(getChildrenValue(n, uncheckableItemValues));\n    });\n    return values;\n  }\n  /**\n   * 获取一个节点的所有父辈节点\n   * @param {*} item\n   * @param {*} uncheckableItemValues\n   */\n\n\n  function getParents(item) {\n    var parents = [];\n\n    if (!item.parent) {\n      return parents;\n    }\n\n    parents.push(item.parent);\n    parents = parents.concat(getParents(item.parent));\n    return parents;\n  }\n  /**\n   * 删除一个节点下所有已选择的值\n   * @param {*} value\n   * @param {*} item\n   */\n\n\n  function removeAllChildrenValue(value, item) {\n    var removedValue = [];\n\n    if (!item[childrenKey]) {\n      return;\n    }\n\n    item[childrenKey].forEach(function (n) {\n      removedValue = removedValue.concat(_remove(value, function (v) {\n        return v === n[valueKey];\n      }));\n\n      if (n[childrenKey]) {\n        removeAllChildrenValue(value, n);\n      }\n    });\n    return removedValue;\n  }\n\n  function getOtherItemValuesByUnselectChild(itemNode, value) {\n    var parentValues = [];\n    var itemValues = []; // 通过 value 找到当前节点的父节点\n\n    function findParent(item) {\n      parentValues.push(item[valueKey]);\n\n      if (value.some(function (v) {\n        return v === item[valueKey];\n      })) {\n        return item;\n      }\n\n      if (item.parent) {\n        var p = findParent(item.parent);\n\n        if (p) {\n          return p;\n        }\n      }\n\n      return null;\n    } // 通过父节点获取子节点\n\n\n    function pushChildValue(item) {\n      if (!item[childrenKey]) {\n        return;\n      }\n\n      item[childrenKey].forEach(function (n) {\n        //判断是否是直属父级\n        if (parentValues.some(function (v) {\n          return v === n[valueKey];\n        }) && n[childrenKey]) {\n          pushChildValue(n);\n        } else if (n[valueKey] !== itemNode[valueKey]) {\n          itemValues.push(n[valueKey]);\n        }\n      });\n    }\n\n    var parent = findParent(itemNode);\n\n    if (!parent) {\n      return [];\n    }\n\n    pushChildValue(parent);\n    return itemValues;\n  }\n  /**\n   * 拆分值\n   * @param {*} item\n   * @param {*} checked\n   * @param {*} value\n   * @param {*} uncheckableItemValues\n   */\n\n\n  function splitValue(item, checked, value, uncheckableItemValues) {\n    if (uncheckableItemValues === void 0) {\n      uncheckableItemValues = [];\n    }\n\n    var itemValue = item[valueKey];\n    var childrenValue = getChildrenValue(item, uncheckableItemValues);\n    var parents = getParents(item);\n    var nextValue = [].concat(value);\n    var removedValue = [];\n\n    if (checked) {\n      nextValue.push(itemValue); // 删除当前节点下所有的值\n\n      removedValue = removedValue.concat(removeAllChildrenValue(nextValue, item));\n      /**\n       * 遍历当前节点所有祖宗节点\n       * 然后判断这些节点的子节点是否是否全部被选中，则自身也要被选中\n       */\n\n      var _loop = function _loop(i) {\n        // 父节点是否可以选择\n        var isCheckableParent = !uncheckableItemValues.some(function (v) {\n          return v === parents[i][valueKey];\n        });\n\n        if (isCheckableParent) {\n          var isCheckAll = parents[i][childrenKey] // 过滤掉被标识为不可选的选项\n          .filter(function (n) {\n            return !uncheckableItemValues.some(function (v) {\n              return v === n[valueKey];\n            });\n          }) // 检查是否所有节点都被选中\n          .every(function (n) {\n            return nextValue.some(function (v) {\n              return v === n[valueKey];\n            });\n          });\n\n          if (isCheckAll) {\n            // 添加父节点值\n            nextValue.push(parents[i][valueKey]); // 删除父节点下所有的值\n\n            removedValue = removedValue.concat(removeAllChildrenValue(nextValue, parents[i]));\n          }\n        }\n      };\n\n      for (var i = 0; i < parents.length; i++) {\n        _loop(i);\n      }\n    } else {\n      var tempValue = childrenValue.concat(parents.map(function (item) {\n        return item[valueKey];\n      }));\n      nextValue = nextValue.concat(getOtherItemValuesByUnselectChild(item, nextValue)); // 删除相关的子父节点\n\n      removedValue = _remove(nextValue, function (v) {\n        // 删除自己\n        if (v === itemValue) {\n          return true;\n        }\n\n        return tempValue.some(function (n) {\n          return n === v;\n        });\n      });\n    }\n\n    var uniqValue = _uniq(nextValue);\n\n    var uniqRemovedValue = _uniq(removedValue);\n\n    return {\n      value: uniqValue,\n      removedValue: uniqRemovedValue\n    };\n  }\n  /**\n   * 在 value 中的值存在级联的情况下\n   * 通过 value 重新计算出一个新的 value\n   */\n\n\n  function transformValue(value, flattenData, uncheckableItemValues) {\n    var tempRemovedValue = [];\n    var nextValue = [];\n\n    var _loop2 = function _loop2(i) {\n      // 如果当前 value 中的值已经在被删除列表中则不处理\n      if (tempRemovedValue.some(function (v) {\n        return v === value[i];\n      })) {\n        return \"continue\";\n      }\n\n      var item = flattenData.find(function (v) {\n        return v[valueKey] === value[i];\n      });\n\n      if (!item) {\n        return \"continue\";\n      }\n\n      var sv = splitValue(item, true, value, uncheckableItemValues);\n      tempRemovedValue = _uniq(tempRemovedValue.concat(sv.removedValue)); // 获取到所有相关的值\n\n      nextValue = _uniq(nextValue.concat(sv.value));\n    };\n\n    for (var i = 0; i < value.length; i++) {\n      var _ret = _loop2(i);\n\n      if (_ret === \"continue\") continue;\n    } // 最后遍历所有的 nextValue, 如果它的父节点也在nextValue则删除\n\n\n    return nextValue.filter(function (v) {\n      var item = flattenData.find(function (n) {\n        return n[valueKey] === v;\n      });\n\n      if ((item === null || item === void 0 ? void 0 : item.parent) && nextValue.some(function (v) {\n        return v === item.parent[valueKey];\n      })) {\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  function getItems(selectNode, flattenData) {\n    var items = [];\n\n    function findParent(item) {\n      if (item[childrenKey]) {\n        items.push(item[childrenKey]);\n      }\n\n      if (item.parent) {\n        findParent(item.parent);\n      }\n    }\n\n    if (selectNode) {\n      findParent(selectNode);\n    }\n\n    items.push(flattenData.filter(function (item) {\n      return item.parent === null;\n    }));\n    return items.reverse();\n  }\n\n  function isSomeChildChecked(node, value) {\n    if (value === void 0) {\n      value = [];\n    }\n\n    if (!node[childrenKey] || !value) {\n      return false;\n    }\n\n    return node[childrenKey].some(function (child) {\n      var _child$childrenKey;\n\n      if (value.some(function (n) {\n        return n === child[valueKey];\n      })) {\n        return true;\n      }\n\n      if ((_child$childrenKey = child[childrenKey]) === null || _child$childrenKey === void 0 ? void 0 : _child$childrenKey.length) {\n        return isSomeChildChecked(child, value);\n      }\n\n      return false;\n    });\n  }\n\n  function isSomeParentChecked(node, value) {\n    if (value === void 0) {\n      value = [];\n    }\n\n    if (!value) {\n      return false;\n    }\n\n    if (value.some(function (n) {\n      return n === node[valueKey];\n    })) {\n      return true;\n    }\n\n    if (node.parent) {\n      return isSomeParentChecked(node.parent, value);\n    }\n\n    return false;\n  }\n\n  return {\n    removeAllChildrenValue: removeAllChildrenValue,\n    getChildrenValue: getChildrenValue,\n    splitValue: splitValue,\n    transformValue: transformValue,\n    getOtherItemValuesByUnselectChild: getOtherItemValuesByUnselectChild,\n    getItems: getItems,\n    isSomeChildChecked: isSomeChildChecked,\n    isSomeParentChecked: isSomeParentChecked\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}